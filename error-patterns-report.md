# Common Error Patterns Report

Generated on: 2025-07-18T23:32:50.067Z
Total errors found: 5414

## 🔴 High Severity Errors

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 302
**Context:** `toast.error('Error fetching institution:', error instanceof Error ? error.message : 'Unknown error');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 330
**Context:** `toast.error('Error fetching institutions:', error instanceof Error ? error.message : 'Unknown error');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 370
**Context:** `console.error('Error fetching categories:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 371
**Context:** `toast.error('Error fetching categories:', error instanceof Error ? error.message : 'Unknown error');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 833
**Context:** `toast.error('Error fetching courses:', error instanceof Error ? error.message : 'Unknown error');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\page.tsx`
**Line:** 98
**Context:** `toast.error('Error fetching data:', error instanceof Error ? error.message : 'Unknown error');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\page.tsx`
**Line:** 103
**Context:** `toast.error('Error fetching data:', error instanceof Error ? error.message : 'Unknown error');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\page.tsx`
**Line:** 93
**Context:** `toast.error('Error fetching data:', error instanceof Error ? error.message : 'Unknown error');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\page.tsx`
**Line:** 108
**Context:** `toast.error('Error fetching quiz analytics:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 93
**Context:** `toast.error('Error fetching data:', error instanceof Error ? error.message : 'Unknown error');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\page.tsx`
**Line:** 89
**Context:** `toast.error('Error fetching data:', error instanceof Error ? error.message : 'Unknown error');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 258
**Context:** `toast.error('Error fetching data:', error instanceof Error ? error.message : 'Unknown error');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 285
**Context:** `toast.error('Error fetching data:', error instanceof Error ? error.message : 'Unknown error');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\page.tsx`
**Line:** 123
**Context:** `toast.error('Error fetching course:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institution-monetization\page.tsx`
**Line:** 102
**Context:** `toast.error('Error fetching institutions:', error instanceof Error ? error.message : 'Unknown error');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\page.tsx`
**Line:** 79
**Context:** `toast.error('Error fetching institutions:', error instanceof Error ? error.message : 'Unknown error');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\courses\page.tsx`
**Line:** 115
**Context:** `toast.error('Error fetching institution courses:', error instanceof Error ? error.message : 'Unknown error');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\courses\page.tsx`
**Line:** 131
**Context:** `toast.error('Error fetching categories:', error instanceof Error ? error.message : 'Unknown error');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\edit\page.tsx`
**Line:** 41
**Context:** `toast.error('Error fetching institution:', error instanceof Error ? error.message : 'Unknown error');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\permissions\page.tsx`
**Line:** 95
**Context:** `toast.error('Error fetching data:', error instanceof Error ? error.message : 'Unknown error');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\users\page.tsx`
**Line:** 83
**Context:** `toast.error('Error fetching users:', error instanceof Error ? error.message : 'Unknown error');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\payments\page.tsx`
**Line:** 136
**Context:** `toast.error('Error fetching data:', error instanceof Error ? error.message : 'Unknown error');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\question-banks\page.tsx`
**Line:** 60
**Context:** `toast.error('Error fetching question banks:', error instanceof Error ? error.message : 'Unknown error');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\question-templates\page.tsx`
**Line:** 86
**Context:** `toast.error('Error fetching question templates:', error instanceof Error ? error.message : 'Unknown error');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\revenue\page.tsx`
**Line:** 109
**Context:** `console.error('Error fetching revenue data:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\commission-tiers\page.tsx`
**Line:** 151
**Context:** `toast.error('Error fetching data:', error instanceof Error ? error.message : 'Unknown error');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\notifications\templates\page.tsx`
**Line:** 143
**Context:** `toast.error('Error fetching templates:', error instanceof Error ? error.message : 'Unknown error');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 275
**Context:** `toast.error('Error fetching institutions:', error instanceof Error ? error.message : 'Unknown error');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 291
**Context:** `toast.error('Error fetching email settings:', error instanceof Error ? error.message : 'Unknown error');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 563
**Context:** `toast.error('Error fetching notification templates:', error instanceof Error ? error.message : 'Unknown error');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 584
**Context:** `toast.error('Error fetching notification logs:', error instanceof Error ? error.message : 'Unknown error');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 598
**Context:** `toast.error('Error fetching notification stats:', error instanceof Error ? error.message : 'Unknown error');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 759
**Context:** `console.error('Error fetching scripts:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\payment-approval\page.tsx`
**Line:** 114
**Context:** `toast.error('Error fetching settings:', error instanceof Error ? error.message : 'Unknown error');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\subscriptions\page.tsx`
**Line:** 103
**Context:** `console.error('Error fetching subscriptions:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\subscriptions\page.tsx`
**Line:** 118
**Context:** `console.error('Error fetching stats:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\subscriptions\[id]\edit\page.tsx`
**Line:** 87
**Context:** `console.error('Error fetching subscription:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\tags\page.tsx`
**Line:** 185
**Context:** `console.error('Error fetching tags:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\tags\page.tsx`
**Line:** 206
**Context:** `console.error('Error fetching analytics:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\users\page.tsx`
**Line:** 86
**Context:** `console.error('Error fetching users:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\users\[userId]\page.tsx`
**Line:** 66
**Context:** `console.error('Error fetching user:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 302
**Context:** `toast.error('Error fetching institution:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 330
**Context:** `toast.error('Error fetching institutions:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 370
**Context:** `console.error('Error fetching categories:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 371
**Context:** `toast.error('Error fetching categories:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 833
**Context:** `toast.error('Error fetching courses:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\page.tsx`
**Line:** 98
**Context:** `toast.error('Error fetching data:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\page.tsx`
**Line:** 103
**Context:** `toast.error('Error fetching data:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\page.tsx`
**Line:** 93
**Context:** `toast.error('Error fetching data:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\page.tsx`
**Line:** 108
**Context:** `toast.error('Error fetching quiz analytics:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 93
**Context:** `toast.error('Error fetching data:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\page.tsx`
**Line:** 89
**Context:** `toast.error('Error fetching data:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 258
**Context:** `toast.error('Error fetching data:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 285
**Context:** `toast.error('Error fetching data:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\page.tsx`
**Line:** 123
**Context:** `toast.error('Error fetching course:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institution-monetization\page.tsx`
**Line:** 102
**Context:** `toast.error('Error fetching institutions:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\page.tsx`
**Line:** 79
**Context:** `toast.error('Error fetching institutions:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\courses\page.tsx`
**Line:** 115
**Context:** `toast.error('Error fetching institution courses:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\courses\page.tsx`
**Line:** 131
**Context:** `toast.error('Error fetching categories:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\edit\page.tsx`
**Line:** 41
**Context:** `toast.error('Error fetching institution:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\permissions\page.tsx`
**Line:** 95
**Context:** `toast.error('Error fetching data:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\users\page.tsx`
**Line:** 83
**Context:** `toast.error('Error fetching users:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\payments\page.tsx`
**Line:** 136
**Context:** `toast.error('Error fetching data:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\question-banks\page.tsx`
**Line:** 60
**Context:** `toast.error('Error fetching question banks:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\question-templates\page.tsx`
**Line:** 86
**Context:** `toast.error('Error fetching question templates:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\commission-tiers\page.tsx`
**Line:** 151
**Context:** `toast.error('Error fetching data:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\notifications\templates\page.tsx`
**Line:** 143
**Context:** `toast.error('Error fetching templates:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 269
**Context:** `toast.error('Error fetching institutions:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 285
**Context:** `toast.error('Error fetching email settings:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 557
**Context:** `toast.error('Error fetching notification templates:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 578
**Context:** `toast.error('Error fetching notification logs:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 592
**Context:** `toast.error('Error fetching notification stats:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\payment-approval\page.tsx`
**Line:** 114
**Context:** `toast.error('Error fetching settings:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\revenue\page.tsx`
**Line:** 109
**Context:** `console.error('Error fetching revenue data:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\subscriptions\page.tsx`
**Line:** 103
**Context:** `console.error('Error fetching subscriptions:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\subscriptions\page.tsx`
**Line:** 118
**Context:** `console.error('Error fetching stats:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\subscriptions\[id]\edit\page.tsx`
**Line:** 87
**Context:** `console.error('Error fetching subscription:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\tags\page.tsx`
**Line:** 185
**Context:** `console.error('Error fetching tags:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\tags\page.tsx`
**Line:** 206
**Context:** `console.error('Error fetching analytics:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\users\page.tsx`
**Line:** 86
**Context:** `console.error('Error fetching users:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\users\[userId]\page.tsx`
**Line:** 66
**Context:** `console.error('Error fetching user:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\advertising\route.ts`
**Line:** 244
**Context:** `console.error('Error fetching advertising data:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\categories\route.ts`
**Line:** 24
**Context:** `console.error('Error fetching categories:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\categories\[categoryId]\route.ts`
**Line:** 34
**Context:** `console.error('Error fetching category:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\priority\route.ts`
**Line:** 183
**Context:** `console.error('Error fetching course priority:', error);`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\update-weekly-prices\route.ts`
**Line:** 75
**Context:** `return NextResponse.json({ error: 'Failed to update weekly prices' }, { status: 500 });`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\enrollments\route.ts`
**Line:** 137
**Context:** `console.error('Error fetching course enrollments:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\route.ts`
**Line:** 95
**Context:** `console.error('Error fetching modules:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\content\route.ts`
**Line:** 52
**Context:** `console.error('Error fetching content:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 68
**Context:** `console.error('Error fetching quizzes:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\analytics\route.ts`
**Line:** 107
**Context:** `console.error('Error fetching quiz analytics:');`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\analytics\route.ts`
**Line:** 108
**Context:** `return NextResponse.json({ error: 'Failed to fetch analytics' }, { status: 500 });`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 246
**Context:** `console.error('Error fetching questions:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 96
**Context:** `console.error('Error fetching question:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\route.ts`
**Line:** 72
**Context:** `console.error('Error fetching quiz:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 70
**Context:** `console.error('Error fetching module:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\route.ts`
**Line:** 94
**Context:** `console.error('Error fetching course:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institution-monetization\route.ts`
**Line:** 118
**Context:** `console.error('Error fetching institution monetization data:', error instanceof Error ? error.message : error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\route.ts`
**Line:** 65
**Context:** `console.error('Error fetching institutions:', error instanceof Error ? error.message : error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\settings\route.ts`
**Line:** 39
**Context:** `console.error('Error fetching institution settings:', error instanceof Error ? error.message : error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\commission-rate\route.ts`
**Line:** 101
**Context:** `console.error('Error fetching commission rate logs:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\permissions\route.ts`
**Line:** 58
**Context:** `console.error('Error fetching institution permissions:', error instanceof Error ? error.message : error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\route.ts`
**Line:** 69
**Context:** `console.error('Error fetching institution:', error instanceof Error ? error.message : error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\users\route.ts`
**Line:** 50
**Context:** `console.error('Error fetching institution users:', error instanceof Error ? error.message : error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\payments\pending-count\route.ts`
**Line:** 37
**Context:** `console.error('Error fetching pending payments count:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\payments\route.ts`
**Line:** 133
**Context:** `console.error('Error fetching payments:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\performance\health\route.ts`
**Line:** 20
**Context:** `console.error('Error fetching system health:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\performance\metrics\route.ts`
**Line:** 20
**Context:** `console.error('Error fetching performance metrics:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\commission-tiers\route.ts`
**Line:** 22
**Context:** `console.error('Error fetching commission tiers:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\email\route.ts`
**Line:** 36
**Context:** `console.error('Error fetching email settings:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\stats\route.ts`
**Line:** 132
**Context:** `console.error('Error fetching notification statistics:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\templates\route.ts`
**Line:** 64
**Context:** `console.error('Error fetching notification templates:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\templates\[id]\route.ts`
**Line:** 66
**Context:** `console.error('Error fetching notification template:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\payment-approval\route.ts`
**Line:** 104
**Context:** `console.error('Error fetching payment approval settings:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\subscription-plans\route.ts`
**Line:** 102
**Context:** `console.error('Error fetching subscription plans:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\subscriptions\route.ts`
**Line:** 82
**Context:** `console.error('Error fetching subscriptions:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\subscriptions\stats\route.ts`
**Line:** 108
**Context:** `console.error('Error fetching subscription stats:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\subscriptions\[id]\route.ts`
**Line:** 46
**Context:** `console.error('Error fetching subscription:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\tags\route.ts`
**Line:** 67
**Context:** `console.error('Error fetching tags:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\users\route.ts`
**Line:** 33
**Context:** `console.error('Error fetching users:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\users\[userId]\route.ts`
**Line:** 54
**Context:** `console.error('Error fetching user:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\users\[userId]\route.ts`
**Line:** 56
**Context:** `{ message: 'Error fetching user', error: error instanceof Error ? error.message : 'Unknown error' },`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\analytics\leads\route.ts`
**Line:** 123
**Context:** `console.error('Error fetching lead analytics:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\user\route.ts`
**Line:** 38
**Context:** `console.error('Error fetching user:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\bookings\route.ts`
**Line:** 160
**Context:** `console.error('Error fetching bookings:', error)`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\categories\route.ts`
**Line:** 34
**Context:** `console.error('Error fetching categories:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\by-country\route.ts`
**Line:** 48
**Context:** `console.error('Error fetching courses by country:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\public\route.ts`
**Line:** 139
**Context:** `console.error('Error fetching public courses:', error)`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\route.ts`
**Line:** 54
**Context:** `console.error('Error fetching courses:', error)`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\route_new.ts`
**Line:** 54
**Context:** `console.error('Error fetching courses:', error)`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\monthly-pricing\route.ts`
**Line:** 32
**Context:** `console.error('Error fetching monthly prices:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\pricing\route.ts`
**Line:** 118
**Context:** `console.error('Error fetching weekly prices:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\pricing-rules\route.ts`
**Line:** 89
**Context:** `console.error('Error fetching pricing rules:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\route.ts`
**Line:** 59
**Context:** `console.error('Error fetching course:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\tags\route.ts`
**Line:** 30
**Context:** `console.error('Error fetching course tags:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\analytics\stats\route.ts`
**Line:** 92
**Context:** `console.error('Error fetching institution stats:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\categories\route.ts`
**Line:** 31
**Context:** `console.error('Error fetching institution types:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\collaboration\stats\route.ts`
**Line:** 154
**Context:** `console.error('Error fetching collaboration stats:');`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\collaboration\stats\route.ts`
**Line:** 155
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\commission-rate\route.ts`
**Line:** 130
**Context:** `console.error('Error fetching commission rate logs:');`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\route.ts`
**Line:** 405
**Context:** `return NextResponse.json({ error: 'Failed to update course' }, { status: 500 });`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\update-weekly-prices\route.ts`
**Line:** 48
**Context:** `return NextResponse.json({ error: 'Failed to update weekly prices' }, { status: 500 });`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\enrollments\route.ts`
**Line:** 143
**Context:** `console.error('Error fetching course enrollments:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\route.ts`
**Line:** 87
**Context:** `console.error('Error fetching modules:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\content\[contentId]\route.ts`
**Line:** 59
**Context:** `console.error('Error fetching content:');`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\content\[contentId]\route.ts`
**Line:** 60
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\content\[contentId]\route.ts`
**Line:** 119
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\content\[contentId]\route.ts`
**Line:** 163
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\route.ts`
**Line:** 65
**Context:** `console.error('Error fetching exercises:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\[exerciseId]\route.ts`
**Line:** 66
**Context:** `console.error('Error fetching exercise:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 59
**Context:** `console.error('Error fetching quizzes:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 73
**Context:** `console.error('Error fetching quiz questions:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 76
**Context:** `console.error('Error fetching question:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\route.ts`
**Line:** 101
**Context:** `console.error('Error fetching quiz:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\monthly-prices\route.ts`
**Line:** 131
**Context:** `console.error('Error fetching monthly prices:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\route.ts`
**Line:** 130
**Context:** `console.error('Error fetching course:');`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\route.ts`
**Line:** 131
**Context:** `return NextResponse.json({ error: 'Failed to fetch course' }, { status: 500 });`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\route.ts`
**Line:** 311
**Context:** `return NextResponse.json({ error: 'Failed to delete course' }, { status: 500 });`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\weekly-prices\route.ts`
**Line:** 133
**Context:** `console.error('Error fetching weekly prices:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\current\route.ts`
**Line:** 33
**Context:** `console.error('Error fetching institution data:', error instanceof Error ? error.message : error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\info\route.ts`
**Line:** 49
**Context:** `console.error('Error fetching institution info:', error instanceof Error ? error.message : error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\payments\route.ts`
**Line:** 140
**Context:** `console.error('Error fetching payments:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\payouts\route.ts`
**Line:** 47
**Context:** `console.error('Error fetching payouts:');`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\profile\facilities\route.ts`
**Line:** 147
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\profile\facilities\route.ts`
**Line:** 232
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\profile\route.ts`
**Line:** 70
**Context:** `console.error('Error fetching institution profile:', error instanceof Error ? error.message : error);`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\bulk-delete\route.ts`
**Line:** 63
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\bulk-export\route.ts`
**Line:** 97
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\bulk-update\route.ts`
**Line:** 80
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\import\route.ts`
**Line:** 95
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\route.ts`
**Line:** 70
**Context:** `console.error('Error fetching question banks:');`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\route.ts`
**Line:** 71
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\route.ts`
**Line:** 119
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\copy\route.ts`
**Line:** 98
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\export\route.ts`
**Line:** 124
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\import\route.ts`
**Line:** 155
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\bulk\route.ts`
**Line:** 63
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\bulk\route.ts`
**Line:** 152
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\bulk-delete\route.ts`
**Line:** 83
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\route.ts`
**Line:** 73
**Context:** `console.error('Error fetching questions:');`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\route.ts`
**Line:** 74
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\route.ts`
**Line:** 159
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\share\route.ts`
**Line:** 140
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\[questionId]\route.ts`
**Line:** 66
**Context:** `console.error('Error fetching question:');`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\[questionId]\route.ts`
**Line:** 67
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\[questionId]\route.ts`
**Line:** 165
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\[questionId]\route.ts`
**Line:** 235
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\route.ts`
**Line:** 38
**Context:** `console.error('Error fetching question bank:');`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\route.ts`
**Line:** 39
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\route.ts`
**Line:** 92
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\route.ts`
**Line:** 125
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-templates\route.ts`
**Line:** 39
**Context:** `console.error('Error fetching question templates:');`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-templates\route.ts`
**Line:** 40
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-templates\route.ts`
**Line:** 85
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-templates\[id]\copy\route.ts`
**Line:** 79
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-templates\[id]\route.ts`
**Line:** 44
**Context:** `console.error('Error fetching question template:');`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-templates\[id]\route.ts`
**Line:** 45
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-templates\[id]\route.ts`
**Line:** 89
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-templates\[id]\route.ts`
**Line:** 124
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\questions\[id]\copy\route.ts`
**Line:** 129
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\questions\[id]\copy-to-course\route.ts`
**Line:** 152
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\questions\[id]\rate\route.ts`
**Line:** 86
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\quizzes\route.ts`
**Line:** 142
**Context:** `console.error('Error fetching quizzes:');`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\quizzes\route.ts`
**Line:** 143
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\settings\discount\route.ts`
**Line:** 55
**Context:** `console.error('Error fetching discount settings:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\settings\payment-approval\route.ts`
**Line:** 75
**Context:** `console.error('Error fetching institution payment settings:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\settings\route.ts`
**Line:** 68
**Context:** `console.error('Error fetching institution settings:', error instanceof Error ? error.message : error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\shared-questions\route.ts`
**Line:** 148
**Context:** `console.error('Error fetching shared questions:');`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\shared-questions\route.ts`
**Line:** 149
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\stats\route.ts`
**Line:** 169
**Context:** `console.error('Error fetching stats:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\students\route.ts`
**Line:** 135
**Context:** `console.error('Error fetching students:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\students\[id]\route.ts`
**Line:** 94
**Context:** `console.error('Error fetching student details:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\billing-history\route.ts`
**Line:** 70
**Context:** `console.error('Error fetching billing history:');`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\billing-history\route.ts`
**Line:** 71
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\payment\route.ts`
**Line:** 62
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\route.ts`
**Line:** 88
**Context:** `console.error('Error fetching institution subscription:', error instanceof Error ? error.message : error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\route.ts`
**Line:** 84
**Context:** `console.error('Error fetching institutions:', error)`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\route.ts`
**Line:** 127
**Context:** `console.error('Error fetching institution:', error instanceof Error ? error.message : error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\locations\route.ts`
**Line:** 77
**Context:** `console.error('Error fetching location data:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\preferences\route.ts`
**Line:** 65
**Context:** `console.error('Error fetching notification preferences:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\route.ts`
**Line:** 75
**Context:** `console.error('Error fetching notifications:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\stats\route.ts`
**Line:** 41
**Context:** `console.error('Error fetching stats:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\route.ts`
**Line:** 158
**Context:** `console.error('Error fetching courses:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\modules\[moduleId]\quizzes\[quizId]\attempts\route.ts`
**Line:** 48
**Context:** `console.error('Error fetching quiz attempts:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\route.ts`
**Line:** 143
**Context:** `console.error('Error fetching course details:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\achievements\route.ts`
**Line:** 44
**Context:** `console.error('Error fetching achievements:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\courses\route.ts`
**Line:** 179
**Context:** `console.error('Error fetching course progress:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\quiz-stats\route.ts`
**Line:** 155
**Context:** `console.error('Error fetching quiz stats:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\recent-modules\route.ts`
**Line:** 89
**Context:** `console.error('Error fetching recent modules:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\route.ts`
**Line:** 203
**Context:** `console.error('Error fetching dashboard data:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\stats\route.ts`
**Line:** 141
**Context:** `console.error('Error fetching learning stats:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\learning-path\route.ts`
**Line:** 174
**Context:** `console.error('Error fetching learning path:');`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\profile\password\route.ts`
**Line:** 58
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\profile\route.ts`
**Line:** 110
**Context:** `console.error('Error fetching student profile:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\progress\route.ts`
**Line:** 151
**Context:** `console.error('Error fetching progress:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\progress-visualization\route.ts`
**Line:** 133
**Context:** `console.error('Error fetching progress visualization:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\billing-history\route.ts`
**Line:** 73
**Context:** `console.error('Error fetching student billing history:');`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\billing-history\route.ts`
**Line:** 74
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\payment\route.ts`
**Line:** 62
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\route.ts`
**Line:** 36
**Context:** `console.error('Error fetching student subscription:');`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\route.ts`
**Line:** 37
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\tags\analytics\route.ts`
**Line:** 82
**Context:** `console.error('Error fetching tag analytics:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\tags\public\route.ts`
**Line:** 75
**Context:** `console.error('Error fetching public tags:', error);`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\tags\route.ts`
**Line:** 158
**Context:** `return NextResponse.json({ error: 'Database error occurred' }, { status: 500 });`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\tags\route.ts`
**Line:** 162
**Context:** `return NextResponse.json({ error: 'Internal server error' }, { status: 500 });`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\tags\route.ts`
**Line:** 225
**Context:** `return NextResponse.json({ error: 'Failed to create tag' }, { status: 500 });`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\tags\[id]\route.ts`
**Line:** 32
**Context:** `console.error('Error fetching tag:');`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\tags\[id]\route.ts`
**Line:** 136
**Context:** `return NextResponse.json({ error: 'Failed to update tag' }, { status: 500 });`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\tags\[id]\route.ts`
**Line:** 199
**Context:** `return NextResponse.json({ error: 'Failed to delete tag' }, { status: 500 });`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\user\settings\route.ts`
**Line:** 49
**Context:** `console.error('Error fetching user settings:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\awaiting-approval\page.tsx`
**Line:** 44
**Context:** `toast.error('Error fetching institution:', error instanceof Error ? error.message : 'Unknown error');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\LocationSelect.tsx`
**Line:** 46
**Context:** `toast.error('Error fetching ${type}s:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\NotificationBell.tsx`
**Line:** 51
**Context:** `console.error('Error fetching notifications:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\NotificationDashboard.tsx`
**Line:** 81
**Context:** `console.error('Error fetching notifications:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\NotificationDashboard.tsx`
**Line:** 96
**Context:** `console.error('Error fetching preferences:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\student\LearningPath.tsx`
**Line:** 94
**Context:** `toast.error('Error fetching learning path:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\student\NotificationPreferences.tsx`
**Line:** 139
**Context:** `toast.error('Error fetching preferences:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\student\PersonalizedRecommendations.tsx`
**Line:** 85
**Context:** `toast.error('Error fetching recommendations:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\student\ProgressVisualization.tsx`
**Line:** 80
**Context:** `toast.error('Error fetching progress data:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\hooks\useCurrency.ts`
**Line:** 47
**Context:** `console.error('Error fetching currency settings:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\analytics\InstitutionAnalyticsClient.tsx`
**Line:** 102
**Context:** `toast.error('Error fetching analytics:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\analytics\quiz-analytics\page.tsx`
**Line:** 89
**Context:** `toast.error('Error fetching analytics:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\collaboration\page.tsx`
**Line:** 83
**Context:** `toast.error('Error fetching collaboration stats:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\content-management\page.tsx`
**Line:** 94
**Context:** `toast.error('Error fetching content data:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\components\MonthlyPricingTable.tsx`
**Line:** 114
**Context:** `toast.error('Error fetching monthly prices:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 166
**Context:** `toast.error('Error fetching courses:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 201
**Context:** `toast.error('Error fetching categories:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\edit\page.tsx`
**Line:** 126
**Context:** `toast.error('Error fetching course:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\edit\page.tsx`
**Line:** 140
**Context:** `toast.error('Error fetching categories:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\new\page.tsx`
**Line:** 63
**Context:** `toast.error('Error fetching course:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\page.tsx`
**Line:** 55
**Context:** `toast.error('Error fetching modules:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\page.tsx`
**Line:** 90
**Context:** `toast.error('Error fetching module:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\[contentId]\edit\page.tsx`
**Line:** 83
**Context:** `toast.error('Error fetching content:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\edit\page.tsx`
**Line:** 86
**Context:** `toast.error('Error fetching module:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\edit\page.tsx`
**Line:** 100
**Context:** `toast.error('Error fetching course:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\page.tsx`
**Line:** 74
**Context:** `toast.error('Error fetching data:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 61
**Context:** `toast.error('Error fetching quiz:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\page.tsx`
**Line:** 62
**Context:** `toast.error('Error fetching quiz:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 72
**Context:** `toast.error('Error fetching quiz:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\page.tsx`
**Line:** 58
**Context:** `toast.error('Error fetching quiz:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 142
**Context:** `toast.error('Error fetching data:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\page.tsx`
**Line:** 109
**Context:** `toast.error('Error fetching course:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\dashboard\DashboardClient.tsx`
**Line:** 85
**Context:** `toast.error('Error fetching payment settings:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\payments\page.tsx`
**Line:** 98
**Context:** `toast.error('Error fetching data:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 148
**Context:** `toast.error('6. Error fetching institution:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 166
**Context:** `toast.error('Error fetching analytics:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\page.tsx`
**Line:** 142
**Context:** `toast.error('Error fetching question banks:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\page.tsx`
**Line:** 157
**Context:** `toast.error('Error fetching question templates:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\page.tsx`
**Line:** 172
**Context:** `toast.error('Error fetching question bank:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\page.tsx`
**Line:** 188
**Context:** `toast.error('Error fetching questions:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\page.tsx`
**Line:** 203
**Context:** `toast.error('Error fetching templates:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\share\page.tsx`
**Line:** 161
**Context:** `toast.error('Error fetching question bank:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\share\page.tsx`
**Line:** 177
**Context:** `toast.error('Error fetching questions:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\share\page.tsx`
**Line:** 192
**Context:** `toast.error('Error fetching courses:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\share\page.tsx`
**Line:** 204
**Context:** `toast.error('Error fetching institutions:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-templates\page.tsx`
**Line:** 128
**Context:** `toast.error('Error fetching question templates:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-templates\page.tsx`
**Line:** 143
**Context:** `toast.error('Error fetching question banks:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\quizzes\page.tsx`
**Line:** 120
**Context:** `toast.error('Error fetching quizzes:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\quizzes\page.tsx`
**Line:** 139
**Context:** `toast.error('Error fetching courses:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\quizzes\page.tsx`
**Line:** 175
**Context:** `toast.error('Error fetching modules:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\settings\page.tsx`
**Line:** 159
**Context:** `toast.error('Error fetching settings:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\settings\page.tsx`
**Line:** 173
**Context:** `toast.error('Error fetching logs:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\shared-questions\page.tsx`
**Line:** 115
**Context:** `toast.error('Error fetching shared questions:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\students\page.tsx`
**Line:** 110
**Context:** `toast.error('Error fetching students:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\students\[id]\page.tsx`
**Line:** 124
**Context:** `toast.error('Error fetching student details:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institutions\[id]\page.tsx`
**Line:** 61
**Context:** `console.error('Error fetching institution:', error)`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\settings\page.tsx`
**Line:** 72
**Context:** `toast.error('Error fetching settings:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\components\EnrollmentModal.tsx`
**Line:** 147
**Context:** `toast.error('Error fetching course details:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\courses\page.tsx`
**Line:** 76
**Context:** `toast.error('Error fetching courses:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\courses\[id]\modules\[moduleId]\page.tsx`
**Line:** 158
**Context:** `toast.error('Error fetching attempts for quiz ${quiz.id}:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\courses\[id]\modules\[moduleId]\page.tsx`
**Line:** 164
**Context:** `toast.error('Error fetching module details:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\courses\[id]\page.tsx`
**Line:** 96
**Context:** `toast.error('Error fetching course details:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\page.tsx`
**Line:** 194
**Context:** `toast.error('Error fetching dashboard data:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\page_backup.tsx`
**Line:** 193
**Context:** `toast.error('Error fetching dashboard data:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\profile\page.tsx`
**Line:** 73
**Context:** `toast.error('Error fetching profile:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\progress\page.tsx`
**Line:** 174
**Context:** `toast.error('Error fetching progress:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\settings\page.tsx`
**Line:** 56
**Context:** `toast.error('Error fetching profile:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\_admin_backup\course-categories.tsx`
**Line:** 51
**Context:** `toast.error('Error fetching categories:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\_admin_backup\page.tsx`
**Line:** 75
**Context:** `toast.error('Error fetching advertising data:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\admin\AdminNotificationAnalytics.tsx`
**Line:** 103
**Context:** `console.error('Error fetching analytics:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\admin\Sidebar.tsx`
**Line:** 71
**Context:** `console.error('Error fetching pending payments count:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\CoursesPageClient.tsx`
**Line:** 120
**Context:** `// toast.error('Error fetching courses:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\CourseTagManager.tsx`
**Line:** 69
**Context:** `toast.error('Error fetching tags:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\DiscountSettingsForm.tsx`
**Line:** 46
**Context:** `// toast.error('Error fetching discount settings:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\HomePageClient.tsx`
**Line:** 142
**Context:** `console.error('Error fetching data:', error)`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionSidebar.tsx`
**Line:** 119
**Context:** `toast.error('Error fetching courses:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionSubscriptionCard.tsx`
**Line:** 127
**Context:** `toast.error('Error fetching subscription data:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\LeadTracking.tsx`
**Line:** 110
**Context:** `toast.error('Error fetching analytics:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\PromotionalSidebar.tsx`
**Line:** 171
**Context:** `// toast.error('Error fetching promotional content:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\providers\InstitutionProvider.tsx`
**Line:** 43
**Context:** `// toast.error('Error fetching institution data:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\SimpleNotifications.tsx`
**Line:** 64
**Context:** `console.error('Error fetching notifications:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\NotificationPreferences.tsx`
**Line:** 114
**Context:** `toast.error('Error fetching preferences:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\StudentSubscriptionCard.tsx`
**Line:** 125
**Context:** `toast.error('Error fetching subscription data:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\TagFilter.tsx`
**Line:** 46
**Context:** `console.error('Error fetching tags:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\constants\payment-config.ts`
**Line:** 58
**Context:** `logger.error('Error fetching payment settings:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment\reminder-scheduler.ts`
**Line:** 133
**Context:** `logger.error('Error fetching reminder history:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\permissions.ts`
**Line:** 56
**Context:** `logger.error('Error fetching institution permissions:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\permissions.ts`
**Line:** 111
**Context:** `logger.error('Error fetching user institution permissions:');`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-plan-manager.ts`
**Line:** 45
**Context:** `logger.error('Error fetching active subscription plans:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-plan-manager.ts`
**Line:** 76
**Context:** `logger.error('Error fetching subscription plan by ID:', error);`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\prisma\seed.ts`
**Line:** 500
**Context:** `console.log(`Error fetching course for enrollment ${enrollment.id}:`, error.message);`

### Undefined values being passed as props
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-common-errors.ts`
**Line:** 24
**Context:** `pattern: 'undefined.*from props',`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-common-errors.ts`
**Line:** 34
**Context:** `pattern: 'Error fetching.*:',`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-common-errors.ts`
**Line:** 197
**Context:** `suggestions += `// Use: console.error('Error fetching institution:', error.message || error)\n`;`

### Generic 500 errors without proper error details
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-common-errors.ts`
**Line:** 203
**Context:** `suggestions += `// Use: return NextResponse.json({ error: 'Failed to fetch institution', details: error.message }, { status: 500 })\n`;`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-critical-errors.ts`
**Line:** 16
**Context:** `pattern: "toast\\.error\\('Error fetching ([^']+):'\\);",`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-critical-errors.ts`
**Line:** 17
**Context:** `replacement: "toast.error('Error fetching $1:', error instanceof Error ? error.message : 'Unknown error');",`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-critical-errors.ts`
**Line:** 37
**Context:** `pattern: "console\\.error\\('Error fetching ([^']+):'\\);",`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-critical-errors.ts`
**Line:** 38
**Context:** `replacement: "console.error('Error fetching $1:', error instanceof Error ? error.message : error);",`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-critical-errors.ts`
**Line:** 48
**Context:** `// Fix generic "Error fetching data:" messages`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-critical-errors.ts`
**Line:** 50
**Context:** `pattern: "toast\\.error\\('Error fetching data:'\\);",`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-critical-errors.ts`
**Line:** 51
**Context:** `replacement: "toast.error('Error fetching data:', error instanceof Error ? error.message : 'Unknown error');",`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-critical-errors.ts`
**Line:** 141
**Context:** `const toastErrorRegex = /toast\.error\('Error fetching ([^']+):'\);/g;`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-critical-errors.ts`
**Line:** 145
**Context:** `"toast.error('Error fetching $1:', error instanceof Error ? error.message : 'Unknown error');"`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-critical-errors.ts`
**Line:** 151
**Context:** `const consoleErrorRegex = /console\.error\('Error fetching ([^']+):'\);/g;`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-critical-errors.ts`
**Line:** 155
**Context:** `"console.error('Error fetching $1:', error instanceof Error ? error.message : error);"`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-critical-errors.ts`
**Line:** 160
**Context:** `// Fix 3: Generic "Error fetching data:" messages`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-critical-errors.ts`
**Line:** 161
**Context:** `if (content.includes("toast.error('Error fetching data:');")) {`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-critical-errors.ts`
**Line:** 163
**Context:** `/toast\.error\('Error fetching data:'\);/g,`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-critical-errors.ts`
**Line:** 164
**Context:** `"toast.error('Error fetching data:', error instanceof Error ? error.message : 'Unknown error');"`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-critical-errors.ts`
**Line:** 169
**Context:** `// Fix 4: Generic "Error fetching data:" console messages`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-critical-errors.ts`
**Line:** 170
**Context:** `if (content.includes("console.error('Error fetching data:');")) {`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-critical-errors.ts`
**Line:** 172
**Context:** `/console\.error\('Error fetching data:'\);/g,`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-critical-errors.ts`
**Line:** 173
**Context:** `"console.error('Error fetching data:', error instanceof Error ? error.message : error);"`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-critical-errors.ts`
**Line:** 242
**Context:** `/console\.error\('Error fetching ([^']+):'\);/g,`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-critical-errors.ts`
**Line:** 243
**Context:** `"console.error('Error fetching $1:', error instanceof Error ? error.message : error);"`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-specific-errors.ts`
**Line:** 23
**Context:** `pattern: "toast\\.error\\('Error fetching institution:'\\);",`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-specific-errors.ts`
**Line:** 24
**Context:** `replacement: "toast.error('Error fetching institution:', error instanceof Error ? error.message : 'Unknown error');",`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-specific-errors.ts`
**Line:** 43
**Context:** `pattern: "console\\.error\\('Error fetching institution:'\\);",`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-specific-errors.ts`
**Line:** 44
**Context:** `replacement: "console.error('Error fetching institution:', error instanceof Error ? error.message : error);",`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-specific-errors.ts`
**Line:** 103
**Context:** `if (content.includes("console.error('Error fetching institution:');")) {`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-specific-errors.ts`
**Line:** 105
**Context:** `"console.error('Error fetching institution:');",`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-specific-errors.ts`
**Line:** 106
**Context:** `"console.error('Error fetching institution:', error instanceof Error ? error.message : error);"`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-specific-errors.ts`
**Line:** 112
**Context:** `if (content.includes("toast.error('Error fetching institution:');")) {`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-specific-errors.ts`
**Line:** 114
**Context:** `"toast.error('Error fetching institution:');",`

### Generic error fetching messages without proper error handling
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-specific-errors.ts`
**Line:** 115
**Context:** `"toast.error('Error fetching institution:', error instanceof Error ? error.message : 'Unknown error');"`

## 🟡 Medium Severity Errors

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\categories\page.tsx`
**Line:** 28
**Context:** `if (!response.ok) throw new Error('Failed to fetch categories');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\categories\page.tsx`
**Line:** 54
**Context:** `if (!response.ok) throw new Error('Failed to delete category');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 284
**Context:** `throw new Error(`HTTP error! status: ${response.status}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 324
**Context:** `throw new Error(`HTTP error! status: ${response.status}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 353
**Context:** `throw new Error(`HTTP error! status: ${response.status}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 406
**Context:** `throw new Error(`HTTP error! status: ${response.status}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 492
**Context:** `throw new Error('Failed to delete course');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 561
**Context:** `throw new Error(`HTTP error! status: ${response.status}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 604
**Context:** `throw new Error(`HTTP error! status: ${response.status}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 697
**Context:** `throw new Error('Failed to fetch initial data');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 804
**Context:** `throw new Error(`API Error: ${response.status} - ${errorText}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 825
**Context:** `throw new Error('Invalid courses data format received from server');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 830
**Context:** `throw new Error('Non-JSON response received from server');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 859
**Context:** `? course.title?.toLowerCase().includes(searchQuery.toLowerCase()) ||`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 860
**Context:** `course.description?.toLowerCase().includes(searchQuery.toLowerCase()) ||`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 861
**Context:** `course.institution?.name?.toLowerCase().includes(searchQuery.toLowerCase())`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 918
**Context:** `throw new Error('Invalid form data');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 936
**Context:** `throw new Error('Failed to save course');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 984
**Context:** `throw new Error('Failed to fetch course');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 991
**Context:** `throw new Error(`Course "${course.title}" is missing category information. This is a data integrity issue that needs to be resolved.`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 995
**Context:** `throw new Error(`Course "${course.title}" is missing institution information. This is a data integrity issue that needs to be resolved.`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 1049
**Context:** `throw new Error('Failed to fetch course details');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 1052
**Context:** `const currentYear = course.weeklyPrices?.[0]?.year || new Date().getFullYear();`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 1066
**Context:** `throw new Error('Failed to update weekly prices');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\enrollments\page.tsx`
**Line:** 177
**Context:** `throw new Error('Failed to fetch enrollments');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\enrollments\page.tsx`
**Line:** 218
**Context:** `throw new Error('Failed to update enrollment');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\enrollments\page.tsx`
**Line:** 585
**Context:** `Update the status for {selectedEnrollment?.student.name}`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\page.tsx`
**Line:** 85
**Context:** `throw new Error('Failed to fetch course');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\page.tsx`
**Line:** 93
**Context:** `throw new Error('Failed to fetch modules');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\page.tsx`
**Line:** 124
**Context:** `throw new Error('Failed to create module');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\page.tsx`
**Line:** 165
**Context:** `throw new Error('Failed to delete module');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\page.tsx`
**Line:** 209
**Context:** `Manage modules for {course?.title} • {course?.institution.name}`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\page.tsx`
**Line:** 90
**Context:** `throw new Error('Failed to fetch course');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\page.tsx`
**Line:** 98
**Context:** `throw new Error('Failed to fetch module');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\page.tsx`
**Line:** 72
**Context:** `throw new Error('Failed to fetch course');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\page.tsx`
**Line:** 80
**Context:** `throw new Error('Failed to fetch module');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\page.tsx`
**Line:** 88
**Context:** `throw new Error('Failed to fetch quizzes');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\page.tsx`
**Line:** 136
**Context:** `throw new Error('Failed to delete quiz');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\page.tsx`
**Line:** 199
**Context:** `Manage quizzes for {course?.title} • {course?.institution.name}`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 72
**Context:** `throw new Error('Failed to fetch course');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 80
**Context:** `throw new Error('Failed to fetch module');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 88
**Context:** `throw new Error('Failed to fetch quiz');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 119
**Context:** `throw new Error('Failed to update quiz');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\page.tsx`
**Line:** 68
**Context:** `throw new Error('Failed to fetch course');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\page.tsx`
**Line:** 76
**Context:** `throw new Error('Failed to fetch module');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\page.tsx`
**Line:** 84
**Context:** `throw new Error('Failed to fetch quiz');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\page.tsx`
**Line:** 116
**Context:** `throw new Error('Failed to delete quiz');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 237
**Context:** `throw new Error('Failed to fetch course');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 245
**Context:** `throw new Error('Failed to fetch module');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 253
**Context:** `throw new Error('Failed to fetch quiz');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 334
**Context:** `throw new Error('Failed to add question');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 485
**Context:** `value={questionData.question_config?.leftItems?.join('\n') || ''}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 503
**Context:** `value={questionData.question_config?.rightItems?.join('\n') || ''}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 527
**Context:** `value={questionData.question_config?.dragItems?.join('\n') || ''}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 545
**Context:** `value={questionData.question_config?.dropZones?.join('\n') || ''}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 599
**Context:** `value={questionData.question_config?.orderItems?.join('\n') || ''}`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 241
**Context:** `if (!courseResponse.ok) throw new Error('Failed to fetch course');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 247
**Context:** `if (!moduleResponse.ok) throw new Error('Failed to fetch module');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 253
**Context:** `if (!quizResponse.ok) throw new Error('Failed to fetch quiz');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 259
**Context:** `if (!questionResponse.ok) throw new Error('Failed to fetch question');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 347
**Context:** `throw new Error('Failed to update question');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 523
**Context:** `value={formData.question_config?.leftItems?.join('\n') || ''}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 541
**Context:** `value={formData.question_config?.rightItems?.join('\n') || ''}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 566
**Context:** `value={formData.question_config?.dragItems?.join('\n') || ''}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 584
**Context:** `value={formData.question_config?.dropZones?.join('\n') || ''}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 638
**Context:** `value={formData.question_config?.orderItems?.join('\n') || ''}`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\page.tsx`
**Line:** 94
**Context:** `throw new Error('Failed to fetch course');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\page.tsx`
**Line:** 103
**Context:** `throw new Error('Failed to fetch modules');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\page.tsx`
**Line:** 140
**Context:** `router.push(`/admin/institutions/${course?.institution.id}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\dashboard\page.tsx`
**Line:** 72
**Context:** `throw new Error(`HTTP error! status: ${response.status}`);`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\dashboard\page.tsx`
**Line:** 174
**Context:** `<div className="text-2xl font-bold text-gray-900 dark:text-white">{stats?.statistics?.totalUsers || 0}</div>`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\dashboard\page.tsx`
**Line:** 193
**Context:** `<div className="text-2xl font-bold text-gray-900 dark:text-white">{stats?.statistics?.totalInstitutions || 0}</div>`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\dashboard\page.tsx`
**Line:** 212
**Context:** `<div className="text-2xl font-bold text-gray-900 dark:text-white">{stats?.statistics?.totalCourses || 0}</div>`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\dashboard\page.tsx`
**Line:** 231
**Context:** `<div className="text-2xl font-bold text-gray-900 dark:text-white">${stats?.statistics?.totalRevenue?.toLocaleString() || 0}</div>`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\dashboard\page.tsx`
**Line:** 250
**Context:** `<div className="text-2xl font-bold text-gray-900 dark:text-white">{stats?.statistics?.totalEnrollments || 0}</div>`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\dashboard\page.tsx`
**Line:** 269
**Context:** `<div className="text-2xl font-bold text-gray-900 dark:text-white">${stats?.statistics?.totalCommission?.toLocaleString() || 0}</div>`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institution-monetization\page.tsx`
**Line:** 96
**Context:** `if (!response.ok) throw new Error('Failed to fetch institutions');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institution-monetization\page.tsx`
**Line:** 110
**Context:** `if (session?.user?.role === 'ADMIN') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institution-monetization\page.tsx`
**Line:** 145
**Context:** `throw new Error('Failed to update institution');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\create\page.tsx`
**Line:** 91
**Context:** `throw new Error(data.error || data.details || 'Failed to create institution');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\page.tsx`
**Line:** 67
**Context:** `throw new Error(errorData.error || errorData.details || 'Failed to fetch institutions');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\page.tsx`
**Line:** 74
**Context:** `throw new Error('Invalid response format: expected an array');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\page.tsx`
**Line:** 93
**Context:** `if (session?.user?.role !== 'ADMIN') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\page.tsx`
**Line:** 112
**Context:** `throw new Error('Failed to update approval status');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\page.tsx`
**Line:** 135
**Context:** `throw new Error('Failed to update status');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\courses\page.tsx`
**Line:** 107
**Context:** `if (!response.ok) throw new Error('Failed to fetch institution courses');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\courses\page.tsx`
**Line:** 126
**Context:** `if (!response.ok) throw new Error('Failed to fetch categories');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\courses\page.tsx`
**Line:** 164
**Context:** `throw new Error(error.message || 'Failed to save course');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\courses\page.tsx`
**Line:** 220
**Context:** `if (!response.ok) throw new Error('Failed to delete course');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\courses\page.tsx`
**Line:** 455
**Context:** `courseId={editingCourse?.id.toString() || 'new'}`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\edit\page.tsx`
**Line:** 27
**Context:** `throw new Error('Failed to fetch institution');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\page.tsx`
**Line:** 67
**Context:** `throw new Error('Failed to update institution status');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\page.tsx`
**Line:** 90
**Context:** `throw new Error('Failed to fetch institution');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\page.tsx`
**Line:** 95
**Context:** `throw new Error('Invalid institution data received');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\permissions\page.tsx`
**Line:** 66
**Context:** `if (!session?.user?.role || session.user.role !== 'ADMIN') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\permissions\page.tsx`
**Line:** 82
**Context:** `throw new Error('Failed to fetch institution');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\permissions\page.tsx`
**Line:** 90
**Context:** `throw new Error('Failed to fetch permissions');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\permissions\page.tsx`
**Line:** 122
**Context:** `throw new Error('Failed to update permissions');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\users\page.tsx`
**Line:** 55
**Context:** `if (!session?.user?.role || session.user.role !== 'ADMIN') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\users\page.tsx`
**Line:** 77
**Context:** `throw new Error(errorData.message || 'Failed to fetch users');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\users\page.tsx`
**Line:** 111
**Context:** `throw new Error(errorData.message || `Failed to ${editingUser ? 'update' : 'create'} user`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\users\page.tsx`
**Line:** 167
**Context:** `throw new Error(errorData.message || 'Failed to delete user');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\payments\page.tsx`
**Line:** 121
**Context:** `if (!paymentsRes.ok) throw new Error('Failed to fetch payments');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\payments\page.tsx`
**Line:** 122
**Context:** `if (!institutionsRes.ok) throw new Error('Failed to fetch institutions');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\payments\page.tsx`
**Line:** 143
**Context:** `if (status === 'authenticated' && session?.user?.role === 'ADMIN') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\payments\page.tsx`
**Line:** 156
**Context:** `throw new Error('Failed to approve payment');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\payments\page.tsx`
**Line:** 196
**Context:** `throw new Error('Failed to disapprove payment');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\payments\page.tsx`
**Line:** 251
**Context:** `if (paymentSettings.institutionPaymentApprovalExemptions?.includes(payment.institution.id)) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\payments\page.tsx`
**Line:** 257
**Context:** `if (payment.paymentMethod && !paymentSettings.institutionApprovableMethods?.includes(payment.paymentMethod)) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\payments\page.tsx`
**Line:** 275
**Context:** `if (paymentSettings.institutionPaymentApprovalExemptions?.includes(payment.institution.id)) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\payments\page.tsx`
**Line:** 280
**Context:** `if (payment.paymentMethod && !paymentSettings.institutionApprovableMethods?.includes(payment.paymentMethod)) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\payments\page.tsx`
**Line:** 325
**Context:** `if (paymentSettings.institutionPaymentApprovalExemptions?.includes(payment.institution.id)) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\payments\page.tsx`
**Line:** 329
**Context:** `if (payment.paymentMethod && !paymentSettings.institutionApprovableMethods?.includes(payment.paymentMethod)) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\payments\page.tsx`
**Line:** 380
**Context:** `payment.referenceNumber?.toLowerCase().includes(searchTerm.toLowerCase()) ||`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\payments\page.tsx`
**Line:** 381
**Context:** `payment.bookingId?.toLowerCase().includes(searchTerm.toLowerCase());`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\payments\page.tsx`
**Line:** 402
**Context:** `if (session?.user?.role !== 'ADMIN') {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\question-banks\page.tsx`
**Line:** 160
**Context:** `bank.description?.toLowerCase().includes(searchTerm.toLowerCase());`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\question-templates\page.tsx`
**Line:** 189
**Context:** `template.description?.toLowerCase().includes(searchTerm.toLowerCase());`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\revenue\page.tsx`
**Line:** 270
**Context:** `{metrics?.topRevenueSources.slice(0, 5).map((source, index) => (`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\commission-tiers\page.tsx`
**Line:** 159
**Context:** `if (session?.user?.role === 'ADMIN') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\commission-tiers\page.tsx`
**Line:** 180
**Context:** `throw new Error('Failed to save commission tier');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\commission-tiers\page.tsx`
**Line:** 204
**Context:** `throw new Error('Failed to save subscription plan');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\commission-tiers\page.tsx`
**Line:** 224
**Context:** `throw new Error('Failed to delete commission tier');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\commission-tiers\page.tsx`
**Line:** 244
**Context:** `throw new Error('Failed to delete subscription plan');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\common-scripts\page.tsx`
**Line:** 40
**Context:** `throw new Error(data.error || 'Failed to run seed script')`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\common-scripts\page.tsx`
**Line:** 73
**Context:** `throw new Error(data.error || 'Failed to run booking payment consistency script')`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\common-scripts\page.tsx`
**Line:** 102
**Context:** `throw new Error(data.error || 'Failed to run maintenance scripts')`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 243
**Context:** `if (!session?.user?.role || session.user.role !== 'ADMIN') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 261
**Context:** `if (!response.ok) throw new Error('Failed to fetch institutions');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 286
**Context:** `if (!response.ok) throw new Error('Failed to fetch email settings');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 327
**Context:** `if (!response.ok) throw new Error('Failed to update institution settings');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 353
**Context:** `throw new Error(errorData.message || 'Failed to seed categories');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 388
**Context:** `throw new Error(errorData.message || 'Failed to seed tags');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 422
**Context:** `throw new Error('Failed to perform cleanup');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 476
**Context:** `throw new Error(error.message || 'Failed to save email settings');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 489
**Context:** `throw new Error(error.message || 'Failed to save email settings');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 520
**Context:** `if (!response.ok) throw new Error('Failed to send test email');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 538
**Context:** `throw new Error(errorData.message || 'Failed to fix missing students');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 558
**Context:** `if (!response.ok) throw new Error('Failed to fetch notification templates');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 580
**Context:** `if (!response.ok) throw new Error('Failed to fetch notification logs');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 594
**Context:** `if (!response.ok) throw new Error('Failed to fetch notification stats');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 610
**Context:** `throw new Error(errorData.message || 'Failed to seed notification templates');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 633
**Context:** `throw new Error(errorData.message || 'Failed to create template');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 667
**Context:** `throw new Error(errorData.message || 'Failed to update template');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 701
**Context:** `throw new Error(errorData.message || 'Failed to delete template');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 823
**Context:** `if (session?.user?.role === 'ADMIN') {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\payment-approval\page.tsx`
**Line:** 94
**Context:** `if (!session?.user?.role || session.user.role !== 'ADMIN') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\payment-approval\page.tsx`
**Line:** 106
**Context:** `if (!response.ok) throw new Error('Failed to fetch settings');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\payment-approval\page.tsx`
**Line:** 238
**Context:** `if (session?.user?.role !== 'ADMIN') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\subscription-plans\page.tsx`
**Line:** 101
**Context:** `throw new Error('Failed to load subscription plans');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\subscription-plans\page.tsx`
**Line:** 136
**Context:** `throw new Error('Failed to create subscription plan');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\subscription-plans\page.tsx`
**Line:** 170
**Context:** `throw new Error('Failed to update subscription plan');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\subscription-plans\page.tsx`
**Line:** 193
**Context:** `throw new Error('Failed to delete subscription plan');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\subscription-plans\page.tsx`
**Line:** 215
**Context:** `throw new Error('Failed to update subscription plan status');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\subscriptions\page.tsx`
**Line:** 99
**Context:** `if (!response.ok) throw new Error('Failed to fetch subscriptions');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\subscriptions\page.tsx`
**Line:** 114
**Context:** `if (!response.ok) throw new Error('Failed to fetch stats');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\subscriptions\page.tsx`
**Line:** 130
**Context:** `if (!response.ok) throw new Error('Failed to update status');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\subscriptions\page.tsx`
**Line:** 148
**Context:** `if (!response.ok) throw new Error('Failed to update plan');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\subscriptions\[id]\edit\page.tsx`
**Line:** 75
**Context:** `if (!response.ok) throw new Error('Failed to fetch subscription');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\subscriptions\[id]\edit\page.tsx`
**Line:** 106
**Context:** `if (!response.ok) throw new Error('Failed to update subscription');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\tags\page.tsx`
**Line:** 123
**Context:** `if (sessionData?.user?.role === 'ADMIN') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\tags\page.tsx`
**Line:** 163
**Context:** `throw new Error(`Failed to fetch tags: ${response.status} - ${errorText}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\tags\page.tsx`
**Line:** 171
**Context:** `throw new Error('Invalid response format: expected an array of tags');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\tags\page.tsx`
**Line:** 202
**Context:** `if (!response.ok) throw new Error('Failed to fetch analytics');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\tags\page.tsx`
**Line:** 226
**Context:** `if (!sessionData?.user?.role || sessionData.user.role !== 'ADMIN') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\tags\page.tsx`
**Line:** 267
**Context:** `throw new Error(errorData.message || `Failed to ${isUpdating ? 'update' : 'create'} tag`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\tags\page.tsx`
**Line:** 337
**Context:** `throw new Error(error.message || 'Failed to delete tag');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\users\page.tsx`
**Line:** 67
**Context:** `if (session?.user?.role?.toUpperCase() !== 'ADMIN') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\users\page.tsx`
**Line:** 81
**Context:** `throw new Error('Failed to fetch users');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\users\page.tsx`
**Line:** 152
**Context:** `throw new Error(errorData.message || `Failed to ${selectedUser ? 'update' : 'create'} user`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\users\page.tsx`
**Line:** 189
**Context:** `throw new Error('Failed to delete user');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\users\page.tsx`
**Line:** 227
**Context:** `user.name?.toLowerCase().includes(searchQuery.toLowerCase()) ||`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\users\[userId]\page.tsx`
**Line:** 37
**Context:** `if (session?.user?.role !== 'ADMIN') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\users\[userId]\page.tsx`
**Line:** 58
**Context:** `throw new Error(errorData.message || 'Failed to fetch user');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\users\[userId]\page.tsx`
**Line:** 91
**Context:** `throw new Error(errorData.message || 'Failed to update user status');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\categories\page.tsx`
**Line:** 28
**Context:** `if (!response.ok) throw new Error('Failed to fetch categories');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\categories\page.tsx`
**Line:** 54
**Context:** `if (!response.ok) throw new Error('Failed to delete category');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 284
**Context:** `throw new Error(`HTTP error! status: ${response.status}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 324
**Context:** `throw new Error(`HTTP error! status: ${response.status}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 353
**Context:** `throw new Error(`HTTP error! status: ${response.status}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 406
**Context:** `throw new Error(`HTTP error! status: ${response.status}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 492
**Context:** `throw new Error('Failed to delete course');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 561
**Context:** `throw new Error(`HTTP error! status: ${response.status}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 604
**Context:** `throw new Error(`HTTP error! status: ${response.status}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 697
**Context:** `throw new Error('Failed to fetch initial data');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 804
**Context:** `throw new Error(`API Error: ${response.status} - ${errorText}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 825
**Context:** `throw new Error('Invalid courses data format received from server');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 830
**Context:** `throw new Error('Non-JSON response received from server');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 859
**Context:** `? course.title?.toLowerCase().includes(searchQuery.toLowerCase()) ||`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 860
**Context:** `course.description?.toLowerCase().includes(searchQuery.toLowerCase()) ||`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 861
**Context:** `course.institution?.name?.toLowerCase().includes(searchQuery.toLowerCase())`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 918
**Context:** `throw new Error('Invalid form data');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 936
**Context:** `throw new Error('Failed to save course');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 984
**Context:** `throw new Error('Failed to fetch course');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 991
**Context:** `throw new Error(`Course "${course.title}" is missing category information. This is a data integrity issue that needs to be resolved.`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 995
**Context:** `throw new Error(`Course "${course.title}" is missing institution information. This is a data integrity issue that needs to be resolved.`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 1049
**Context:** `throw new Error('Failed to fetch course details');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 1052
**Context:** `const currentYear = course.weeklyPrices?.[0]?.year || new Date().getFullYear();`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 1066
**Context:** `throw new Error('Failed to update weekly prices');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\enrollments\page.tsx`
**Line:** 177
**Context:** `throw new Error('Failed to fetch enrollments');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\enrollments\page.tsx`
**Line:** 218
**Context:** `throw new Error('Failed to update enrollment');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\enrollments\page.tsx`
**Line:** 585
**Context:** `Update the status for {selectedEnrollment?.student.name}`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\page.tsx`
**Line:** 85
**Context:** `throw new Error('Failed to fetch course');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\page.tsx`
**Line:** 93
**Context:** `throw new Error('Failed to fetch modules');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\page.tsx`
**Line:** 124
**Context:** `throw new Error('Failed to create module');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\page.tsx`
**Line:** 165
**Context:** `throw new Error('Failed to delete module');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\page.tsx`
**Line:** 209
**Context:** `Manage modules for {course?.title} • {course?.institution.name}`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\page.tsx`
**Line:** 90
**Context:** `throw new Error('Failed to fetch course');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\page.tsx`
**Line:** 98
**Context:** `throw new Error('Failed to fetch module');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\page.tsx`
**Line:** 72
**Context:** `throw new Error('Failed to fetch course');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\page.tsx`
**Line:** 80
**Context:** `throw new Error('Failed to fetch module');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\page.tsx`
**Line:** 88
**Context:** `throw new Error('Failed to fetch quizzes');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\page.tsx`
**Line:** 136
**Context:** `throw new Error('Failed to delete quiz');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\page.tsx`
**Line:** 199
**Context:** `Manage quizzes for {course?.title} • {course?.institution.name}`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 72
**Context:** `throw new Error('Failed to fetch course');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 80
**Context:** `throw new Error('Failed to fetch module');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 88
**Context:** `throw new Error('Failed to fetch quiz');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 119
**Context:** `throw new Error('Failed to update quiz');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\page.tsx`
**Line:** 68
**Context:** `throw new Error('Failed to fetch course');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\page.tsx`
**Line:** 76
**Context:** `throw new Error('Failed to fetch module');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\page.tsx`
**Line:** 84
**Context:** `throw new Error('Failed to fetch quiz');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\page.tsx`
**Line:** 116
**Context:** `throw new Error('Failed to delete quiz');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 237
**Context:** `throw new Error('Failed to fetch course');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 245
**Context:** `throw new Error('Failed to fetch module');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 253
**Context:** `throw new Error('Failed to fetch quiz');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 334
**Context:** `throw new Error('Failed to add question');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 485
**Context:** `value={questionData.question_config?.leftItems?.join('\n') || ''}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 503
**Context:** `value={questionData.question_config?.rightItems?.join('\n') || ''}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 527
**Context:** `value={questionData.question_config?.dragItems?.join('\n') || ''}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 545
**Context:** `value={questionData.question_config?.dropZones?.join('\n') || ''}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 599
**Context:** `value={questionData.question_config?.orderItems?.join('\n') || ''}`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 241
**Context:** `if (!courseResponse.ok) throw new Error('Failed to fetch course');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 247
**Context:** `if (!moduleResponse.ok) throw new Error('Failed to fetch module');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 253
**Context:** `if (!quizResponse.ok) throw new Error('Failed to fetch quiz');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 259
**Context:** `if (!questionResponse.ok) throw new Error('Failed to fetch question');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 347
**Context:** `throw new Error('Failed to update question');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 523
**Context:** `value={formData.question_config?.leftItems?.join('\n') || ''}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 541
**Context:** `value={formData.question_config?.rightItems?.join('\n') || ''}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 566
**Context:** `value={formData.question_config?.dragItems?.join('\n') || ''}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 584
**Context:** `value={formData.question_config?.dropZones?.join('\n') || ''}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 638
**Context:** `value={formData.question_config?.orderItems?.join('\n') || ''}`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\page.tsx`
**Line:** 94
**Context:** `throw new Error('Failed to fetch course');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\page.tsx`
**Line:** 103
**Context:** `throw new Error('Failed to fetch modules');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\page.tsx`
**Line:** 140
**Context:** `router.push(`/admin/institutions/${course?.institution.id}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institution-monetization\page.tsx`
**Line:** 96
**Context:** `if (!response.ok) throw new Error('Failed to fetch institutions');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institution-monetization\page.tsx`
**Line:** 110
**Context:** `if (session?.user?.role === 'ADMIN') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institution-monetization\page.tsx`
**Line:** 145
**Context:** `throw new Error('Failed to update institution');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\create\page.tsx`
**Line:** 91
**Context:** `throw new Error(data.error || data.details || 'Failed to create institution');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\page.tsx`
**Line:** 67
**Context:** `throw new Error(errorData.error || errorData.details || 'Failed to fetch institutions');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\page.tsx`
**Line:** 74
**Context:** `throw new Error('Invalid response format: expected an array');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\page.tsx`
**Line:** 93
**Context:** `if (session?.user?.role !== 'ADMIN') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\page.tsx`
**Line:** 112
**Context:** `throw new Error('Failed to update approval status');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\page.tsx`
**Line:** 135
**Context:** `throw new Error('Failed to update status');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\courses\page.tsx`
**Line:** 107
**Context:** `if (!response.ok) throw new Error('Failed to fetch institution courses');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\courses\page.tsx`
**Line:** 126
**Context:** `if (!response.ok) throw new Error('Failed to fetch categories');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\courses\page.tsx`
**Line:** 164
**Context:** `throw new Error(error.message || 'Failed to save course');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\courses\page.tsx`
**Line:** 220
**Context:** `if (!response.ok) throw new Error('Failed to delete course');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\courses\page.tsx`
**Line:** 455
**Context:** `courseId={editingCourse?.id.toString() || 'new'}`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\edit\page.tsx`
**Line:** 27
**Context:** `throw new Error('Failed to fetch institution');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\page.tsx`
**Line:** 67
**Context:** `throw new Error('Failed to update institution status');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\page.tsx`
**Line:** 90
**Context:** `throw new Error('Failed to fetch institution');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\page.tsx`
**Line:** 95
**Context:** `throw new Error('Invalid institution data received');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\permissions\page.tsx`
**Line:** 66
**Context:** `if (!session?.user?.role || session.user.role !== 'ADMIN') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\permissions\page.tsx`
**Line:** 82
**Context:** `throw new Error('Failed to fetch institution');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\permissions\page.tsx`
**Line:** 90
**Context:** `throw new Error('Failed to fetch permissions');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\permissions\page.tsx`
**Line:** 122
**Context:** `throw new Error('Failed to update permissions');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\users\page.tsx`
**Line:** 55
**Context:** `if (!session?.user?.role || session.user.role !== 'ADMIN') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\users\page.tsx`
**Line:** 77
**Context:** `throw new Error(errorData.message || 'Failed to fetch users');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\users\page.tsx`
**Line:** 111
**Context:** `throw new Error(errorData.message || `Failed to ${editingUser ? 'update' : 'create'} user`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\users\page.tsx`
**Line:** 167
**Context:** `throw new Error(errorData.message || 'Failed to delete user');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\payments\page.tsx`
**Line:** 121
**Context:** `if (!paymentsRes.ok) throw new Error('Failed to fetch payments');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\payments\page.tsx`
**Line:** 122
**Context:** `if (!institutionsRes.ok) throw new Error('Failed to fetch institutions');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\payments\page.tsx`
**Line:** 143
**Context:** `if (status === 'authenticated' && session?.user?.role === 'ADMIN') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\payments\page.tsx`
**Line:** 156
**Context:** `throw new Error('Failed to approve payment');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\payments\page.tsx`
**Line:** 196
**Context:** `throw new Error('Failed to disapprove payment');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\payments\page.tsx`
**Line:** 251
**Context:** `if (paymentSettings.institutionPaymentApprovalExemptions?.includes(payment.institution.id)) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\payments\page.tsx`
**Line:** 257
**Context:** `if (payment.paymentMethod && !paymentSettings.institutionApprovableMethods?.includes(payment.paymentMethod)) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\payments\page.tsx`
**Line:** 275
**Context:** `if (paymentSettings.institutionPaymentApprovalExemptions?.includes(payment.institution.id)) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\payments\page.tsx`
**Line:** 280
**Context:** `if (payment.paymentMethod && !paymentSettings.institutionApprovableMethods?.includes(payment.paymentMethod)) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\payments\page.tsx`
**Line:** 325
**Context:** `if (paymentSettings.institutionPaymentApprovalExemptions?.includes(payment.institution.id)) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\payments\page.tsx`
**Line:** 329
**Context:** `if (payment.paymentMethod && !paymentSettings.institutionApprovableMethods?.includes(payment.paymentMethod)) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\payments\page.tsx`
**Line:** 380
**Context:** `payment.referenceNumber?.toLowerCase().includes(searchTerm.toLowerCase()) ||`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\payments\page.tsx`
**Line:** 381
**Context:** `payment.bookingId?.toLowerCase().includes(searchTerm.toLowerCase());`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\payments\page.tsx`
**Line:** 402
**Context:** `if (session?.user?.role !== 'ADMIN') {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\question-banks\page.tsx`
**Line:** 160
**Context:** `bank.description?.toLowerCase().includes(searchTerm.toLowerCase());`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\question-templates\page.tsx`
**Line:** 189
**Context:** `template.description?.toLowerCase().includes(searchTerm.toLowerCase());`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\commission-tiers\page.tsx`
**Line:** 159
**Context:** `if (session?.user?.role === 'ADMIN') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\commission-tiers\page.tsx`
**Line:** 180
**Context:** `throw new Error('Failed to save commission tier');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\commission-tiers\page.tsx`
**Line:** 204
**Context:** `throw new Error('Failed to save subscription plan');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\commission-tiers\page.tsx`
**Line:** 224
**Context:** `throw new Error('Failed to delete commission tier');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\commission-tiers\page.tsx`
**Line:** 244
**Context:** `throw new Error('Failed to delete subscription plan');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\common-scripts\page.tsx`
**Line:** 40
**Context:** `throw new Error(data.error || 'Failed to run seed script')`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\common-scripts\page.tsx`
**Line:** 73
**Context:** `throw new Error(data.error || 'Failed to run booking payment consistency script')`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\common-scripts\page.tsx`
**Line:** 102
**Context:** `throw new Error(data.error || 'Failed to run maintenance scripts')`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 237
**Context:** `if (!session?.user?.role || session.user.role !== 'ADMIN') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 255
**Context:** `if (!response.ok) throw new Error('Failed to fetch institutions');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 280
**Context:** `if (!response.ok) throw new Error('Failed to fetch email settings');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 321
**Context:** `if (!response.ok) throw new Error('Failed to update institution settings');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 347
**Context:** `throw new Error(errorData.message || 'Failed to seed categories');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 382
**Context:** `throw new Error(errorData.message || 'Failed to seed tags');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 416
**Context:** `throw new Error('Failed to perform cleanup');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 470
**Context:** `throw new Error(error.message || 'Failed to save email settings');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 483
**Context:** `throw new Error(error.message || 'Failed to save email settings');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 514
**Context:** `if (!response.ok) throw new Error('Failed to send test email');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 532
**Context:** `throw new Error(errorData.message || 'Failed to fix missing students');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 552
**Context:** `if (!response.ok) throw new Error('Failed to fetch notification templates');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 574
**Context:** `if (!response.ok) throw new Error('Failed to fetch notification logs');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 588
**Context:** `if (!response.ok) throw new Error('Failed to fetch notification stats');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 604
**Context:** `throw new Error(errorData.message || 'Failed to seed notification templates');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 627
**Context:** `throw new Error(errorData.message || 'Failed to create template');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 661
**Context:** `throw new Error(errorData.message || 'Failed to update template');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 695
**Context:** `throw new Error(errorData.message || 'Failed to delete template');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 742
**Context:** `if (session?.user?.role === 'ADMIN') {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\payment-approval\page.tsx`
**Line:** 94
**Context:** `if (!session?.user?.role || session.user.role !== 'ADMIN') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\payment-approval\page.tsx`
**Line:** 106
**Context:** `if (!response.ok) throw new Error('Failed to fetch settings');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\payment-approval\page.tsx`
**Line:** 238
**Context:** `if (session?.user?.role !== 'ADMIN') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\subscription-plans\page.tsx`
**Line:** 101
**Context:** `throw new Error('Failed to load subscription plans');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\subscription-plans\page.tsx`
**Line:** 136
**Context:** `throw new Error('Failed to create subscription plan');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\subscription-plans\page.tsx`
**Line:** 170
**Context:** `throw new Error('Failed to update subscription plan');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\subscription-plans\page.tsx`
**Line:** 193
**Context:** `throw new Error('Failed to delete subscription plan');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\subscription-plans\page.tsx`
**Line:** 215
**Context:** `throw new Error('Failed to update subscription plan status');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-disabled\dashboard\page.tsx`
**Line:** 72
**Context:** `throw new Error(`HTTP error! status: ${response.status}`);`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-disabled\dashboard\page.tsx`
**Line:** 174
**Context:** `<div className="text-2xl font-bold text-gray-900 dark:text-white">{stats?.statistics?.totalUsers || 0}</div>`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-disabled\dashboard\page.tsx`
**Line:** 193
**Context:** `<div className="text-2xl font-bold text-gray-900 dark:text-white">{stats?.statistics?.totalInstitutions || 0}</div>`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-disabled\dashboard\page.tsx`
**Line:** 212
**Context:** `<div className="text-2xl font-bold text-gray-900 dark:text-white">{stats?.statistics?.totalCourses || 0}</div>`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-disabled\dashboard\page.tsx`
**Line:** 231
**Context:** `<div className="text-2xl font-bold text-gray-900 dark:text-white">${stats?.statistics?.totalRevenue?.toLocaleString() || 0}</div>`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-disabled\dashboard\page.tsx`
**Line:** 250
**Context:** `<div className="text-2xl font-bold text-gray-900 dark:text-white">{stats?.statistics?.totalEnrollments || 0}</div>`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-disabled\dashboard\page.tsx`
**Line:** 269
**Context:** `<div className="text-2xl font-bold text-gray-900 dark:text-white">${stats?.statistics?.totalCommission?.toLocaleString() || 0}</div>`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\revenue\page.tsx`
**Line:** 270
**Context:** `{metrics?.topRevenueSources.slice(0, 5).map((source, index) => (`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\subscriptions\page.tsx`
**Line:** 99
**Context:** `if (!response.ok) throw new Error('Failed to fetch subscriptions');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\subscriptions\page.tsx`
**Line:** 114
**Context:** `if (!response.ok) throw new Error('Failed to fetch stats');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\subscriptions\page.tsx`
**Line:** 130
**Context:** `if (!response.ok) throw new Error('Failed to update status');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\subscriptions\page.tsx`
**Line:** 148
**Context:** `if (!response.ok) throw new Error('Failed to update plan');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\subscriptions\[id]\edit\page.tsx`
**Line:** 75
**Context:** `if (!response.ok) throw new Error('Failed to fetch subscription');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\subscriptions\[id]\edit\page.tsx`
**Line:** 106
**Context:** `if (!response.ok) throw new Error('Failed to update subscription');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\tags\page.tsx`
**Line:** 123
**Context:** `if (sessionData?.user?.role === 'ADMIN') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\tags\page.tsx`
**Line:** 163
**Context:** `throw new Error(`Failed to fetch tags: ${response.status} - ${errorText}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\tags\page.tsx`
**Line:** 171
**Context:** `throw new Error('Invalid response format: expected an array of tags');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\tags\page.tsx`
**Line:** 202
**Context:** `if (!response.ok) throw new Error('Failed to fetch analytics');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\tags\page.tsx`
**Line:** 226
**Context:** `if (!sessionData?.user?.role || sessionData.user.role !== 'ADMIN') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\tags\page.tsx`
**Line:** 267
**Context:** `throw new Error(errorData.message || `Failed to ${isUpdating ? 'update' : 'create'} tag`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\tags\page.tsx`
**Line:** 337
**Context:** `throw new Error(error.message || 'Failed to delete tag');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\users\page.tsx`
**Line:** 67
**Context:** `if (session?.user?.role?.toUpperCase() !== 'ADMIN') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\users\page.tsx`
**Line:** 81
**Context:** `throw new Error('Failed to fetch users');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\users\page.tsx`
**Line:** 152
**Context:** `throw new Error(errorData.message || `Failed to ${selectedUser ? 'update' : 'create'} user`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\users\page.tsx`
**Line:** 189
**Context:** `throw new Error('Failed to delete user');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\users\page.tsx`
**Line:** 227
**Context:** `user.name?.toLowerCase().includes(searchQuery.toLowerCase()) ||`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\users\[userId]\page.tsx`
**Line:** 37
**Context:** `if (session?.user?.role !== 'ADMIN') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\users\[userId]\page.tsx`
**Line:** 58
**Context:** `throw new Error(errorData.message || 'Failed to fetch user');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\users\[userId]\page.tsx`
**Line:** 91
**Context:** `throw new Error(errorData.message || 'Failed to update user status');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\update-weekly-prices\route.ts`
**Line:** 9
**Context:** `if (!session?.user?.role?.toUpperCase() === 'ADMIN') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 348
**Context:** `throw new Error('Question ID is required for updates');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 352
**Context:** `throw new Error('Question text is required');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 356
**Context:** `throw new Error('Question type is required');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 360
**Context:** `throw new Error('Points must be between 1 and 100');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 372
**Context:** `throw new Error(`Question with ID ${questionId} not found`);`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\process-fallbacks\route.ts`
**Line:** 11
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\error-scanning\route.ts`
**Line:** 13
**Context:** `if (!session?.user?.role || session.user.role !== 'ADMIN') {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\error-scanning\route.ts`
**Line:** 128
**Context:** `if (!session?.user?.role || session.user.role !== 'ADMIN') {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\run-all-maintenance-scripts\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.email) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\run-all-maintenance-scripts\route.ts`
**Line:** 115
**Context:** `if (enrollment.booking?.payment?.status === 'COMPLETED' && enrollment.paymentStatus !== 'COMPLETED') {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\run-all-maintenance-scripts\route.ts`
**Line:** 122
**Context:** `} else if (enrollment.booking?.payment?.status === 'PENDING' && enrollment.paymentStatus === 'COMPLETED') {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\stats\route.ts`
**Line:** 29
**Context:** `prisma?.user.count() || 0,`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\stats\route.ts`
**Line:** 30
**Context:** `prisma?.course.count() || 0,`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\stats\route.ts`
**Line:** 31
**Context:** `prisma?.institution.count() || 0,`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\stats\route.ts`
**Line:** 32
**Context:** `prisma?.studentCourseEnrollment.count() || 0,`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\stats\route.ts`
**Line:** 33
**Context:** `prisma?.studentCourseCompletion.count() || 0,`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\stats\route.ts`
**Line:** 78
**Context:** `const recentUsers = await prisma?.user.findMany({`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\subscriptions\stats\route.ts`
**Line:** 92
**Context:** `commissionRate: institution.subscription?.commissionTier?.commissionRate || 0`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\test-session\route.ts`
**Line:** 11
**Context:** `console.log('Test Session API - User role:', session?.user?.role);`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\check-password-reset\route.ts`
**Line:** 11
**Context:** `if (!session?.user?.email) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\check-password-reset\route.ts`
**Line:** 59
**Context:** `if (!session?.user?.email) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\redirect-after-signin\route.ts`
**Line:** 11
**Context:** `console.log('User role:', session?.user?.role);`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\test-login\route.ts`
**Line:** 11
**Context:** `console.log('Test Login API - User role:', session?.user?.role);`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\test-login\route.ts`
**Line:** 18
**Context:** `role: session?.user?.role`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\user\route.ts`
**Line:** 12
**Context:** `if (!session?.user?.email) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\search\route.ts`
**Line:** 13
**Context:** `const tagIds = searchParams.get('tagIds')?.split(',').filter(Boolean) || [];`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\enroll\route.ts`
**Line:** 69
**Context:** `throw new Error('Already enrolled');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\enroll\route.ts`
**Line:** 82
**Context:** `throw new Error('Booking already exists');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\analytics\quiz\route.ts`
**Line:** 9
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\collaboration\stats\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\route.ts`
**Line:** 33
**Context:** `if (!session?.user?.institutionId) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\route.ts`
**Line:** 199
**Context:** `if (!session?.user?.institutionId) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\route.ts`
**Line:** 328
**Context:** `if (!session?.user?.institutionId) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\update-weekly-prices\route.ts`
**Line:** 9
**Context:** `if (!session?.user?.institutionId) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\dates\route.ts`
**Line:** 12
**Context:** `if (!session?.user?.institutionId) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\monthly-prices\route.ts`
**Line:** 13
**Context:** `if (!session?.user?.institutionId) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\route.ts`
**Line:** 36
**Context:** `if (!session?.user?.institutionId) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\route.ts`
**Line:** 142
**Context:** `if (!session?.user?.institutionId) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\route.ts`
**Line:** 283
**Context:** `if (!session?.user?.institutionId) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\current\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.email) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\enrollments\[id]\dates\route.ts`
**Line:** 12
**Context:** `if (!session?.user?.institutionId) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\info\route.ts`
**Line:** 9
**Context:** `if (!session?.user?.institutionId) {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\profile\route.ts`
**Line:** 83
**Context:** `if (!filename) throw new Error('Invalid preview URL');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\profile\route.ts`
**Line:** 107
**Context:** `if (!session?.user?.email) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\bulk-delete\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\bulk-export\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\bulk-update\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\import\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\route.ts`
**Line:** 79
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\copy\route.ts`
**Line:** 13
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\export\route.ts`
**Line:** 12
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\import\route.ts`
**Line:** 12
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\bulk\route.ts`
**Line:** 12
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\bulk\route.ts`
**Line:** 73
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\bulk-delete\route.ts`
**Line:** 13
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\route.ts`
**Line:** 13
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\route.ts`
**Line:** 85
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\share\route.ts`
**Line:** 13
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\[questionId]\route.ts`
**Line:** 13
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\[questionId]\route.ts`
**Line:** 78
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\[questionId]\route.ts`
**Line:** 176
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-templates\route.ts`
**Line:** 9
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-templates\route.ts`
**Line:** 47
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-templates\[id]\copy\route.ts`
**Line:** 12
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-templates\[id]\route.ts`
**Line:** 12
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-templates\[id]\route.ts`
**Line:** 55
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-templates\[id]\route.ts`
**Line:** 99
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\questions\[id]\copy\route.ts`
**Line:** 13
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\questions\[id]\copy-to-course\route.ts`
**Line:** 13
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\questions\[id]\rate\route.ts`
**Line:** 13
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\shared-questions\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\shared-questions\route.ts`
**Line:** 123
**Context:** `shared_by: course?.institution?.name || 'Unknown Institution',`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\shared-questions\route.ts`
**Line:** 132
**Context:** `id: course?.institution?.id || '',`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\shared-questions\route.ts`
**Line:** 133
**Context:** `name: course?.institution?.name || 'Unknown',`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\shared-questions\route.ts`
**Line:** 137
**Context:** `id: course?.institution?.id || '',`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\shared-questions\route.ts`
**Line:** 138
**Context:** `name: course?.institution?.name || 'Unknown Institution',`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\shared-questions\route.ts`
**Line:** 139
**Context:** `country: course?.institution?.country || ''`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\students\[id]\route.ts`
**Line:** 12
**Context:** `if (!session?.user?.institutionId) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\billing-history\route.ts`
**Line:** 9
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\payment\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\route.ts`
**Line:** 102
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\route.ts`
**Line:** 161
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\route.ts`
**Line:** 248
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\upgrade\route.ts`
**Line:** 11
**Context:** `if (!session?.user?.institutionId) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\upload\route.ts`
**Line:** 127
**Context:** `if (!session?.user?.institutionId) {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\upload\route.ts`
**Line:** 151
**Context:** `throw new Error('Institution not found');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\approve\route.ts`
**Line:** 12
**Context:** `if (!session?.user?.role || session.user.role !== 'ADMIN') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\approve\route.ts`
**Line:** 81
**Context:** `throw new Error('Failed to verify institution approval');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\route.ts`
**Line:** 41
**Context:** `userRole: session?.user?.role,`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\route.ts`
**Line:** 42
**Context:** `isInstitution: session?.user?.role === 'INSTITUTION',`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\route.ts`
**Line:** 43
**Context:** `institutionData: session?.user?.institution,`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\route.ts`
**Line:** 44
**Context:** `isApproved: session?.user?.institution?.status === 'APPROVED'`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\route.ts`
**Line:** 48
**Context:** `const isInstitutionUser = session?.user?.role === 'INSTITUTION' &&`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\route.ts`
**Line:** 49
**Context:** `session?.user?.institutionId === params.id;`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\route.ts`
**Line:** 50
**Context:** `const isAdmin = session?.user?.role === 'ADMIN';`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\upload\route.ts`
**Line:** 78
**Context:** `throw new Error('Institution not found');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\upload\route.ts`
**Line:** 140
**Context:** `throw new Error('Institution not found');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\preferences\route.ts`
**Line:** 9
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\preferences\route.ts`
**Line:** 76
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\preferences\route.ts`
**Line:** 134
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\route.ts`
**Line:** 9
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\route.ts`
**Line:** 58
**Context:** `read: stats.find(s => s.status === 'READ')?._count.status || 0,`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\route.ts`
**Line:** 59
**Context:** `unread: stats.find(s => s.status === 'UNREAD')?._count.status || 0,`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\route.ts`
**Line:** 60
**Context:** `sent: stats.find(s => s.status === 'SENT')?._count.status || 0,`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\route.ts`
**Line:** 61
**Context:** `failed: stats.find(s => s.status === 'FAILED')?._count.status || 0`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\route.ts`
**Line:** 86
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\send\route.ts`
**Line:** 17
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\send\route.ts`
**Line:** 170
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\subscribe\route.ts`
**Line:** 16
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\subscribe\route.ts`
**Line:** 98
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\unsubscribe\route.ts`
**Line:** 8
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\route.ts`
**Line:** 136
**Context:** `price: booking?.amount || payment?.[0]?.amount || course.base_price,`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\enroll\route.ts`
**Line:** 20
**Context:** `console.log('Session:', session?.user?.id);`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\modules\[moduleId]\quizzes\[quizId]\submit\route.ts`
**Line:** 89
**Context:** `isCorrect = studentAnswer?.toLowerCase().trim() === question.correct_answer?.toLowerCase().trim();`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 119
**Context:** `quizzes: module?.quizzes?.map(q => ({`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\achievements\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\courses\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.email) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\recent-modules\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\route.ts`
**Line:** 11
**Context:** `userId: session?.user?.id,`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\route.ts`
**Line:** 12
**Context:** `userRole: session?.user?.role`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\route.ts`
**Line:** 15
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\route.ts`
**Line:** 187
**Context:** `name: institutions.find(i => i.id === course?.institutionId)?.name || 'Unknown Institution'`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\stats\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\learning-path\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\learning-path\route.ts`
**Line:** 131
**Context:** `lastAccessed: progress?.lastStudyDate?.toISOString() || progress?.lastAccessedAt?.toISOString()`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\notifications\route.ts`
**Line:** 96
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\notifications\route.ts`
**Line:** 144
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\notifications\route.ts`
**Line:** 186
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\progress-visualization\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\progress-visualization\route.ts`
**Line:** 243
**Context:** `const courseTitle = progress.module?.course?.title || 'Unknown Course';`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\quiz\[quizId]\adaptive\route.ts`
**Line:** 41
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\quiz\[quizId]\adaptive\route.ts`
**Line:** 326
**Context:** `return answer.toLowerCase().trim() === question.correct_answer?.toLowerCase().trim();`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\recommendations\route.ts`
**Line:** 9
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\billing-history\route.ts`
**Line:** 9
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\payment\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\route.ts`
**Line:** 11
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\route.ts`
**Line:** 45
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\route.ts`
**Line:** 168
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\route.ts`
**Line:** 359
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\upgrade\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.id) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\tags\route.ts`
**Line:** 14
**Context:** `userRole: session?.user?.role`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\webhooks\stripe\route.ts`
**Line:** 8
**Context:** `throw new Error('STRIPE_SECRET_KEY is not set');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\webhooks\stripe\route.ts`
**Line:** 12
**Context:** `throw new Error('STRIPE_WEBHOOK_SECRET is not set');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\auth\register\enhanced\page.tsx`
**Line:** 450
**Context:** `throw new Error(data.message || 'Registration failed');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\auth\register\enhanced\page.tsx`
**Line:** 973
**Context:** `${formData.isAnnual ? selectedPlanData?.annualPrice : selectedPlanData?.price}/{formData.isAnnual ? 'year' : 'month'}`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\auth\register\institution\page.tsx`
**Line:** 151
**Context:** `throw new Error(data.message || 'Registration failed');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\auth\register\page.tsx`
**Line:** 38
**Context:** `throw new Error('Registration failed')`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\auth\signup\page.tsx`
**Line:** 39
**Context:** `throw new Error('Registration failed')`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\bookings\success\page.tsx`
**Line:** 47
**Context:** `throw new Error('Failed to update booking')`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\checkout\page.tsx`
**Line:** 85
**Context:** `throw new Error('Payment failed');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\institution\EnrollmentStatusCard.tsx`
**Line:** 91
**Context:** `throw new Error(error.message || 'Failed to send reminder');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\institution\MarkPaymentDialog.tsx`
**Line:** 71
**Context:** `throw new Error('Failed to mark payment as paid');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\institution\PayoutDialog.tsx`
**Line:** 60
**Context:** `throw new Error(error.message || 'Failed to mark payout as paid');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\LocationSelect.tsx`
**Line:** 41
**Context:** `if (!response.ok) throw new Error('Failed to fetch locations');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\student\EnrollmentModal.tsx`
**Line:** 39
**Context:** `throw new Error('Failed to calculate price');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\student\EnrollmentModal.tsx`
**Line:** 73
**Context:** `throw new Error(error.message || 'Failed to enroll in course');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\student\NotificationPreferences.tsx`
**Line:** 129
**Context:** `throw new Error('Failed to fetch preferences');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\student\NotificationPreferences.tsx`
**Line:** 162
**Context:** `throw new Error('Failed to save preferences');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\courses\[id]\page.tsx`
**Line:** 78
**Context:** `throw new Error('Failed to fetch course')`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\hooks\useCurrency.ts`
**Line:** 23
**Context:** `if (session?.user?.role === 'ADMIN') {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\hooks\useCurrency.ts`
**Line:** 30
**Context:** `if (session?.user?.role === 'INSTITUTION') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\hooks\useCurrency.ts`
**Line:** 33
**Context:** `throw new Error('Failed to fetch currency settings');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\hooks\useInstitution.ts`
**Line:** 20
**Context:** `if (!session?.user?.institutionId) {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\hooks\useInstitution.ts`
**Line:** 28
**Context:** `throw new Error('Failed to fetch institution data');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\hooks\useInstitution.ts`
**Line:** 40
**Context:** `}, [session?.user?.institutionId]);`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\analytics\InstitutionAnalyticsClient.tsx`
**Line:** 83
**Context:** `if (!session?.user?.institutionId) return;`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\analytics\InstitutionAnalyticsClient.tsx`
**Line:** 110
**Context:** `if (session?.user?.role === 'INSTITUTION') {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\analytics\InstitutionAnalyticsClient.tsx`
**Line:** 330
**Context:** `{session?.user?.institutionId && (`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\analytics\InstitutionAnalyticsClient.tsx`
**Line:** 350
**Context:** `{analytics?.topReferrers.map((referrer, index) => (`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\analytics\InstitutionAnalyticsClient.tsx`
**Line:** 382
**Context:** `{analytics?.recentEvents?.map((event, index) => (`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\analytics\quiz-analytics\page.tsx`
**Line:** 84
**Context:** `if (!response.ok) throw new Error('Failed to fetch analytics');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\content-management\page.tsx`
**Line:** 67
**Context:** `if (session?.user?.role !== 'INSTITUTION') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\content-management\page.tsx`
**Line:** 133
**Context:** `throw new Error('Failed to save content');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\content-management\page.tsx`
**Line:** 155
**Context:** `throw new Error('Failed to delete content');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\add\page.tsx`
**Line:** 43
**Context:** `throw new Error(error.message || 'Failed to create course');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\components\MonthlyPricingTable.tsx`
**Line:** 105
**Context:** `throw new Error('Failed to fetch prices');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\components\TimeBasedPricingRules.tsx`
**Line:** 86
**Context:** `if (!response.ok) throw new Error('Failed to save pricing rules');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\components\WeeklyPricingTable.tsx`
**Line:** 279
**Context:** `throw new Error(errorData.error || 'Failed to save prices');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 126
**Context:** `institutionId: session?.user?.institutionId || ''`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 140
**Context:** `if (session?.user?.institutionId) {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 167
**Context:** `throw new Error(error.error || 'Failed to fetch courses');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 179
**Context:** `throw new Error('Invalid courses data structure received from API');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 196
**Context:** `if (!response.ok) throw new Error('Failed to fetch categories');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 211
**Context:** `const institutionId = session?.user?.institutionId;`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 259
**Context:** `throw new Error(responseData.error || 'Failed to save course');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 312
**Context:** `if (!response.ok) throw new Error('Failed to delete course');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 343
**Context:** `institutionId: session?.user?.institutionId || ''`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 376
**Context:** `if (!response.ok) throw new Error('Failed to update course settings');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 567
**Context:** `institutionId: session?.user?.institutionId || ''`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 900
**Context:** `moduleCount: selectedCourseForModules?.modules?.length,`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 945
**Context:** `router.push(`/institution/courses/${selectedCourseForModules?.id}/modules/${module.id}/edit`);`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 954
**Context:** `router.push(`/institution/courses/${selectedCourseForModules?.id}/modules/${module.id}/content`);`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 1003
**Context:** `institutionId: session?.user?.institutionId || ''`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 1025
**Context:** `institutionId={session?.user?.institutionId || ''}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\edit\page.tsx`
**Line:** 76
**Context:** `institutionId: session?.user?.institutionId || ''`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\edit\page.tsx`
**Line:** 85
**Context:** `if (session?.user?.institutionId) {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\edit\page.tsx`
**Line:** 98
**Context:** `throw new Error('Failed to fetch course');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\edit\page.tsx`
**Line:** 123
**Context:** `institutionId: session?.user?.institutionId || ''`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\edit\page.tsx`
**Line:** 136
**Context:** `if (!response.ok) throw new Error('Failed to fetch categories');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\edit\page.tsx`
**Line:** 161
**Context:** `throw new Error(errorData.error || 'Failed to update course');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\edit\page.tsx`
**Line:** 280
**Context:** `institutionId={session?.user?.institutionId || ''}`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\enrollments\page.tsx`
**Line:** 104
**Context:** `throw new Error('Failed to fetch enrollments');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\new\page.tsx`
**Line:** 52
**Context:** `throw new Error('Failed to fetch course');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\new\page.tsx`
**Line:** 92
**Context:** `throw new Error('Failed to create module');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\page.tsx`
**Line:** 50
**Context:** `throw new Error('Failed to fetch modules');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\page.tsx`
**Line:** 86
**Context:** `throw new Error('Failed to delete module');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\new\page.tsx`
**Line:** 197
**Context:** `throw new Error('Failed to create content');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\new\page.tsx`
**Line:** 314
**Context:** `if (!uploadRes.ok) throw new Error('Failed to upload media');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\new\page.tsx`
**Line:** 323
**Context:** `if (!response.ok) throw new Error('Failed to create quiz');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\new\page.tsx`
**Line:** 416
**Context:** `throw new Error(errorData || 'Failed to create exercise');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\page.tsx`
**Line:** 85
**Context:** `throw new Error('Failed to fetch module');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\page.tsx`
**Line:** 150
**Context:** `throw new Error('Failed to delete content item');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\page.tsx`
**Line:** 233
**Context:** `e.currentTarget.nextElementSibling?.classList.remove('hidden');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\[contentId]\edit\page.tsx`
**Line:** 67
**Context:** `throw new Error(`Failed to fetch content: ${response.status} - ${errorText}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\[contentId]\edit\page.tsx`
**Line:** 157
**Context:** `throw new Error('Failed to update content');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\edit\page.tsx`
**Line:** 69
**Context:** `throw new Error('Failed to fetch module');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\edit\page.tsx`
**Line:** 95
**Context:** `throw new Error('Failed to fetch course');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\edit\page.tsx`
**Line:** 129
**Context:** `throw new Error('Failed to update module');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\page.tsx`
**Line:** 61
**Context:** `throw new Error('Failed to fetch module');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\page.tsx`
**Line:** 69
**Context:** `throw new Error('Failed to fetch quizzes');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\page.tsx`
**Line:** 105
**Context:** `throw new Error('Failed to delete quiz');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 55
**Context:** `throw new Error('Failed to fetch quiz');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 86
**Context:** `throw new Error('Failed to update quiz');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\page.tsx`
**Line:** 55
**Context:** `throw new Error(`Failed to fetch quiz: ${response.status} ${errorText}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\page.tsx`
**Line:** 88
**Context:** `throw new Error('Failed to delete quiz');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 66
**Context:** `throw new Error('Failed to fetch quiz');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 155
**Context:** `throw new Error('Failed to add question');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 359
**Context:** `value={questionData.question_config?.leftItems?.join('\n') || ''}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 377
**Context:** `value={questionData.question_config?.rightItems?.join('\n') || ''}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 401
**Context:** `value={questionData.question_config?.dragItems?.join('\n') || ''}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 419
**Context:** `value={questionData.question_config?.dropZones?.join('\n') || ''}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 491
**Context:** `value={questionData.question_config?.orderItems?.join('\n') || ''}`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\page.tsx`
**Line:** 52
**Context:** `throw new Error('Failed to fetch quiz');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\page.tsx`
**Line:** 88
**Context:** `throw new Error('Failed to delete question');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 88
**Context:** `throw new Error('Failed to fetch quiz');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 96
**Context:** `throw new Error('Failed to fetch question');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 244
**Context:** `throw new Error(error);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 270
**Context:** `throw new Error(error);`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 419
**Context:** `value={formData.question_config?.leftItems?.join('\n') || ''}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 437
**Context:** `value={formData.question_config?.rightItems?.join('\n') || ''}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 461
**Context:** `value={formData.question_config?.dragItems?.join('\n') || ''}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 479
**Context:** `value={formData.question_config?.dropZones?.join('\n') || ''}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 551
**Context:** `value={formData.question_config?.orderItems?.join('\n') || ''}`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\page.tsx`
**Line:** 101
**Context:** `throw new Error('Failed to fetch course');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\dashboard\DashboardClient.tsx`
**Line:** 103
**Context:** `throw new Error(errorData.error || 'Failed to approve payment');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\dashboard\DashboardClient.tsx`
**Line:** 133
**Context:** `if (!response.ok) throw new Error('Failed to reject payment');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\dashboard\DashboardClient.tsx`
**Line:** 158
**Context:** `if (payment.paymentMethod && !paymentSettings?.institutionApprovableMethods?.includes(payment.paymentMethod)) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\dashboard\page.tsx`
**Line:** 10
**Context:** `if (!session?.user?.institutionId) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\dashboard\page.tsx`
**Line:** 198
**Context:** `const institutionAmount = payment?.metadata?.institutionAmount ||`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\dashboard\page.tsx`
**Line:** 205
**Context:** `commissionAmount: payment?.metadata?.commissionAmount || 0,`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\payments\page.tsx`
**Line:** 89
**Context:** `if (!paymentsResponse.ok) throw new Error('Failed to fetch payments');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\payments\page.tsx`
**Line:** 94
**Context:** `if (session?.user?.institutionId) {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\payments\page.tsx`
**Line:** 119
**Context:** `throw new Error(errorData.error || 'Failed to approve payment');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\payments\page.tsx`
**Line:** 149
**Context:** `if (!response.ok) throw new Error('Failed to reject payment');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\payments\page.tsx`
**Line:** 189
**Context:** `if (payment.paymentMethod && !paymentSettings?.institutionApprovableMethods?.includes(payment.paymentMethod)) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\payments\page.tsx`
**Line:** 206
**Context:** `payment.referenceNumber?.toLowerCase().includes(searchTerm.toLowerCase());`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\payments\PaymentsClient.tsx`
**Line:** 151
**Context:** `${payment.metadata?.commissionAmount?.toFixed(2) || '0.00'} (`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\payments\PaymentsClient.tsx`
**Line:** 158
**Context:** `${payment.metadata?.institutionAmount?.toFixed(2) || payment.amount.toFixed(2)}`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\00institution-profile.tsx`
**Line:** 101
**Context:** `throw new Error('Failed to upload logo');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\00institution-profile.tsx`
**Line:** 129
**Context:** `throw new Error('Failed to upload main image');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\00institution-profile.tsx`
**Line:** 158
**Context:** `throw new Error('Failed to delete logo');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\00institution-profile.tsx`
**Line:** 187
**Context:** `throw new Error('Failed to delete main image');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\00institution-profile.tsx`
**Line:** 217
**Context:** `throw new Error('Failed to upload facilities');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\00institution-profile.tsx`
**Line:** 252
**Context:** `throw new Error('Failed to update profile');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\00institution-profile.tsx`
**Line:** 393
**Context:** `{citiesByCountryAndState[formData.country]?.[formData.state]?.map((city) => (`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 62
**Context:** `} else if (status === 'authenticated' && session?.user?.role !== 'INSTITUTION') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 82
**Context:** `throw new Error('Failed to fetch institution');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 157
**Context:** `if (!session?.user?.institutionId) return;`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 221
**Context:** `throw new Error('Failed to upload logo');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 249
**Context:** `throw new Error('Failed to delete logo');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 278
**Context:** `throw new Error('Failed to upload main image');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 312
**Context:** `throw new Error('Failed to delete main image');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 406
**Context:** `throw new Error('Failed to update profile');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 445
**Context:** `throw new Error('Failed to upload facilities');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 471
**Context:** `throw new Error('Failed to delete facility');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 709
**Context:** `{selectedState && citiesByCountryAndState[selectedCountry]?.[selectedState]?.map((city) => (`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 873
**Context:** `{session?.user?.institutionId && (`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\page.tsx`
**Line:** 123
**Context:** `bank.description?.toLowerCase().includes(searchTerm.toLowerCase());`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\page.tsx`
**Line:** 454
**Context:** `bank.description?.toLowerCase().includes(searchTerm.toLowerCase());`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\page.tsx`
**Line:** 468
**Context:** `bank.description?.toLowerCase().includes(searchTerm.toLowerCase());`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\page.tsx`
**Line:** 151
**Context:** `question.explanation?.toLowerCase().includes(searchTerm.toLowerCase());`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\page.tsx`
**Line:** 389
**Context:** `question.explanation?.toLowerCase().includes(searchTerm.toLowerCase());`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\page.tsx`
**Line:** 405
**Context:** `question.explanation?.toLowerCase().includes(searchTerm.toLowerCase());`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\share\page.tsx`
**Line:** 137
**Context:** `question.explanation?.toLowerCase().includes(searchTerm.toLowerCase());`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\share\page.tsx`
**Line:** 276
**Context:** `question.explanation?.toLowerCase().includes(searchTerm.toLowerCase());`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\share\page.tsx`
**Line:** 295
**Context:** `question.explanation?.toLowerCase().includes(searchTerm.toLowerCase());`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\quizzes\page.tsx`
**Line:** 213
**Context:** `quiz.description?.toLowerCase().includes(searchTerm.toLowerCase()) ||`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\quizzes\page.tsx`
**Line:** 428
**Context:** `const course = quizzes.find(q => q.module.course.id === courseId)?.module.course;`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\settings\page.tsx`
**Line:** 125
**Context:** `if (!session?.user?.role || session.user.role !== 'INSTITUTION') {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\settings\page.tsx`
**Line:** 143
**Context:** `const response = await fetch(`/api/institution/settings?institutionId=${session?.user?.institutionId}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\settings\page.tsx`
**Line:** 144
**Context:** `if (!response.ok) throw new Error('Failed to fetch settings');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\settings\page.tsx`
**Line:** 169
**Context:** `if (!response.ok) throw new Error('Failed to fetch logs');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\settings\page.tsx`
**Line:** 189
**Context:** `institutionId: session?.user?.institutionId,`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\settings\page.tsx`
**Line:** 194
**Context:** `if (!response.ok) throw new Error('Failed to update settings');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\setup\page.tsx`
**Line:** 47
**Context:** `throw new Error('Failed to setup institution');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\shared-questions\page.tsx`
**Line:** 167
**Context:** `question.explanation?.toLowerCase().includes(searchTerm.toLowerCase()) ||`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\students\page.tsx`
**Line:** 93
**Context:** `if (session?.user?.role?.toUpperCase() !== 'INSTITUTION') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\students\page.tsx`
**Line:** 105
**Context:** `if (!response.ok) throw new Error('Failed to fetch students');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\students\[id]\page.tsx`
**Line:** 106
**Context:** `if (!session?.user?.role || (session.user.role !== 'INSTITUTION' && session.user.role !== 'ADMIN')) {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\students\[id]\page.tsx`
**Line:** 119
**Context:** `throw new Error('Failed to fetch student details');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\students\[id]\page.tsx`
**Line:** 167
**Context:** `const originalStartDate = new Date(student?.enrolledCourses.find(c => c.id === editingEnrollment.id)?.start_date || '').toISOString().split('T')[0];`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\students\[id]\page.tsx`
**Line:** 168
**Context:** `const originalEndDate = new Date(student?.enrolledCourses.find(c => c.id === editingEnrollment.id)?.end_date || '').toISOString().split('T')[0];`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\students\[id]\page.tsx`
**Line:** 264
**Context:** `throw new Error(errorData.error || 'Failed to update enrollment dates');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\students\[id]\page.tsx`
**Line:** 441
**Context:** `{session?.user?.role === 'ADMIN' ? (`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\students\[id]\page.tsx`
**Line:** 509
**Context:** `value={editingEnrollment?.dates?.startDate || ''}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\students\[id]\page.tsx`
**Line:** 520
**Context:** `value={editingEnrollment?.dates?.endDate || ''}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\students\[id]\page.tsx`
**Line:** 523
**Context:** `min={editingEnrollment?.dates?.startDate || new Date().toISOString().split('T')[0]}`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution-registration\page.tsx`
**Line:** 151
**Context:** `throw new Error(data.error || data.details || 'Failed to register institution');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution-registration\page.tsx`
**Line:** 394
**Context:** `citiesByCountryAndState[formData.country]?.[formData.state]?.map(city => (`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institutions\[id]\page.tsx`
**Line:** 47
**Context:** `throw new Error('Failed to fetch institution details')`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\lib\invoice-handlers.ts`
**Line:** 11
**Context:** `throw new Error(error.message || 'Failed to send invoice');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\lib\invoice-handlers.ts`
**Line:** 27
**Context:** `throw new Error(error.message || 'Failed to download invoice');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\lib\payment-service.ts`
**Line:** 6
**Context:** `throw new Error('STRIPE_SECRET_KEY is not set');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\lib\payment-service.ts`
**Line:** 40
**Context:** `throw new Error('Enrollment not found');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\lib\payment-service.ts`
**Line:** 85
**Context:** `throw new Error('Enrollment not found');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\lib\utils.ts`
**Line:** 124
**Context:** `fractionDigits: parts.find(part => part.type === 'fraction')?.value.length || 2,`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\settings\page.tsx`
**Line:** 61
**Context:** `throw new Error(errorData.message || 'Failed to fetch settings');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\settings\page.tsx`
**Line:** 111
**Context:** `throw new Error(errorData.message || 'Failed to update settings');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\settings\page.tsx`
**Line:** 213
**Context:** `<p><span className="font-medium">Institution:</span> {settings?.institution.name}</p>`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\settings\page.tsx`
**Line:** 214
**Context:** `<p><span className="font-medium">Currency:</span> {settings?.institution.currency}</p>`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\components\EnrollmentModal.tsx`
**Line:** 88
**Context:** `if (!response.ok) throw new Error('Failed to fetch course details');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\components\EnrollmentModal.tsx`
**Line:** 210
**Context:** `throw new Error(data.details || 'Failed to calculate price');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\components\EnrollmentModal.tsx`
**Line:** 323
**Context:** `throw new Error(error.message || 'Failed to enroll in course');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\components\PayCourseButton.tsx`
**Line:** 96
**Context:** `throw new Error(data.error || data.details || 'Failed to process payment');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\courses\page.tsx`
**Line:** 70
**Context:** `if (!response.ok) throw new Error('Failed to fetch courses');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\courses\page.tsx`
**Line:** 96
**Context:** `course.institution?.name.toLowerCase().includes(searchTerm.toLowerCase())`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\courses\[id]\modules\[moduleId]\page.tsx`
**Line:** 121
**Context:** `if (session?.user?.role?.toUpperCase() !== 'STUDENT') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\courses\[id]\modules\[moduleId]\page.tsx`
**Line:** 133
**Context:** `if (!response.ok) throw new Error('Failed to fetch module details');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\courses\[id]\modules\[moduleId]\page.tsx`
**Line:** 192
**Context:** `if (!res.ok) throw new Error("Failed to submit exercise");`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\courses\[id]\page.tsx`
**Line:** 74
**Context:** `if (session?.user?.role?.toUpperCase() !== 'STUDENT') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\courses\[id]\page.tsx`
**Line:** 86
**Context:** `if (!response.ok) throw new Error('Failed to fetch course details');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\courses\[id]\page.tsx`
**Line:** 111
**Context:** `if (!response.ok) throw new Error('Failed to update progress');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\courses\[id]\payment\page.tsx`
**Line:** 12
**Context:** `throw new Error('NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY is not set');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\courses\[id]\payment\page.tsx`
**Line:** 46
**Context:** `throw new Error('Failed to create payment intent');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\page.tsx`
**Line:** 233
**Context:** `Welcome back, {session?.user?.name}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\page.tsx`
**Line:** 242
**Context:** `{session?.user?.id && (`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\page.tsx`
**Line:** 247
**Context:** `{session?.user?.id && (`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\page.tsx`
**Line:** 252
**Context:** `{session?.user?.id && (`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\page_backup.tsx`
**Line:** 232
**Context:** `Welcome back, {session?.user?.name}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\page_backup.tsx`
**Line:** 241
**Context:** `{session?.user?.id && (`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\page_backup.tsx`
**Line:** 246
**Context:** `{session?.user?.id && (`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\payments\history\page.tsx`
**Line:** 56
**Context:** `{payment.enrollment?.course.title || 'Course Payment'}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\payments\history\page.tsx`
**Line:** 86
**Context:** `{payment.enrollment?.course.institution.name || 'N/A'}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\payments\page.tsx`
**Line:** 121
**Context:** `{payment.enrollment?.course.title || 'Course Payment'}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\payments\page.tsx`
**Line:** 143
**Context:** `{payment.enrollment?.course.institution.name || 'N/A'}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\payments\process\[paymentId]\page.tsx`
**Line:** 67
**Context:** `{payment.enrollment?.course.title}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\payments\process\[paymentId]\page.tsx`
**Line:** 73
**Context:** `{payment.enrollment?.course.institution.name}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\profile\page.tsx`
**Line:** 54
**Context:** `if (session?.user?.role?.toUpperCase() !== 'STUDENT') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\profile\page.tsx`
**Line:** 66
**Context:** `if (!response.ok) throw new Error('Failed to fetch profile');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\profile\page.tsx`
**Line:** 93
**Context:** `throw new Error('Failed to update profile');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\profile\page.tsx`
**Line:** 127
**Context:** `throw new Error('Failed to update password');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\progress\page.tsx`
**Line:** 110
**Context:** `if (session?.user?.role?.toUpperCase() !== 'STUDENT') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\settings\page.tsx`
**Line:** 51
**Context:** `throw new Error('Failed to fetch profile');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\settings\page.tsx`
**Line:** 85
**Context:** `throw new Error(error.message || 'Failed to update profile');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\subscription-signup\page.tsx`
**Line:** 263
**Context:** `if (!selectedPlan || !session?.user?.id) {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\subscription-signup\page.tsx`
**Line:** 272
**Context:** `throw new Error('Selected plan not found');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\subscription-signup\page.tsx`
**Line:** 293
**Context:** `throw new Error(error.error || 'Failed to create payment intent');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\subscription-signup\page.tsx`
**Line:** 311
**Context:** `throw new Error('Selected plan not found');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\_admin_backup\course-categories.tsx`
**Line:** 47
**Context:** `if (!response.ok) throw new Error('Failed to fetch categories');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\_admin_backup\course-categories.tsx`
**Line:** 75
**Context:** `throw new Error(error || 'Failed to save category');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\_admin_backup\course-categories.tsx`
**Line:** 109
**Context:** `throw new Error(error || 'Failed to delete category');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\_admin_backup\page.tsx`
**Line:** 71
**Context:** `if (!response.ok) throw new Error('Failed to fetch data');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\_admin_backup\page.tsx`
**Line:** 102
**Context:** `if (!response.ok) throw new Error('Failed to update institution');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\_admin_backup\page.tsx`
**Line:** 129
**Context:** `if (!response.ok) throw new Error('Failed to update commission rate');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\_admin_backup\page.tsx`
**Line:** 156
**Context:** `if (!response.ok) throw new Error('Failed to update subscription plan');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\admin\categories\AddCategoryDialog.tsx`
**Line:** 56
**Context:** `throw new Error(error.message || 'Failed to create category');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\admin\categories\EditCategoryDialog.tsx`
**Line:** 74
**Context:** `throw new Error(error.message || 'Failed to update category');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\admin\QuestionPreview.tsx`
**Line:** 278
**Context:** `{question.question_config?.leftItems?.map((item: string, index: number) => (`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\admin\QuestionPreview.tsx`
**Line:** 285
**Context:** `{question.question_config?.rightItems?.map((item: string, index: number) => (`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\admin\Sidebar.tsx`
**Line:** 120
**Context:** `throw new Error(error.message || 'Failed to cleanup sample data');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvancedMobileDashboard.tsx`
**Line:** 223
**Context:** `<p className="text-2xl font-bold">{analyticsData?.summary?.offlineSessions || 0}</p>`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvancedMobileDashboard.tsx`
**Line:** 243
**Context:** `{analyticsData?.summary?.lastSync`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvancedMobileDashboard.tsx`
**Line:** 252
**Context:** `{syncStats?.successRate?.toFixed(1) || 0}%`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvancedMobileDashboard.tsx`
**Line:** 282
**Context:** `{cacheStats?.cacheDetails?.[0]?.hitRate?.toFixed(1) || 0}%`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvancedMobileDashboard.tsx`
**Line:** 288
**Context:** `{analyticsData?.summary?.performanceMetrics?.averageLoadTime?.toFixed(0) || 0}ms`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvancedSearch.tsx`
**Line:** 302
**Context:** `{facets?.categories.map((category) => (`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvancedSearch.tsx`
**Line:** 323
**Context:** `{facets?.levels.map((level) => (`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvancedSearch.tsx`
**Line:** 344
**Context:** `{facets?.institutions.map((institution) => (`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvancedSearch.tsx`
**Line:** 403
**Context:** `{facets?.frameworks.map((framework) => (`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvancedSearch.tsx`
**Line:** 435
**Context:** `Category: {facets?.categories.find(c => c.id === filters.category)?.name}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvancedSearch.tsx`
**Line:** 451
**Context:** `Institution: {facets?.institutions.find(i => i.id === filters.institution)?.name}`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\ChunkErrorBoundary.tsx`
**Line:** 207
**Context:** `event.reason?.message?.includes('Loading chunk') ||`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\ChunkErrorBoundary.tsx`
**Line:** 208
**Context:** `event.reason?.message?.includes('ChunkLoadError')`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\CourseSearch.tsx`
**Line:** 73
**Context:** `throw new Error(errorData.message || 'Failed to search courses');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\CourseSearch.tsx`
**Line:** 80
**Context:** `throw new Error('Invalid response format: courses array is missing');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\CoursesPageClient.tsx`
**Line:** 91
**Context:** `if (enrollCourseId && status === 'authenticated' && session?.user?.role === 'STUDENT') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\CoursesPageClient.tsx`
**Line:** 107
**Context:** `if (!response.ok) throw new Error('Failed to fetch courses');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\CoursesPageClient.tsx`
**Line:** 138
**Context:** `course.institution?.name.toLowerCase().includes(searchTerm.toLowerCase())`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\CoursesPageClient.tsx`
**Line:** 185
**Context:** `if (session?.user?.role !== 'STUDENT') {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\CoursesPageClient.tsx`
**Line:** 401
**Context:** `userRole={session?.user?.role}`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\CourseTagManager.tsx`
**Line:** 57
**Context:** `throw new Error(error.error || 'Failed to fetch tags');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\CourseTagManager.tsx`
**Line:** 63
**Context:** `throw new Error('Invalid response format from server');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\CourseTagManager.tsx`
**Line:** 134
**Context:** `throw new Error(error.error || 'Failed to create tag');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\DiscountSettingsForm.tsx`
**Line:** 41
**Context:** `throw new Error('Failed to fetch discount settings');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\DiscountSettingsForm.tsx`
**Line:** 68
**Context:** `throw new Error('Failed to update discount settings');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\HomePageClient.tsx`
**Line:** 58
**Context:** `userRole: session?.user?.role`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionForm.tsx`
**Line:** 221
**Context:** `throw new Error('Failed to delete logo');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionForm.tsx`
**Line:** 247
**Context:** `throw new Error('Failed to delete main image');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionForm.tsx`
**Line:** 285
**Context:** `throw new Error(error.error || 'Failed to upload facility image');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionForm.tsx`
**Line:** 447
**Context:** `throw new Error(errorData.error || 'Failed to update profile');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionForm.tsx`
**Line:** 617
**Context:** `{citiesByCountryAndState[formData.country]?.[formData.state]?.map((city) => (`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionSidebar.tsx`
**Line:** 115
**Context:** `if (!response.ok) throw new Error('Failed to fetch courses');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\MainNav.tsx`
**Line:** 37
**Context:** `role: session?.user?.role`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\MonthlyPricingTable.tsx`
**Line:** 162
**Context:** `throw new Error('Failed to fetch prices');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\MonthlyPricingTable.tsx`
**Line:** 227
**Context:** `throw new Error(errorData.error || 'Failed to save prices');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\MonthlyPricingTable.tsx`
**Line:** 266
**Context:** `throw new Error('Failed to fetch prices');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\Navbar.tsx`
**Line:** 30
**Context:** `console.log('Navbar - Session authenticated:', session?.user?.email, 'Role:', session?.user?.role);`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\Navbar.tsx`
**Line:** 69
**Context:** `if (session?.user?.role === 'INSTITUTION') {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\Navbar.tsx`
**Line:** 79
**Context:** `if (session?.user?.role === 'INSTITUTION') {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\Navbar.tsx`
**Line:** 89
**Context:** `if (session?.user?.role === 'INSTITUTION') {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\Navbar.tsx`
**Line:** 99
**Context:** `if (session?.user?.role === 'ADMIN') {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\PricingPageClient.tsx`
**Line:** 138
**Context:** `price: isYearly ? plans.find(p => p.id === planId)?.price.yearly : plans.find(p => p.id === planId)?.price.monthly`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\providers\InstitutionProvider.tsx`
**Line:** 24
**Context:** `if (status !== 'authenticated' || session?.user?.role !== 'INSTITUTION' || !session?.user?.institutionId) {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\providers\InstitutionProvider.tsx`
**Line:** 36
**Context:** `throw new Error('Failed to fetch institution data');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\providers\InstitutionProvider.tsx`
**Line:** 61
**Context:** `}, [session?.user?.role, session?.user?.institutionId, status]);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\providers\InstitutionProvider.tsx`
**Line:** 80
**Context:** `throw new Error('useInstitutionContext must be used within an InstitutionProvider');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\ServiceWorkerProvider.tsx`
**Line:** 228
**Context:** `throw new Error('useServiceWorkerContext must be used within a ServiceWorkerProvider');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\AdaptiveQuizInterface.tsx`
**Line:** 95
**Context:** `if (!response.ok) throw new Error('Failed to start quiz');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\AdaptiveQuizInterface.tsx`
**Line:** 135
**Context:** `if (!response.ok) throw new Error('Failed to submit answer');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\AdvancedQuizInterface.tsx`
**Line:** 416
**Context:** `{question.question_config?.leftItems?.map((item: string, index: number) => (`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\AdvancedQuizInterface.tsx`
**Line:** 430
**Context:** `{question.question_config?.rightItems?.map((rightItem: string, rightIndex: number) => (`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\NotificationPreferences.tsx`
**Line:** 106
**Context:** `throw new Error('Failed to fetch preferences');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\NotificationPreferences.tsx`
**Line:** 132
**Context:** `throw new Error('Failed to save preferences');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\StudentSubscriptionCard.tsx`
**Line:** 176
**Context:** `throw new Error('Failed to upgrade subscription');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\SubscriptionManagementCard.tsx`
**Line:** 177
**Context:** `throw new Error('Failed to upgrade subscription');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\SubscriptionManagementCard.tsx`
**Line:** 199
**Context:** `throw new Error('Failed to cancel subscription');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\SubscriptionManagementCard.tsx`
**Line:** 493
**Context:** `{currentPlan?.features.map((feature, index) => (`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\TagFilter.tsx`
**Line:** 39
**Context:** `if (!response.ok) throw new Error('Failed to fetch tags');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\TagSelector.tsx`
**Line:** 31
**Context:** `if (!response.ok) throw new Error('Failed to fetch tags');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\hooks\useServiceWorker.ts`
**Line:** 122
**Context:** `throw new Error('Service Worker not registered');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\hooks\useServiceWorker.ts`
**Line:** 127
**Context:** `throw new Error('Notification permission denied');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\hooks\useServiceWorker.ts`
**Line:** 262
**Context:** `throw new Error('Background sync not supported');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\hooks\useSessionSync.ts`
**Line:** 17
**Context:** `console.log('useSessionSync - Session authenticated:', session?.user?.email);`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\hooks\useSessionSync.ts`
**Line:** 55
**Context:** `userRole: session?.user?.role`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\automated-commission-service.ts`
**Line:** 59
**Context:** `throw new Error('Payment not found');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\automated-commission-service.ts`
**Line:** 63
**Context:** `throw new Error('Payment is not completed');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\automated-commission-service.ts`
**Line:** 70
**Context:** `throw new Error('Institution does not have an active subscription');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\automated-commission-service.ts`
**Line:** 79
**Context:** `throw new Error(`Commission tier not found for plan: ${subscription.planType}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\automated-commission-service.ts`
**Line:** 196
**Context:** `throw new Error('Institution not found');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\automated-commission-service.ts`
**Line:** 255
**Context:** `throw new Error('No pending commissions found');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\automated-commission-service.ts`
**Line:** 261
**Context:** `throw new Error('Payout amount exceeds pending commission amount');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\background-sync.ts`
**Line:** 318
**Context:** `throw new Error(`Dependencies failed: ${failedDependencies.length}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\background-sync.ts`
**Line:** 383
**Context:** `throw new Error(`HTTP ${response.status}: ${response.statusText}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\background-sync.ts`
**Line:** 447
**Context:** `throw new Error(`Dependency not found or failed: ${dependencyId}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\cache-utils.ts`
**Line:** 66
**Context:** `throw new Error(`HTTP error! status: ${response.status}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\content-preloader.ts`
**Line:** 295
**Context:** `throw new Error(`HTTP ${response.status}: ${response.statusText}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\encryption.ts`
**Line:** 89
**Context:** `throw new Error('Failed to encrypt data');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\encryption.ts`
**Line:** 122
**Context:** `throw new Error('Failed to decrypt data');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\encryption.ts`
**Line:** 217
**Context:** `throw new Error('Invalid encryption context');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\enrollment\state-manager.ts`
**Line:** 116
**Context:** `throw new Error('Enrollment not found');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\enrollment\state-manager.ts`
**Line:** 120
**Context:** `throw new Error(`Invalid state transition from ${enrollment.status} to ${newState}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\enrollment\state-manager.ts`
**Line:** 152
**Context:** `throw new Error('Payment not found');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\enrollment\state-manager.ts`
**Line:** 156
**Context:** `throw new Error(`Invalid state transition from ${payment.status} to ${newState}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\enrollment\state-manager.ts`
**Line:** 188
**Context:** `throw new Error('Booking not found');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\enrollment\state-manager.ts`
**Line:** 192
**Context:** `throw new Error(`Invalid state transition from ${booking.status} to ${newState}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification-integration.ts`
**Line:** 34
**Context:** `throw new Error('Student or course not found');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification-integration.ts`
**Line:** 86
**Context:** `throw new Error('Required data not found for quiz notification');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification-integration.ts`
**Line:** 128
**Context:** `throw new Error('Student not found');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification-integration.ts`
**Line:** 173
**Context:** `throw new Error('Required data not found for module notification');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification-integration.ts`
**Line:** 211
**Context:** `throw new Error('Student not found');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification-integration.ts`
**Line:** 249
**Context:** `throw new Error('User not found');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification-integration.ts`
**Line:** 289
**Context:** `throw new Error('User not found');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification-integration.ts`
**Line:** 325
**Context:** `throw new Error('User not found');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification.ts`
**Line:** 52
**Context:** `throw new Error(`Template '${templateName}' not found or inactive`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification.ts`
**Line:** 61
**Context:** `throw new Error(`Recipient with ID '${recipientId}' not found`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification.ts`
**Line:** 132
**Context:** `throw new Error(`Unsupported notification type: ${data.type}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification.ts`
**Line:** 200
**Context:** `throw new Error('SMS notifications not yet implemented');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification.ts`
**Line:** 209
**Context:** `throw new Error('Push notifications not yet implemented');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\offline-storage.ts`
**Line:** 11
**Context:** `throw new Error('IndexedDB not available');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment\manual-payment.ts`
**Line:** 32
**Context:** `throw new Error('Enrollment not found');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment\manual-payment.ts`
**Line:** 120
**Context:** `throw new Error('Enrollment not found');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment\service.ts`
**Line:** 12
**Context:** `this.stripe = new Stripe(stripeConfig?.config.secretKey || '', {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment\service.ts`
**Line:** 30
**Context:** `throw new Error('Enrollment not found');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment\service.ts`
**Line:** 48
**Context:** `throw new Error('Unsupported payment method');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment\service.ts`
**Line:** 91
**Context:** `throw new Error('PayPal integration not implemented yet');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment-service.ts`
**Line:** 32
**Context:** `throw new Error('Enrollment not found');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment-service.ts`
**Line:** 103
**Context:** `throw new Error('Enrollment not found');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment-service.ts`
**Line:** 117
**Context:** `throw new Error('Related data not found');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment-service.ts`
**Line:** 165
**Context:** `throw new Error('Related data not found');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment-service.ts`
**Line:** 244
**Context:** `throw new Error('Enrollment not found');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment-service.ts`
**Line:** 261
**Context:** `throw new Error('Related data not found');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\permissions.ts`
**Line:** 105
**Context:** `if (!user?.institution?.id) {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\prisma.ts`
**Line:** 26
**Context:** `throw new Error('Prisma client failed to initialize');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\push-notifications.ts`
**Line:** 124
**Context:** `throw new Error('Service worker not registered');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\push-notifications.ts`
**Line:** 129
**Context:** `throw new Error('Notification permission denied');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\push-notifications.ts`
**Line:** 236
**Context:** `throw new Error('Failed to send subscription to server');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\push-notifications.ts`
**Line:** 256
**Context:** `throw new Error('Failed to remove subscription from server');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\push-notifications.ts`
**Line:** 273
**Context:** `throw new Error('Service worker not registered');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\react-optimizer.tsx`
**Line:** 297
**Context:** `throw new Error(`HTTP error! status: ${response.status}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\revenue-tracking-service.ts`
**Line:** 178
**Context:** `throw new Error('Failed to calculate revenue metrics');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\revenue-tracking-service.ts`
**Line:** 402
**Context:** `throw new Error('Failed to calculate revenue breakdown');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\revenue-tracking-service.ts`
**Line:** 521
**Context:** `throw new Error('Failed to calculate revenue projection');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\revenue-tracking-service.ts`
**Line:** 564
**Context:** `throw new Error('Failed to generate revenue report');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\s3.ts`
**Line:** 28
**Context:** `throw new Error('Failed to upload file to S3');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\search.ts`
**Line:** 298
**Context:** `if (course.description?.toLowerCase().includes(queryLower)) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\search.ts`
**Line:** 347
**Context:** `if (course.description?.toLowerCase().includes(queryLower)) {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 94
**Context:** `throw new Error('Institution not found');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 131
**Context:** `throw new Error(`Institution not found: ${institutionId}`);`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 137
**Context:** `const currentPlan = institution.subscription?.commissionTier?.planType;`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 155
**Context:** `const isFallback = institution.subscription?.metadata?.isFallback || false;`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 159
**Context:** `institution.subscription?.commissionTier?.planType !== 'ENTERPRISE';`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 161
**Context:** `institution.subscription?.commissionTier?.planType !== 'STARTER';`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 164
**Context:** `const billingHistory: BillingHistoryItem[] = institution.subscription?.billingHistory?.map(bill => ({`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 180
**Context:** `features: institution.subscription?.commissionTier?.features as Record<string, any> || {},`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 215
**Context:** `throw new Error(`Student not found: ${studentId}`);`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 227
**Context:** `const isFallback = currentSubscription?.metadata?.isFallback || false;`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 236
**Context:** `const billingHistory: BillingHistoryItem[] = currentSubscription?.billingHistory?.map(bill => ({`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 282
**Context:** `throw new Error(`Invalid plan type: ${planType}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 390
**Context:** `throw new Error('No active subscription found');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 395
**Context:** `throw new Error('Cannot downgrade from STARTER plan');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 399
**Context:** `throw new Error('Cannot downgrade to ENTERPRISE plan');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 406
**Context:** `throw new Error(`Invalid plan type: ${newPlanType}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 471
**Context:** `throw new Error('No active subscription found');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 526
**Context:** `throw new Error('No cancelled subscription found');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 955
**Context:** `throw new Error(`Student not found: ${studentId}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 1039
**Context:** `throw new Error(`Institution not found: ${institutionId}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-payment-service.ts`
**Line:** 8
**Context:** `throw new Error('STRIPE_SECRET_KEY is not set');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-payment-service.ts`
**Line:** 53
**Context:** `throw new Error('Institution not found');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-payment-service.ts`
**Line:** 123
**Context:** `throw new Error('Student not found');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-payment-service.ts`
**Line:** 318
**Context:** `throw new Error(`Invalid plan type: ${planType}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\upload.ts`
**Line:** 22
**Context:** `throw new Error('Invalid file type. Only JPG, PNG, GIF, and WebP images are allowed.');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\upload.ts`
**Line:** 45
**Context:** `throw new Error(error instanceof Error ? error.message : 'Failed to upload file');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\upload.ts`
**Line:** 59
**Context:** `throw new Error('Failed to delete file');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\websocket.ts`
**Line:** 204
**Context:** `this.io?.to(`user:${userId}`).emit('notification', message);`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\websocket.ts`
**Line:** 237
**Context:** `this.io?.sockets.sockets.get(socketId)?.disconnect();`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\public\sw.js`
**Line:** 208
**Context:** `throw new Error('Network response not ok');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-approval-settings.ts`
**Line:** 51
**Context:** `const isExempted = adminSettings?.institutionPaymentApprovalExemptions?.includes(institution.id);`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-approval-settings.ts`
**Line:** 104
**Context:** `const isExempted = adminSettings?.institutionPaymentApprovalExemptions?.includes(institution.id);`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-approval-settings.ts`
**Line:** 116
**Context:** `} else if (payment.paymentMethod && !adminSettings?.institutionApprovableMethods.includes(payment.paymentMethod)) {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-approval-settings.ts`
**Line:** 130
**Context:** `console.log(`  - Exempted Institutions: ${adminSettings?.institutionPaymentApprovalExemptions?.length || 0}`);`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-approval-settings.ts`
**Line:** 149
**Context:** `const isExempted = adminSettings?.institutionPaymentApprovalExemptions?.includes(institution.id);`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-dashboard-data.ts`
**Line:** 67
**Context:** `console.log(`    Course: ${enrollment?.course?.title || 'Unknown'}`);`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-dashboard-data.ts`
**Line:** 72
**Context:** `console.log(`    Institution: ${enrollment?.course?.institution?.name || 'Unknown'}`);`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-dashboard-data.ts`
**Line:** 120
**Context:** `console.log(`    Institution: ${enrollment.course?.institution?.name || 'Unknown'}`);`

### Console logging undefined values
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-db-directly.ts`
**Line:** 28
**Context:** `console.log(`   Main Image URL is undefined: ${institution.mainImageUrl === undefined}`);`

### Console logging undefined values
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-db-directly.ts`
**Line:** 41
**Context:** `console.log(`Is undefined: ${abcSchool.mainImageUrl === undefined}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\create-course.js`
**Line:** 30
**Context:** `throw new Error(`Failed to create course: ${courseResponse.statusText}${errorData ? ` - ${JSON.stringify(errorData)}` : ''}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\create-course.js`
**Line:** 45
**Context:** `throw new Error(`Failed to fetch tags: ${tagsResponse.statusText}${errorData ? ` - ${JSON.stringify(errorData)}` : ''}`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\create-course.js`
**Line:** 56
**Context:** `throw new Error('Required tags not found');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\create-course.js`
**Line:** 75
**Context:** `throw new Error(`Failed to add tag: ${r.statusText}${errorData ? ` - ${JSON.stringify(errorData)}` : ''}`);`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\run-bug-detection.ts`
**Line:** 85
**Context:** `if (test.results?.[0]?.status === 'passed') {`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\run-bug-detection.ts`
**Line:** 87
**Context:** `} else if (test.results?.[0]?.status === 'failed') {`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\run-mobile-tests.ts`
**Line:** 74
**Context:** `throw new Error('Server responded with non-200 status');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\run-mobile-tests.ts`
**Line:** 112
**Context:** `throw new Error('Development server failed to start');`

### Console logging undefined values
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-admin-api.ts`
**Line:** 27
**Context:** `console.log(`Main Image URL is undefined: ${data.mainImageUrl === undefined}`);`

### Console logging undefined values
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-institution-monetization.ts`
**Line:** 113
**Context:** `console.log(`   Has commission rate: ${firstInst.commissionRate !== undefined}`);`

### Console logging undefined values
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-institution-monetization.ts`
**Line:** 114
**Context:** `console.log(`   Has subscription plan: ${firstInst.subscriptionPlan !== undefined}`);`

### Console logging undefined values
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-institution-monetization.ts`
**Line:** 115
**Context:** `console.log(`   Has course count: ${firstInst.courseCount !== undefined}`);`

### Console logging undefined values
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-institution-monetization.ts`
**Line:** 116
**Context:** `console.log(`   Has student count: ${firstInst.studentCount !== undefined}`);`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-prioritization-system.ts`
**Line:** 94
**Context:** `subscriptionTier: course.institution.subscription?.commissionTier?.planType || 'NONE'`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-relations.ts`
**Line:** 77
**Context:** `console.log('Booking -> Course relation:', bookingWithCourse?.course.title === 'Test Course');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-relations.ts`
**Line:** 84
**Context:** `console.log('Booking -> Institution relation:', bookingWithInstitution?.institution.name === 'Test Institution');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-relations.ts`
**Line:** 91
**Context:** `console.log('Booking -> Student relation:', bookingWithStudent?.student.name === 'Test Student');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-relations.ts`
**Line:** 98
**Context:** `console.log('Course -> Bookings relation:', courseWithBookings?.bookings.length === 1);`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-relations.ts`
**Line:** 105
**Context:** `console.log('Institution -> Bookings relation:', institutionWithBookings?.bookings.length === 1);`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-relations.ts`
**Line:** 112
**Context:** `console.log('Student -> Bookings relation:', studentWithBookings?.bookings.length === 1);`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-updated-priority-algorithm.ts`
**Line:** 88
**Context:** `subscriptionTier: course.institution.subscription?.commissionTier?.planType || 'NONE'`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\batch-3-mobile.spec.ts`
**Line:** 60
**Context:** `expect(box?.height).toBeGreaterThan(40);`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\batch-3-mobile.spec.ts`
**Line:** 102
**Context:** `expect(box?.height).toBeGreaterThan(40);`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\batch-3-mobile.spec.ts`
**Line:** 103
**Context:** `expect(box?.width).toBeGreaterThan(60);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\e2e\auth.spec.ts`
**Line:** 62
**Context:** `throw new Error('Login failed - invalid credentials');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\e2e\global-setup.ts`
**Line:** 418
**Context:** `throw new Error('Test users not created properly');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\e2e\global-setup.ts`
**Line:** 427
**Context:** `throw new Error('Student profile not created properly');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\e2e\global-setup.ts`
**Line:** 436
**Context:** `throw new Error('Test institution not created properly');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\e2e\password-test.spec.ts`
**Line:** 18
**Context:** `throw new Error('Test admin user not found');`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\e2e\responsive.spec.ts`
**Line:** 19
**Context:** `expect(bodyWidth?.width).toBeLessThanOrEqual(viewportWidth + 20);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\e2e\server-connectivity.spec.ts`
**Line:** 126
**Context:** `throw new Error('No working authentication routes found. Check if the development server is running correctly.');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\e2e\utils\test-helpers.ts`
**Line:** 49
**Context:** `throw new Error(`Login failed for ${email} - invalid credentials`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\e2e\utils\test-helpers.ts`
**Line:** 55
**Context:** `throw new Error(`Login failed for ${email} - still on login page`);`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\e2e\utils\test-helpers.ts`
**Line:** 93
**Context:** `document.body.textContent?.includes('integration.test.student@example.com') ||`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\e2e\utils\test-helpers.ts`
**Line:** 95
**Context:** `document.body.textContent?.includes('integration.test.admin@example.com');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\e2e\utils\test-helpers.ts`
**Line:** 266
**Context:** `throw new Error(`Text "${text}" not found on page`);`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\e2e\utils\test-helpers.ts`
**Line:** 312
**Context:** `throw new Error(`None of the selectors were found: ${selectors.join(', ')}`);`

### Optional chaining that might hide errors
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\integration\auth.test.ts`
**Line:** 16
**Context:** `expect(adminUser?.role).toBe('ADMIN');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\mobile-device-testing.ts`
**Line:** 299
**Context:** `throw new Error('No device configured');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\mobile-device-testing.ts`
**Line:** 382
**Context:** `throw new Error('No device configured');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\mobile-device-testing.ts`
**Line:** 460
**Context:** `throw new Error('No device configured');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\mobile-device-testing.ts`
**Line:** 534
**Context:** `throw new Error('No device configured');`

### Generic error throwing without context
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\mobile-device-testing.ts`
**Line:** 599
**Context:** `throw new Error('No device configured');`

## 🟢 Low Severity Errors

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\components\CourseForm.tsx`
**Line:** 134
**Context:** `if (!data.categoryId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\components\CourseForm.tsx`
**Line:** 137
**Context:** `if (!data.institutionId) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\components\CourseForm.tsx`
**Line:** 140
**Context:** `if (!data.base_price || isNaN(Number(data.base_price)) || Number(data.base_price) < 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\components\CourseForm.tsx`
**Line:** 143
**Context:** `if (!data.duration || isNaN(Number(data.duration)) || Number(data.duration) <= 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\components\CourseForm.tsx`
**Line:** 146
**Context:** `if (!data.maxStudents || isNaN(Number(data.maxStudents)) || Number(data.maxStudents) <= 0) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\components\CourseForm.tsx`
**Line:** 149
**Context:** `if (!data.startDate) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\components\CourseForm.tsx`
**Line:** 152
**Context:** `if (!data.endDate) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\components\CourseForm.tsx`
**Line:** 461
**Context:** `<SelectValue>{frameworkInfo.label || 'Select framework'}</SelectValue>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\components\CourseForm.tsx`
**Line:** 552
**Context:** `value={formData.priority || '0'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\components\CourseForm.tsx`
**Line:** 570
**Context:** `checked={formData.isFeatured || false}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\components\CourseForm.tsx`
**Line:** 586
**Context:** `checked={formData.isSponsored || false}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\components\CourseForm.tsx`
**Line:** 641
**Context:** `disabled={isSubmitting || Object.keys(errors).length > 0}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 155
**Context:** `if (!session) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 283
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 323
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 328
**Context:** `setInstitutions(data.institutions || []);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 352
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 360
**Context:** `const categoriesData = Array.isArray(data) ? data : (data.categories || []);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 405
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 410
**Context:** `setCourses(data.courses || []);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 491
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 517
**Context:** `if (institutionId === 'all' || !institutionId) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 521
**Context:** `setSelectedInstitution(institution || null);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 560
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 565
**Context:** `setCourses(data.courses || []);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 603
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 608
**Context:** `setCourses(data.courses || []);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 619
**Context:** `if (!selectedCourse) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 649
**Context:** `if (!session || session.user?.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 649
**Context:** `if (!session || session.user?.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 696
**Context:** `if (!institutionsResponse.ok || !categoriesResponse.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 696
**Context:** `if (!institutionsResponse.ok || !categoriesResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 801
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 854
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 879
**Context:** `if (!isFormSubmitting && !formSubmissionRef.current) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 886
**Context:** `if (!open && hasUnsavedChanges && !isFormSubmitting && !formSubmissionRef.current) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 890
**Context:** `} else if (!open) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 935
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 954
**Context:** `if (!selectedCourse) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 983
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 990
**Context:** `if (!course.category || !course.category.id) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 990
**Context:** `if (!course.category || !course.category.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 994
**Context:** `if (!course.institution || !course.institution.id) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 994
**Context:** `if (!course.institution || !course.institution.id) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 1004
**Context:** `})) || [];`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 1010
**Context:** `base_price: course.base_price?.toString() || '0',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 1011
**Context:** `pricingPeriod: course.pricingPeriod || 'FULL_COURSE',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 1013
**Context:** `framework: course.framework || 'CEFR',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 1022
**Context:** `priority: (course.priority || 0).toString(),`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 1023
**Context:** `isFeatured: course.isFeatured || false,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 1024
**Context:** `isSponsored: course.isSponsored || false`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 1048
**Context:** `if (!courseResponse.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 1052
**Context:** `const currentYear = course.weeklyPrices?.[0]?.year || new Date().getFullYear();`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 1065
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 1244
**Context:** `{isLoading || loadingStates.isFetching ? (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 1288
**Context:** `<span>{course._count?.bookings || 0} bookings</span>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 1296
**Context:** `backgroundColor: ct.tag.color || undefined,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 1315
**Context:** `title={`View Enrollments (${course._count?.enrollments || 0})`}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 1321
**Context:** `<p>View Enrollments ({course._count?.enrollments || 0})</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 1393
**Context:** `backgroundColor: ct.tag.color || undefined,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 1414
**Context:** `title={`View Enrollments (${course._count?.enrollments || 0})`}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 1420
**Context:** `<p>View Enrollments ({course._count?.enrollments || 0})</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 1500
**Context:** `open={isAddModalOpen || isEditModalOpen}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 1543
**Context:** `if (!open) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 1558
**Context:** `initialPrices={selectedCourse.weeklyPrices || []}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 1559
**Context:** `basePrice={selectedCourse.base_price || parseFloat(formData.base_price) || 0}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 1572
**Context:** `if (!open) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 1587
**Context:** `initialPrices={selectedCourse.monthlyPrices || []}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\page.tsx`
**Line:** 1588
**Context:** `basePrice={selectedCourse.base_price || parseFloat(formData.base_price) || 0}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\enrollments\page.tsx`
**Line:** 145
**Context:** `if (!session) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\enrollments\page.tsx`
**Line:** 176
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\enrollments\page.tsx`
**Line:** 181
**Context:** `setEnrollments(data.enrollments || []);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\enrollments\page.tsx`
**Line:** 211
**Context:** `status: updateStatus || undefined,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\enrollments\page.tsx`
**Line:** 212
**Context:** `paymentStatus: updatePaymentStatus || undefined,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\enrollments\page.tsx`
**Line:** 217
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\enrollments\page.tsx`
**Line:** 289
**Context:** `if (!mounted) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\enrollments\page.tsx`
**Line:** 368
**Context:** `{enrollments.filter(e => e.status === 'ACTIVE' || e.status === 'ENROLLED').length}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\enrollments\page.tsx`
**Line:** 381
**Context:** `{enrollments.filter(e => e.paymentStatus === 'COMPLETED' || e.paymentStatus === 'PAID').length}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\page.tsx`
**Line:** 84
**Context:** `if (!courseResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\page.tsx`
**Line:** 92
**Context:** `if (!modulesResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\page.tsx`
**Line:** 123
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\page.tsx`
**Line:** 164
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\page.tsx`
**Line:** 271
**Context:** `onChange={(e) => setCreateFormData({ ...createFormData, estimated_duration: parseInt(e.target.value) || 0 })}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\page.tsx`
**Line:** 308
**Context:** `{module.description || 'No description'}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\page.tsx`
**Line:** 89
**Context:** `if (!courseResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\page.tsx`
**Line:** 97
**Context:** `if (!moduleResponse.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\page.tsx`
**Line:** 131
**Context:** `if (error || !module || !course) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\page.tsx`
**Line:** 134
**Context:** `<p className="text-red-500 mb-4">{error || 'Module not found'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\page.tsx`
**Line:** 182
**Context:** `<p className="text-muted-foreground">{module.description || 'No description provided'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\page.tsx`
**Line:** 288
**Context:** `<Badge variant="outline">Order: {item.order_index || 'N/A'}</Badge>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\page.tsx`
**Line:** 313
**Context:** `<Badge variant="outline">Order: {exercise.order_index || 'N/A'}</Badge>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\page.tsx`
**Line:** 337
**Context:** `{quiz.description || 'No description'}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\page.tsx`
**Line:** 71
**Context:** `if (!courseResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\page.tsx`
**Line:** 79
**Context:** `if (!moduleResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\page.tsx`
**Line:** 87
**Context:** `if (!quizzesResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\page.tsx`
**Line:** 135
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 71
**Context:** `if (!courseResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 79
**Context:** `if (!moduleResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 87
**Context:** `if (!quizResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 118
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 149
**Context:** `if (error || !quiz || !module || !course) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 152
**Context:** `<p className="text-red-500 mb-4">{error || 'Quiz not found'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 238
**Context:** `onChange={(e) => updateQuizField('passing_score', parseInt(e.target.value) || 0)}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 249
**Context:** `value={quiz.time_limit || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 260
**Context:** `value={quiz.description || ''}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\page.tsx`
**Line:** 67
**Context:** `if (!courseResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\page.tsx`
**Line:** 75
**Context:** `if (!moduleResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\page.tsx`
**Line:** 83
**Context:** `if (!quizResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\page.tsx`
**Line:** 115
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\page.tsx`
**Line:** 170
**Context:** `if (error || !quiz || !module || !course) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\page.tsx`
**Line:** 173
**Context:** `<p className="text-red-500 mb-4">{error || 'Quiz not found'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 173
**Context:** `if (params.difficulty < -4 || params.difficulty > 4) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 177
**Context:** `if (params.discrimination < 0.1 || params.discrimination > 3) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 181
**Context:** `if (params.guessing < 0 || params.guessing > 1) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 218
**Context:** `if (!questionData.use_manual_irt) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 236
**Context:** `if (!courseResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 244
**Context:** `if (!moduleResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 252
**Context:** `if (!quizResponse.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 276
**Context:** `type: template.type || prev.type,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 277
**Context:** `question: template.template_config?.question || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 278
**Context:** `points: template.template_config?.points || 1,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 279
**Context:** `options: template.template_config?.options || ['', '', '', ''],`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 280
**Context:** `correct_answer: template.template_config?.correct_answer || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 281
**Context:** `explanation: template.template_config?.explanation || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 282
**Context:** `difficulty: template.difficulty || 'MEDIUM',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 283
**Context:** `category: template.category || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 284
**Context:** `hints: template.template_config?.hints || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 285
**Context:** `question_config: template.template_config || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 286
**Context:** `media_url: template.template_config?.media_url || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 287
**Context:** `media_type: template.template_config?.media_type || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 288
**Context:** `question_options: template.template_config?.question_options || []`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 311
**Context:** `difficulty: questionData.irt_difficulty || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 312
**Context:** `discrimination: questionData.irt_discrimination || 1,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 313
**Context:** `guessing: questionData.irt_guessing || 0.25`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 317
**Context:** `if (!validation.isValid) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 333
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 485
**Context:** `value={questionData.question_config?.leftItems?.join('\n') || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 503
**Context:** `value={questionData.question_config?.rightItems?.join('\n') || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 527
**Context:** `value={questionData.question_config?.dragItems?.join('\n') || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 545
**Context:** `value={questionData.question_config?.dropZones?.join('\n') || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 599
**Context:** `value={questionData.question_config?.orderItems?.join('\n') || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 653
**Context:** `<span className="font-medium">Difficulty:</span> {questionData.irt_difficulty?.toFixed(2) || '0.00'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 656
**Context:** `<span className="font-medium">Discrimination:</span> {questionData.irt_discrimination?.toFixed(2) || '1.00'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 659
**Context:** `<span className="font-medium">Guessing:</span> {questionData.irt_guessing?.toFixed(2) || '0.25'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 680
**Context:** `value={questionData.irt_difficulty || 0}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 681
**Context:** `onChange={(e) => updateQuestionField('irt_difficulty', parseFloat(e.target.value) || 0)}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 697
**Context:** `value={questionData.irt_discrimination || 1}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 698
**Context:** `onChange={(e) => updateQuestionField('irt_discrimination', parseFloat(e.target.value) || 1)}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 714
**Context:** `value={questionData.irt_guessing || 0.25}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 715
**Context:** `onChange={(e) => updateQuestionField('irt_guessing', parseFloat(e.target.value) || 0.25)}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 744
**Context:** `if (error || !quiz || !module || !course) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 747
**Context:** `<p className="text-red-500 mb-4">{error || 'Quiz not found'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 854
**Context:** `onChange={(e) => updateQuestionField('points', parseInt(e.target.value) || 1)}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 174
**Context:** `if (params.difficulty < -4 || params.difficulty > 4) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 178
**Context:** `if (params.discrimination < 0.1 || params.discrimination > 3) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 182
**Context:** `if (params.guessing < 0 || params.guessing > 1) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 270
**Context:** `correct_answer: questionData.correct_answer || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 271
**Context:** `explanation: questionData.explanation || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 272
**Context:** `difficulty: questionData.difficulty || 'MEDIUM',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 273
**Context:** `category: questionData.category || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 274
**Context:** `hints: questionData.hints || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 275
**Context:** `question_config: questionData.question_config || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 276
**Context:** `media_url: questionData.media_url || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 277
**Context:** `media_type: questionData.media_type || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 278
**Context:** `question_options: questionData.questionOptions || [],`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 279
**Context:** `irt_difficulty: questionData.irt_difficulty || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 280
**Context:** `irt_discrimination: questionData.irt_discrimination || 1.0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 281
**Context:** `irt_guessing: questionData.irt_guessing || 0.25,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 282
**Context:** `use_manual_irt: questionData.use_manual_irt || false`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 297
**Context:** `if (!formData.use_manual_irt) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 330
**Context:** `if (!validation.isValid) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 346
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 523
**Context:** `value={formData.question_config?.leftItems?.join('\n') || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 541
**Context:** `value={formData.question_config?.rightItems?.join('\n') || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 566
**Context:** `value={formData.question_config?.dragItems?.join('\n') || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 584
**Context:** `value={formData.question_config?.dropZones?.join('\n') || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 638
**Context:** `value={formData.question_config?.orderItems?.join('\n') || ''}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 669
**Context:** `if (!quiz || !module || !course || !question) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 669
**Context:** `if (!quiz || !module || !course || !question) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 784
**Context:** `onChange={(e) => setFormData({ ...formData, points: parseInt(e.target.value) || 1 })}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 850
**Context:** `<span className="font-medium">Difficulty:</span> {formData.irt_difficulty?.toFixed(2) || '0.00'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 853
**Context:** `<span className="font-medium">Discrimination:</span> {formData.irt_discrimination?.toFixed(2) || '1.00'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 856
**Context:** `<span className="font-medium">Guessing:</span> {formData.irt_guessing?.toFixed(2) || '0.25'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 877
**Context:** `value={formData.irt_difficulty || 0}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 878
**Context:** `onChange={(e) => setFormData({ ...formData, irt_difficulty: parseFloat(e.target.value) || 0 })}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 894
**Context:** `value={formData.irt_discrimination || 1}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 895
**Context:** `onChange={(e) => setFormData({ ...formData, irt_discrimination: parseFloat(e.target.value) || 1 })}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 911
**Context:** `value={formData.irt_guessing || 0.25}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 912
**Context:** `onChange={(e) => setFormData({ ...formData, irt_guessing: parseFloat(e.target.value) || 0.25 })}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\page.tsx`
**Line:** 93
**Context:** `if (!courseResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\page.tsx`
**Line:** 102
**Context:** `if (!modulesResponse.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\page.tsx`
**Line:** 112
**Context:** `_count: courseData._count || {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\page.tsx`
**Line:** 115
**Context:** `courseTags: courseData.courseTags?.length || 0`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\page.tsx`
**Line:** 147
**Context:** `if (loading || !course) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\page.tsx`
**Line:** 206
**Context:** `<p className="text-muted-foreground">{course.description || 'No description provided'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\courses\[id]\page.tsx`
**Line:** 350
**Context:** `<span className="font-semibold">{course.modules?.length || 0}</span>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\dashboard\page.tsx`
**Line:** 39
**Context:** `if (status === 'unauthenticated' || !session) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\dashboard\page.tsx`
**Line:** 52
**Context:** `if (status !== 'authenticated' || !session || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\dashboard\page.tsx`
**Line:** 71
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\dashboard\page.tsx`
**Line:** 100
**Context:** `if (status === 'unauthenticated' || !session) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\dashboard\page.tsx`
**Line:** 174
**Context:** `<div className="text-2xl font-bold text-gray-900 dark:text-white">{stats?.statistics?.totalUsers || 0}</div>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\dashboard\page.tsx`
**Line:** 193
**Context:** `<div className="text-2xl font-bold text-gray-900 dark:text-white">{stats?.statistics?.totalInstitutions || 0}</div>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\dashboard\page.tsx`
**Line:** 212
**Context:** `<div className="text-2xl font-bold text-gray-900 dark:text-white">{stats?.statistics?.totalCourses || 0}</div>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\dashboard\page.tsx`
**Line:** 231
**Context:** `<div className="text-2xl font-bold text-gray-900 dark:text-white">${stats?.statistics?.totalRevenue?.toLocaleString() || 0}</div>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\dashboard\page.tsx`
**Line:** 250
**Context:** `<div className="text-2xl font-bold text-gray-900 dark:text-white">{stats?.statistics?.totalEnrollments || 0}</div>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\dashboard\page.tsx`
**Line:** 269
**Context:** `<div className="text-2xl font-bold text-gray-900 dark:text-white">${stats?.statistics?.totalCommission?.toLocaleString() || 0}</div>`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institution-monetization\page.tsx`
**Line:** 86
**Context:** `if (!session || session.user?.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institution-monetization\page.tsx`
**Line:** 86
**Context:** `if (!session || session.user?.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\create\page.tsx`
**Line:** 90
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\create\page.tsx`
**Line:** 91
**Context:** `throw new Error(data.error || data.details || 'Failed to create institution');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\page.tsx`
**Line:** 64
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\page.tsx`
**Line:** 67
**Context:** `throw new Error(errorData.error || errorData.details || 'Failed to fetch institutions');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\page.tsx`
**Line:** 111
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\page.tsx`
**Line:** 134
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\page.tsx`
**Line:** 231
**Context:** `src={institution.logoUrl || ''}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\courses\page.tsx`
**Line:** 162
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\courses\page.tsx`
**Line:** 164
**Context:** `throw new Error(error.message || 'Failed to save course');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\courses\page.tsx`
**Line:** 207
**Context:** `})) || []`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\courses\page.tsx`
**Line:** 234
**Context:** `if (!institution) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\courses\page.tsx`
**Line:** 455
**Context:** `courseId={editingCourse?.id.toString() || 'new'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\courses\page.tsx`
**Line:** 492
**Context:** `backgroundColor: ct.tag.color || undefined,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\courses\page.tsx`
**Line:** 565
**Context:** `backgroundColor: ct.tag.color || undefined,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\edit\page.tsx`
**Line:** 26
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\edit\page.tsx`
**Line:** 34
**Context:** `logoUrl: data.logoUrl || '', // Ensure logoUrl is available`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\edit\page.tsx`
**Line:** 35
**Context:** `mainImageUrl: data.mainImageUrl || '', // Ensure mainImageUrl is available`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\edit\page.tsx`
**Line:** 80
**Context:** `if (!institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\page.tsx`
**Line:** 66
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\page.tsx`
**Line:** 89
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\page.tsx`
**Line:** 94
**Context:** `if (!data || typeof data.id !== 'string') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\page.tsx`
**Line:** 94
**Context:** `if (!data || typeof data.id !== 'string') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\page.tsx`
**Line:** 142
**Context:** `if (!institution) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\page.tsx`
**Line:** 169
**Context:** `src={institution?.logoUrl || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\page.tsx`
**Line:** 185
**Context:** `View Courses ({institution._count?.courses || 0})`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\page.tsx`
**Line:** 209
**Context:** `{institution.status === 'ACTIVE' || institution.isApproved ? 'Suspend' : 'Activate'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\page.tsx`
**Line:** 232
**Context:** `<p className="text-gray-600">{institution.description || 'No description provided'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\page.tsx`
**Line:** 237
**Context:** `<p className="text-gray-600">{institution.country || 'Not specified'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\page.tsx`
**Line:** 241
**Context:** `<p className="text-gray-600">{institution.city || 'Not specified'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\page.tsx`
**Line:** 245
**Context:** `<p className="text-gray-600">{institution.state || 'Not specified'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\page.tsx`
**Line:** 249
**Context:** `<p className="text-gray-600">{institution.postcode || 'Not specified'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\page.tsx`
**Line:** 254
**Context:** `<p className="text-gray-600">{institution.address || 'Not specified'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\page.tsx`
**Line:** 258
**Context:** `<p className="text-gray-600">{institution.telephone || 'Not specified'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\page.tsx`
**Line:** 299
**Context:** `{institution.website || 'Not provided'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\page.tsx`
**Line:** 305
**Context:** `{institution.institutionEmail || 'Not provided'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\page.tsx`
**Line:** 311
**Context:** `{institution.telephone || 'Not provided'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\page.tsx`
**Line:** 317
**Context:** `{institution.contactName || 'Not provided'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\page.tsx`
**Line:** 323
**Context:** `{institution.contactJobTitle || 'Not provided'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\page.tsx`
**Line:** 329
**Context:** `{institution.contactPhone || 'Not provided'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\page.tsx`
**Line:** 335
**Context:** `{institution.contactEmail || 'Not provided'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\page.tsx`
**Line:** 381
**Context:** `{(!institution.facilities || institution.facilities.length === 0) && (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\page.tsx`
**Line:** 398
**Context:** `{institution.description || 'No description provided'}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\permissions\page.tsx`
**Line:** 66
**Context:** `if (!session?.user?.role || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\permissions\page.tsx`
**Line:** 66
**Context:** `if (!session?.user?.role || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\permissions\page.tsx`
**Line:** 81
**Context:** `if (!institutionResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\permissions\page.tsx`
**Line:** 89
**Context:** `if (!permissionsResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\permissions\page.tsx`
**Line:** 121
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\permissions\page.tsx`
**Line:** 147
**Context:** `const permissionsToUpdate = categoryPermissions[category] || [];`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\permissions\page.tsx`
**Line:** 174
**Context:** `if (!institution || !permissions) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\permissions\page.tsx`
**Line:** 174
**Context:** `if (!institution || !permissions) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\users\page.tsx`
**Line:** 55
**Context:** `if (!session?.user?.role || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\users\page.tsx`
**Line:** 55
**Context:** `if (!session?.user?.role || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\users\page.tsx`
**Line:** 75
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\users\page.tsx`
**Line:** 77
**Context:** `throw new Error(errorData.message || 'Failed to fetch users');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\users\page.tsx`
**Line:** 109
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\users\page.tsx`
**Line:** 111
**Context:** `throw new Error(errorData.message || `Failed to ${editingUser ? 'update' : 'create'} user`);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\users\page.tsx`
**Line:** 165
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\institutions\[id]\users\page.tsx`
**Line:** 167
**Context:** `throw new Error(errorData.message || 'Failed to delete user');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\payments\page.tsx`
**Line:** 155
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\payments\page.tsx`
**Line:** 170
**Context:** `toast.success(result.message || 'Payment approved successfully');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\payments\page.tsx`
**Line:** 195
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\payments\page.tsx`
**Line:** 210
**Context:** `toast.success(result.message || 'Payment disapproved successfully');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\payments\page.tsx`
**Line:** 239
**Context:** `if (!paymentSettings) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\payments\page.tsx`
**Line:** 245
**Context:** `if (!paymentSettings.allowInstitutionPaymentApproval) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\payments\page.tsx`
**Line:** 270
**Context:** `if (!paymentSettings.allowInstitutionPaymentApproval) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\payments\page.tsx`
**Line:** 321
**Context:** `if (!paymentSettings.allowInstitutionPaymentApproval) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\payments\page.tsx`
**Line:** 382
**Context:** `const matchesStatus = selectedStatus === 'all' || payment.status === selectedStatus;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\payments\page.tsx`
**Line:** 383
**Context:** `const matchesInstitution = selectedInstitution === 'all' || payment.institution.id === selectedInstitution;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\payments\page.tsx`
**Line:** 384
**Context:** `const matchesPaymentMethod = selectedPaymentMethod === 'all' || payment.paymentMethod === selectedPaymentMethod;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\payments\page.tsx`
**Line:** 388
**Context:** `const pendingPayments = filteredPayments.filter(p => p.status === 'PENDING' || p.status === 'PROCESSING');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\payments\page.tsx`
**Line:** 394
**Context:** `if (status === 'loading' || loading) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\payments\page.tsx`
**Line:** 651
**Context:** `<TableRow key={payment.id} className={(payment.status === 'PENDING' || payment.status === 'PROCESSING') ? 'bg-orange-50 dark:bg-orange-900/10' : ''}>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\payments\page.tsx`
**Line:** 669
**Context:** `{(payment.status === 'PENDING' || payment.status === 'PROCESSING') && requiresAdminApprovalDueToWithdrawnRights(payment) && (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\payments\page.tsx`
**Line:** 692
**Context:** `{payment.referenceNumber || 'N/A'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\payments\page.tsx`
**Line:** 727
**Context:** `{(payment.status === 'PENDING' || payment.status === 'PROCESSING') && (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\payments\page.tsx`
**Line:** 876
**Context:** `<p><strong>Reference:</strong> {selectedPaymentForDetails.referenceNumber || 'N/A'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\payments\page.tsx`
**Line:** 877
**Context:** `<p><strong>Booking ID:</strong> {selectedPaymentForDetails.bookingId || 'N/A'}</p>`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\performance\page.tsx`
**Line:** 16
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\performance\page.tsx`
**Line:** 35
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\performance\page.tsx`
**Line:** 35
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\question-banks\page.tsx`
**Line:** 98
**Context:** `if (!editingBank || !formData.name.trim()) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\question-banks\page.tsx`
**Line:** 151
**Context:** `description: bank.description || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\question-banks\page.tsx`
**Line:** 152
**Context:** `category: bank.category || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\question-banks\page.tsx`
**Line:** 161
**Context:** `const matchesCategory = !selectedCategory || bank.category === selectedCategory;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\question-banks\page.tsx`
**Line:** 301
**Context:** `{bank.description || 'No description'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\question-banks\page.tsx`
**Line:** 338
**Context:** `{bank.questions_count || 0} questions`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\question-banks\[id]\page.tsx`
**Line:** 122
**Context:** `a.download = `${bank?.name || 'question-bank'}.json`;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\question-banks\[id]\page.tsx`
**Line:** 144
**Context:** `if (!data.questions || !Array.isArray(data.questions)) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\question-banks\[id]\page.tsx`
**Line:** 178
**Context:** `if (!bank) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\question-banks\[id]\page.tsx`
**Line:** 191
**Context:** `<span className="text-xs text-muted-foreground">{bank.questions_count || 0} questions</span>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\question-templates\page.tsx`
**Line:** 124
**Context:** `if (!editingTemplate || !formData.name.trim()) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\question-templates\page.tsx`
**Line:** 177
**Context:** `description: template.description || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\question-templates\page.tsx`
**Line:** 179
**Context:** `template_config: template.template_config || {},`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\question-templates\page.tsx`
**Line:** 180
**Context:** `category: template.category || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\question-templates\page.tsx`
**Line:** 190
**Context:** `const matchesType = !selectedType || selectedType === 'all' || template.type === selectedType;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\question-templates\page.tsx`
**Line:** 191
**Context:** `const matchesDifficulty = !selectedDifficulty || selectedDifficulty === 'all' || template.difficulty === selectedDifficulty;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\question-templates\page.tsx`
**Line:** 362
**Context:** `{template.description || 'No description'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\question-templates\page.tsx`
**Line:** 432
**Context:** `{searchTerm || selectedType !== 'all' || selectedDifficulty !== 'all'`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\question-templates\[id]\page.tsx`
**Line:** 98
**Context:** `if (!template) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\question-templates\[id]\page.tsx`
**Line:** 162
**Context:** `<Input value={Array.isArray(formData.tags) ? formData.tags.join(', ') : formData.tags || ''} onChange={e => setFormData({ ...formData, tags: e.target.value })} />`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\revenue\page.tsx`
**Line:** 71
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\commission-tiers\page.tsx`
**Line:** 127
**Context:** `if (!session || session.user?.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\commission-tiers\page.tsx`
**Line:** 127
**Context:** `if (!session || session.user?.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\commission-tiers\page.tsx`
**Line:** 254
**Context:** `return plan?.icon || <Building2 className="w-4 h-4" />;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\commission-tiers\page.tsx`
**Line:** 741
**Context:** `planType: plan?.planType || 'STARTER',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\commission-tiers\page.tsx`
**Line:** 742
**Context:** `name: plan?.name || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\commission-tiers\page.tsx`
**Line:** 743
**Context:** `monthlyPrice: plan?.monthlyPrice || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\commission-tiers\page.tsx`
**Line:** 744
**Context:** `annualPrice: plan?.annualPrice || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\commission-tiers\page.tsx`
**Line:** 746
**Context:** `features: plan?.features || {}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\common-scripts\page.tsx`
**Line:** 39
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\common-scripts\page.tsx`
**Line:** 40
**Context:** `throw new Error(data.error || 'Failed to run seed script')`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\common-scripts\page.tsx`
**Line:** 72
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\common-scripts\page.tsx`
**Line:** 73
**Context:** `throw new Error(data.error || 'Failed to run booking payment consistency script')`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\common-scripts\page.tsx`
**Line:** 101
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\common-scripts\page.tsx`
**Line:** 102
**Context:** `throw new Error(data.error || 'Failed to run maintenance scripts')`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\common-scripts\page.tsx`
**Line:** 107
**Context:** `text: data.message || 'All maintenance scripts executed successfully.'`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\common-scripts\page.tsx`
**Line:** 299
**Context:** `<div className="text-sm">Inconsistent Bookings: {maintenanceResults.auditFix?.inconsistentBookings || 0}</div>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\common-scripts\page.tsx`
**Line:** 300
**Context:** `<div className="text-sm">Fixed Bookings: {maintenanceResults.auditFix?.fixedBookings || 0}</div>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\common-scripts\page.tsx`
**Line:** 301
**Context:** `<div className="text-sm">Inconsistent Enrollments: {maintenanceResults.auditFix?.inconsistentEnrollments || 0}</div>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\common-scripts\page.tsx`
**Line:** 302
**Context:** `<div className="text-sm">Fixed Enrollments: {maintenanceResults.auditFix?.fixedEnrollments || 0}</div>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\common-scripts\page.tsx`
**Line:** 306
**Context:** `<div className="text-sm">Orphaned Enrollments Found: {maintenanceResults.cleanup?.orphanedEnrollments || 0}</div>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\common-scripts\page.tsx`
**Line:** 307
**Context:** `<div className="text-sm">Deleted Enrollments: {maintenanceResults.cleanup?.deletedEnrollments || 0}</div>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\common-scripts\page.tsx`
**Line:** 315
**Context:** `{maintenanceResults.combinedLogs?.join('\n') || 'No logs available'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\notifications\templates\page.tsx`
**Line:** 165
**Context:** `toast.error(error.message || 'Failed to create template');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\notifications\templates\page.tsx`
**Line:** 190
**Context:** `toast.error(error.message || 'Failed to update template');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\notifications\templates\page.tsx`
**Line:** 212
**Context:** `toast.error(error.message || 'Failed to delete template');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\notifications\templates\page.tsx`
**Line:** 238
**Context:** `subject: template.subject || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\notifications\templates\page.tsx`
**Line:** 264
**Context:** `const matchesType = filterType === 'all' || template.type === filterType;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\notifications\templates\page.tsx`
**Line:** 265
**Context:** `const matchesCategory = filterCategory === 'all' || template.category === filterCategory;`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 243
**Context:** `if (!session?.user?.role || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 243
**Context:** `if (!session?.user?.role || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 351
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 353
**Context:** `throw new Error(errorData.message || 'Failed to seed categories');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 386
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 388
**Context:** `throw new Error(errorData.message || 'Failed to seed tags');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 421
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 451
**Context:** `if (!passwordChange.currentPassword || !passwordChange.newPassword || !passwordChange.confirmPassword) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 451
**Context:** `if (!passwordChange.currentPassword || !passwordChange.newPassword || !passwordChange.confirmPassword) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 474
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 476
**Context:** `throw new Error(error.message || 'Failed to save email settings');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 487
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 489
**Context:** `throw new Error(error.message || 'Failed to save email settings');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 536
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 538
**Context:** `throw new Error(errorData.message || 'Failed to fix missing students');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 608
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 610
**Context:** `throw new Error(errorData.message || 'Failed to seed notification templates');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 631
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 633
**Context:** `throw new Error(errorData.message || 'Failed to create template');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 665
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 667
**Context:** `throw new Error(errorData.message || 'Failed to update template');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 699
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 701
**Context:** `throw new Error(errorData.message || 'Failed to delete template');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 718
**Context:** `subject: template.subject || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 1450
**Context:** `<p className="text-2xl font-bold text-blue-900">{notificationStats.overview?.total || 0}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 1459
**Context:** `<p className="text-2xl font-bold text-green-900">{notificationStats.overview?.successRate || 0}%</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 1468
**Context:** `<p className="text-2xl font-bold text-purple-900">{notificationStats.templates?.active || 0}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 1477
**Context:** `<p className="text-2xl font-bold text-orange-900">{notificationStats.byType?.email || 0}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 1623
**Context:** `Created by {template.createdByUser?.name || 'Unknown'} on {new Date(template.createdAt).toLocaleDateString()}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 1636
**Context:** `<Dialog open={!!(showTemplateForm || editingTemplate)} onOpenChange={(open) => !open && handleCancelTemplateEdit()}>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 1916
**Context:** `<p className="mt-1 text-sm">{viewingTemplate.createdByUser?.name || 'Unknown'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 2225
**Context:** `<p className="text-2xl font-bold text-blue-900">{cleanupResults.students || 0}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 2234
**Context:** `<p className="text-2xl font-bold text-blue-900">{cleanupResults.studentAchievements || 0}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 2243
**Context:** `<p className="text-2xl font-bold text-blue-900">{cleanupResults.notificationPreferences || 0}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 2260
**Context:** `<p className="text-2xl font-bold text-green-900">{cleanupResults.enrollments || 0}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 2269
**Context:** `<p className="text-2xl font-bold text-green-900">{cleanupResults.completions || 0}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 2278
**Context:** `<p className="text-2xl font-bold text-green-900">{cleanupResults.bookings || 0}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 2295
**Context:** `<p className="text-2xl font-bold text-purple-900">{cleanupResults.moduleProgress || 0}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 2304
**Context:** `<p className="text-2xl font-bold text-purple-900">{cleanupResults.progress || 0}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 2313
**Context:** `<p className="text-2xl font-bold text-purple-900">{cleanupResults.learningSessions || 0}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 2330
**Context:** `<p className="text-2xl font-bold text-orange-900">{cleanupResults.quizAttempts || 0}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 2339
**Context:** `<p className="text-2xl font-bold text-orange-900">{cleanupResults.quizResponses || 0}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 2356
**Context:** `<p className="text-2xl font-bold text-red-900">{cleanupResults.payments || 0}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 2365
**Context:** `<p className="text-2xl font-bold text-red-900">{cleanupResults.payouts || 0}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 2374
**Context:** `<p className="text-2xl font-bold text-red-900">{cleanupResults.commissionLogs || 0}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 2390
**Context:** `{Object.values(cleanupResults).reduce((sum: number, count: any) => sum + (count || 0), 0)}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 2471
**Context:** `{scriptResults[script.id].message || scriptResults[script.id].error}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\page.tsx`
**Line:** 2533
**Context:** `{scriptResults[script.id].message || scriptResults[script.id].error}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\payment-approval\page.tsx`
**Line:** 94
**Context:** `if (!session?.user?.role || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\payment-approval\page.tsx`
**Line:** 94
**Context:** `if (!session?.user?.role || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\payment-approval\page.tsx`
**Line:** 152
**Context:** `toast.error(error.message || 'Failed to save settings');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\payment-approval\page.tsx`
**Line:** 210
**Context:** `if (!originalSettings || !impact) return false;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\payment-approval\page.tsx`
**Line:** 230
**Context:** `if (status === 'loading' || loading) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\payment-approval\page.tsx`
**Line:** 269
**Context:** `disabled={!hasChanges || saving}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\subscription-plans\page.tsx`
**Line:** 100
**Context:** `if (!plansResponse.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\subscription-plans\page.tsx`
**Line:** 104
**Context:** `setPlans(plansData.plans || []);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\subscription-plans\page.tsx`
**Line:** 135
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\subscription-plans\page.tsx`
**Line:** 169
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\subscription-plans\page.tsx`
**Line:** 192
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\subscription-plans\page.tsx`
**Line:** 214
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\subscription-plans\page.tsx`
**Line:** 317
**Context:** `onChange={(e) => setCreateFormData(prev => ({ ...prev, price: parseFloat(e.target.value) || 0 }))}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\subscription-plans\page.tsx`
**Line:** 348
**Context:** `onChange={(e) => setCreateFormData(prev => ({ ...prev, maxStudents: parseInt(e.target.value) || 0 }))}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\subscription-plans\page.tsx`
**Line:** 358
**Context:** `onChange={(e) => setCreateFormData(prev => ({ ...prev, maxCourses: parseInt(e.target.value) || 0 }))}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\subscription-plans\page.tsx`
**Line:** 368
**Context:** `onChange={(e) => setCreateFormData(prev => ({ ...prev, maxTeachers: parseInt(e.target.value) || 0 }))}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\subscription-plans\page.tsx`
**Line:** 568
**Context:** `const updatedPlan = { ...plan, price: parseFloat(e.target.value) || 0 };`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\subscription-plans\page.tsx`
**Line:** 580
**Context:** `const updatedPlan = { ...plan, maxStudents: parseInt(e.target.value) || 0 };`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\settings\subscription-plans\page.tsx`
**Line:** 592
**Context:** `const updatedPlan = { ...plan, maxCourses: parseInt(e.target.value) || 0 };`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\subscriptions\page.tsx`
**Line:** 86
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\subscriptions\[id]\edit\page.tsx`
**Line:** 63
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\subscriptions\[id]\edit\page.tsx`
**Line:** 135
**Context:** `if (!subscription) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\subscriptions\[id]\edit\page.tsx`
**Line:** 255
**Context:** `({formData.planType || 'No plan'} plan)`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\tags\page.tsx`
**Line:** 82
**Context:** `if (!isDialogOpen) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\tags\page.tsx`
**Line:** 100
**Context:** `description: editingTag.description || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\tags\page.tsx`
**Line:** 101
**Context:** `parentId: editingTag.parentId || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\tags\page.tsx`
**Line:** 102
**Context:** `color: editingTag.color || '#000000',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\tags\page.tsx`
**Line:** 103
**Context:** `icon: editingTag.icon || '',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\tags\page.tsx`
**Line:** 160
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\tags\page.tsx`
**Line:** 226
**Context:** `if (!sessionData?.user?.role || sessionData.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\tags\page.tsx`
**Line:** 226
**Context:** `if (!sessionData?.user?.role || sessionData.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\tags\page.tsx`
**Line:** 237
**Context:** `parentId: formData.parentId || null,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\tags\page.tsx`
**Line:** 265
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\tags\page.tsx`
**Line:** 267
**Context:** `throw new Error(errorData.message || `Failed to ${isUpdating ? 'update' : 'create'} tag`);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\tags\page.tsx`
**Line:** 306
**Context:** `if (!open) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\tags\page.tsx`
**Line:** 335
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\tags\page.tsx`
**Line:** 337
**Context:** `throw new Error(error.message || 'Failed to delete tag');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\tags\page.tsx`
**Line:** 434
**Context:** `return iconMap[iconName] || Tag;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\tags\page.tsx`
**Line:** 464
**Context:** `<IconComponent className="w-4 h-4" style={{ color: tag.color || 'currentColor' }} />`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\tags\page.tsx`
**Line:** 475
**Context:** `<TableCell className="text-gray-600">{tag.description || '-'}</TableCell>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\tags\page.tsx`
**Line:** 477
**Context:** `<span className="font-medium">{tag._count?.courseTags || 0}</span>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\tags\page.tsx`
**Line:** 480
**Context:** `<span className="font-medium">{tag._count?.children || 0}</span>`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\tags\page.tsx`
**Line:** 516
**Context:** `if (!isAuthenticated) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\tags\page.tsx`
**Line:** 595
**Context:** `value={formData.parentId || 'none'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\tags\page.tsx`
**Line:** 647
**Context:** `onChange={(e) => setFormData(prev => ({ ...prev, priority: parseInt(e.target.value) || 0 }))}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\users\page.tsx`
**Line:** 80
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\users\page.tsx`
**Line:** 110
**Context:** `name: user.name || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\users\page.tsx`
**Line:** 138
**Context:** `password: password || undefined,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\users\page.tsx`
**Line:** 150
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\users\page.tsx`
**Line:** 152
**Context:** `throw new Error(errorData.message || `Failed to ${selectedUser ? 'update' : 'create'} user`);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\users\page.tsx`
**Line:** 188
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\users\page.tsx`
**Line:** 362
**Context:** `<h3 className="font-semibold text-sm sm:text-base line-clamp-1">{user.name || 'Unnamed User'}</h3>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\users\page.tsx`
**Line:** 383
**Context:** `name: user.name || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\users\page.tsx`
**Line:** 417
**Context:** `<h3 className="font-semibold text-sm sm:text-base line-clamp-1">{user.name || 'Unnamed User'}</h3>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\users\page.tsx`
**Line:** 440
**Context:** `name: user.name || '',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\users\page.tsx`
**Line:** 472
**Context:** `if (!open) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\users\[userId]\page.tsx`
**Line:** 53
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\users\[userId]\page.tsx`
**Line:** 58
**Context:** `throw new Error(errorData.message || 'Failed to fetch user');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\users\[userId]\page.tsx`
**Line:** 89
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\users\[userId]\page.tsx`
**Line:** 91
**Context:** `throw new Error(errorData.message || 'Failed to update user status');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\users\[userId]\page.tsx`
**Line:** 138
**Context:** `if (!user) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin\users\[userId]\page.tsx`
**Line:** 190
**Context:** `<dd className="mt-1 text-sm text-gray-900">{user.name || 'Not provided'}</dd>`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\components\CourseForm.tsx`
**Line:** 134
**Context:** `if (!data.categoryId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\components\CourseForm.tsx`
**Line:** 137
**Context:** `if (!data.institutionId) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\components\CourseForm.tsx`
**Line:** 140
**Context:** `if (!data.base_price || isNaN(Number(data.base_price)) || Number(data.base_price) < 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\components\CourseForm.tsx`
**Line:** 143
**Context:** `if (!data.duration || isNaN(Number(data.duration)) || Number(data.duration) <= 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\components\CourseForm.tsx`
**Line:** 146
**Context:** `if (!data.maxStudents || isNaN(Number(data.maxStudents)) || Number(data.maxStudents) <= 0) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\components\CourseForm.tsx`
**Line:** 149
**Context:** `if (!data.startDate) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\components\CourseForm.tsx`
**Line:** 152
**Context:** `if (!data.endDate) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\components\CourseForm.tsx`
**Line:** 461
**Context:** `<SelectValue>{frameworkInfo.label || 'Select framework'}</SelectValue>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\components\CourseForm.tsx`
**Line:** 552
**Context:** `value={formData.priority || '0'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\components\CourseForm.tsx`
**Line:** 570
**Context:** `checked={formData.isFeatured || false}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\components\CourseForm.tsx`
**Line:** 586
**Context:** `checked={formData.isSponsored || false}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\components\CourseForm.tsx`
**Line:** 641
**Context:** `disabled={isSubmitting || Object.keys(errors).length > 0}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 155
**Context:** `if (!session) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 283
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 323
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 328
**Context:** `setInstitutions(data.institutions || []);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 352
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 360
**Context:** `const categoriesData = Array.isArray(data) ? data : (data.categories || []);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 405
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 410
**Context:** `setCourses(data.courses || []);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 491
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 517
**Context:** `if (institutionId === 'all' || !institutionId) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 521
**Context:** `setSelectedInstitution(institution || null);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 560
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 565
**Context:** `setCourses(data.courses || []);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 603
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 608
**Context:** `setCourses(data.courses || []);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 619
**Context:** `if (!selectedCourse) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 649
**Context:** `if (!session || session.user?.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 649
**Context:** `if (!session || session.user?.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 696
**Context:** `if (!institutionsResponse.ok || !categoriesResponse.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 696
**Context:** `if (!institutionsResponse.ok || !categoriesResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 801
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 854
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 879
**Context:** `if (!isFormSubmitting && !formSubmissionRef.current) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 886
**Context:** `if (!open && hasUnsavedChanges && !isFormSubmitting && !formSubmissionRef.current) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 890
**Context:** `} else if (!open) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 935
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 954
**Context:** `if (!selectedCourse) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 983
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 990
**Context:** `if (!course.category || !course.category.id) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 990
**Context:** `if (!course.category || !course.category.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 994
**Context:** `if (!course.institution || !course.institution.id) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 994
**Context:** `if (!course.institution || !course.institution.id) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 1004
**Context:** `})) || [];`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 1010
**Context:** `base_price: course.base_price?.toString() || '0',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 1011
**Context:** `pricingPeriod: course.pricingPeriod || 'FULL_COURSE',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 1013
**Context:** `framework: course.framework || 'CEFR',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 1022
**Context:** `priority: (course.priority || 0).toString(),`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 1023
**Context:** `isFeatured: course.isFeatured || false,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 1024
**Context:** `isSponsored: course.isSponsored || false`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 1048
**Context:** `if (!courseResponse.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 1052
**Context:** `const currentYear = course.weeklyPrices?.[0]?.year || new Date().getFullYear();`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 1065
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 1244
**Context:** `{isLoading || loadingStates.isFetching ? (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 1288
**Context:** `<span>{course._count?.bookings || 0} bookings</span>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 1296
**Context:** `backgroundColor: ct.tag.color || undefined,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 1315
**Context:** `title={`View Enrollments (${course._count?.enrollments || 0})`}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 1321
**Context:** `<p>View Enrollments ({course._count?.enrollments || 0})</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 1393
**Context:** `backgroundColor: ct.tag.color || undefined,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 1414
**Context:** `title={`View Enrollments (${course._count?.enrollments || 0})`}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 1420
**Context:** `<p>View Enrollments ({course._count?.enrollments || 0})</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 1500
**Context:** `open={isAddModalOpen || isEditModalOpen}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 1543
**Context:** `if (!open) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 1558
**Context:** `initialPrices={selectedCourse.weeklyPrices || []}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 1559
**Context:** `basePrice={selectedCourse.base_price || parseFloat(formData.base_price) || 0}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 1572
**Context:** `if (!open) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 1587
**Context:** `initialPrices={selectedCourse.monthlyPrices || []}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\page.tsx`
**Line:** 1588
**Context:** `basePrice={selectedCourse.base_price || parseFloat(formData.base_price) || 0}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\enrollments\page.tsx`
**Line:** 145
**Context:** `if (!session) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\enrollments\page.tsx`
**Line:** 176
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\enrollments\page.tsx`
**Line:** 181
**Context:** `setEnrollments(data.enrollments || []);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\enrollments\page.tsx`
**Line:** 211
**Context:** `status: updateStatus || undefined,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\enrollments\page.tsx`
**Line:** 212
**Context:** `paymentStatus: updatePaymentStatus || undefined,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\enrollments\page.tsx`
**Line:** 217
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\enrollments\page.tsx`
**Line:** 289
**Context:** `if (!mounted) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\enrollments\page.tsx`
**Line:** 368
**Context:** `{enrollments.filter(e => e.status === 'ACTIVE' || e.status === 'ENROLLED').length}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\enrollments\page.tsx`
**Line:** 381
**Context:** `{enrollments.filter(e => e.paymentStatus === 'COMPLETED' || e.paymentStatus === 'PAID').length}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\page.tsx`
**Line:** 84
**Context:** `if (!courseResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\page.tsx`
**Line:** 92
**Context:** `if (!modulesResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\page.tsx`
**Line:** 123
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\page.tsx`
**Line:** 164
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\page.tsx`
**Line:** 271
**Context:** `onChange={(e) => setCreateFormData({ ...createFormData, estimated_duration: parseInt(e.target.value) || 0 })}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\page.tsx`
**Line:** 308
**Context:** `{module.description || 'No description'}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\page.tsx`
**Line:** 89
**Context:** `if (!courseResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\page.tsx`
**Line:** 97
**Context:** `if (!moduleResponse.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\page.tsx`
**Line:** 131
**Context:** `if (error || !module || !course) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\page.tsx`
**Line:** 134
**Context:** `<p className="text-red-500 mb-4">{error || 'Module not found'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\page.tsx`
**Line:** 182
**Context:** `<p className="text-muted-foreground">{module.description || 'No description provided'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\page.tsx`
**Line:** 288
**Context:** `<Badge variant="outline">Order: {item.order_index || 'N/A'}</Badge>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\page.tsx`
**Line:** 313
**Context:** `<Badge variant="outline">Order: {exercise.order_index || 'N/A'}</Badge>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\page.tsx`
**Line:** 337
**Context:** `{quiz.description || 'No description'}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\page.tsx`
**Line:** 71
**Context:** `if (!courseResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\page.tsx`
**Line:** 79
**Context:** `if (!moduleResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\page.tsx`
**Line:** 87
**Context:** `if (!quizzesResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\page.tsx`
**Line:** 135
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 71
**Context:** `if (!courseResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 79
**Context:** `if (!moduleResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 87
**Context:** `if (!quizResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 118
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 149
**Context:** `if (error || !quiz || !module || !course) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 152
**Context:** `<p className="text-red-500 mb-4">{error || 'Quiz not found'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 238
**Context:** `onChange={(e) => updateQuizField('passing_score', parseInt(e.target.value) || 0)}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 249
**Context:** `value={quiz.time_limit || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 260
**Context:** `value={quiz.description || ''}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\page.tsx`
**Line:** 67
**Context:** `if (!courseResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\page.tsx`
**Line:** 75
**Context:** `if (!moduleResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\page.tsx`
**Line:** 83
**Context:** `if (!quizResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\page.tsx`
**Line:** 115
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\page.tsx`
**Line:** 170
**Context:** `if (error || !quiz || !module || !course) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\page.tsx`
**Line:** 173
**Context:** `<p className="text-red-500 mb-4">{error || 'Quiz not found'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 173
**Context:** `if (params.difficulty < -4 || params.difficulty > 4) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 177
**Context:** `if (params.discrimination < 0.1 || params.discrimination > 3) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 181
**Context:** `if (params.guessing < 0 || params.guessing > 1) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 218
**Context:** `if (!questionData.use_manual_irt) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 236
**Context:** `if (!courseResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 244
**Context:** `if (!moduleResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 252
**Context:** `if (!quizResponse.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 276
**Context:** `type: template.type || prev.type,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 277
**Context:** `question: template.template_config?.question || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 278
**Context:** `points: template.template_config?.points || 1,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 279
**Context:** `options: template.template_config?.options || ['', '', '', ''],`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 280
**Context:** `correct_answer: template.template_config?.correct_answer || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 281
**Context:** `explanation: template.template_config?.explanation || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 282
**Context:** `difficulty: template.difficulty || 'MEDIUM',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 283
**Context:** `category: template.category || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 284
**Context:** `hints: template.template_config?.hints || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 285
**Context:** `question_config: template.template_config || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 286
**Context:** `media_url: template.template_config?.media_url || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 287
**Context:** `media_type: template.template_config?.media_type || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 288
**Context:** `question_options: template.template_config?.question_options || []`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 311
**Context:** `difficulty: questionData.irt_difficulty || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 312
**Context:** `discrimination: questionData.irt_discrimination || 1,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 313
**Context:** `guessing: questionData.irt_guessing || 0.25`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 317
**Context:** `if (!validation.isValid) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 333
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 485
**Context:** `value={questionData.question_config?.leftItems?.join('\n') || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 503
**Context:** `value={questionData.question_config?.rightItems?.join('\n') || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 527
**Context:** `value={questionData.question_config?.dragItems?.join('\n') || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 545
**Context:** `value={questionData.question_config?.dropZones?.join('\n') || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 599
**Context:** `value={questionData.question_config?.orderItems?.join('\n') || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 653
**Context:** `<span className="font-medium">Difficulty:</span> {questionData.irt_difficulty?.toFixed(2) || '0.00'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 656
**Context:** `<span className="font-medium">Discrimination:</span> {questionData.irt_discrimination?.toFixed(2) || '1.00'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 659
**Context:** `<span className="font-medium">Guessing:</span> {questionData.irt_guessing?.toFixed(2) || '0.25'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 680
**Context:** `value={questionData.irt_difficulty || 0}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 681
**Context:** `onChange={(e) => updateQuestionField('irt_difficulty', parseFloat(e.target.value) || 0)}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 697
**Context:** `value={questionData.irt_discrimination || 1}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 698
**Context:** `onChange={(e) => updateQuestionField('irt_discrimination', parseFloat(e.target.value) || 1)}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 714
**Context:** `value={questionData.irt_guessing || 0.25}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 715
**Context:** `onChange={(e) => updateQuestionField('irt_guessing', parseFloat(e.target.value) || 0.25)}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 744
**Context:** `if (error || !quiz || !module || !course) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 747
**Context:** `<p className="text-red-500 mb-4">{error || 'Quiz not found'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 854
**Context:** `onChange={(e) => updateQuestionField('points', parseInt(e.target.value) || 1)}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 174
**Context:** `if (params.difficulty < -4 || params.difficulty > 4) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 178
**Context:** `if (params.discrimination < 0.1 || params.discrimination > 3) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 182
**Context:** `if (params.guessing < 0 || params.guessing > 1) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 270
**Context:** `correct_answer: questionData.correct_answer || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 271
**Context:** `explanation: questionData.explanation || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 272
**Context:** `difficulty: questionData.difficulty || 'MEDIUM',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 273
**Context:** `category: questionData.category || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 274
**Context:** `hints: questionData.hints || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 275
**Context:** `question_config: questionData.question_config || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 276
**Context:** `media_url: questionData.media_url || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 277
**Context:** `media_type: questionData.media_type || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 278
**Context:** `question_options: questionData.questionOptions || [],`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 279
**Context:** `irt_difficulty: questionData.irt_difficulty || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 280
**Context:** `irt_discrimination: questionData.irt_discrimination || 1.0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 281
**Context:** `irt_guessing: questionData.irt_guessing || 0.25,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 282
**Context:** `use_manual_irt: questionData.use_manual_irt || false`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 297
**Context:** `if (!formData.use_manual_irt) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 330
**Context:** `if (!validation.isValid) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 346
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 523
**Context:** `value={formData.question_config?.leftItems?.join('\n') || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 541
**Context:** `value={formData.question_config?.rightItems?.join('\n') || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 566
**Context:** `value={formData.question_config?.dragItems?.join('\n') || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 584
**Context:** `value={formData.question_config?.dropZones?.join('\n') || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 638
**Context:** `value={formData.question_config?.orderItems?.join('\n') || ''}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 669
**Context:** `if (!quiz || !module || !course || !question) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 669
**Context:** `if (!quiz || !module || !course || !question) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 784
**Context:** `onChange={(e) => setFormData({ ...formData, points: parseInt(e.target.value) || 1 })}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 850
**Context:** `<span className="font-medium">Difficulty:</span> {formData.irt_difficulty?.toFixed(2) || '0.00'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 853
**Context:** `<span className="font-medium">Discrimination:</span> {formData.irt_discrimination?.toFixed(2) || '1.00'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 856
**Context:** `<span className="font-medium">Guessing:</span> {formData.irt_guessing?.toFixed(2) || '0.25'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 877
**Context:** `value={formData.irt_difficulty || 0}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 878
**Context:** `onChange={(e) => setFormData({ ...formData, irt_difficulty: parseFloat(e.target.value) || 0 })}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 894
**Context:** `value={formData.irt_discrimination || 1}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 895
**Context:** `onChange={(e) => setFormData({ ...formData, irt_discrimination: parseFloat(e.target.value) || 1 })}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 911
**Context:** `value={formData.irt_guessing || 0.25}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 912
**Context:** `onChange={(e) => setFormData({ ...formData, irt_guessing: parseFloat(e.target.value) || 0.25 })}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\page.tsx`
**Line:** 93
**Context:** `if (!courseResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\page.tsx`
**Line:** 102
**Context:** `if (!modulesResponse.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\page.tsx`
**Line:** 112
**Context:** `_count: courseData._count || {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\page.tsx`
**Line:** 115
**Context:** `courseTags: courseData.courseTags?.length || 0`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\page.tsx`
**Line:** 147
**Context:** `if (loading || !course) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\page.tsx`
**Line:** 206
**Context:** `<p className="text-muted-foreground">{course.description || 'No description provided'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\courses\[id]\page.tsx`
**Line:** 350
**Context:** `<span className="font-semibold">{course.modules?.length || 0}</span>`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institution-monetization\page.tsx`
**Line:** 86
**Context:** `if (!session || session.user?.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institution-monetization\page.tsx`
**Line:** 86
**Context:** `if (!session || session.user?.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\create\page.tsx`
**Line:** 90
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\create\page.tsx`
**Line:** 91
**Context:** `throw new Error(data.error || data.details || 'Failed to create institution');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\page.tsx`
**Line:** 64
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\page.tsx`
**Line:** 67
**Context:** `throw new Error(errorData.error || errorData.details || 'Failed to fetch institutions');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\page.tsx`
**Line:** 111
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\page.tsx`
**Line:** 134
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\page.tsx`
**Line:** 231
**Context:** `src={institution.logoUrl || ''}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\courses\page.tsx`
**Line:** 162
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\courses\page.tsx`
**Line:** 164
**Context:** `throw new Error(error.message || 'Failed to save course');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\courses\page.tsx`
**Line:** 207
**Context:** `})) || []`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\courses\page.tsx`
**Line:** 234
**Context:** `if (!institution) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\courses\page.tsx`
**Line:** 455
**Context:** `courseId={editingCourse?.id.toString() || 'new'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\courses\page.tsx`
**Line:** 492
**Context:** `backgroundColor: ct.tag.color || undefined,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\courses\page.tsx`
**Line:** 565
**Context:** `backgroundColor: ct.tag.color || undefined,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\edit\page.tsx`
**Line:** 26
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\edit\page.tsx`
**Line:** 34
**Context:** `logoUrl: data.logoUrl || '', // Ensure logoUrl is available`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\edit\page.tsx`
**Line:** 35
**Context:** `mainImageUrl: data.mainImageUrl || '', // Ensure mainImageUrl is available`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\edit\page.tsx`
**Line:** 80
**Context:** `if (!institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\page.tsx`
**Line:** 66
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\page.tsx`
**Line:** 89
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\page.tsx`
**Line:** 94
**Context:** `if (!data || typeof data.id !== 'string') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\page.tsx`
**Line:** 94
**Context:** `if (!data || typeof data.id !== 'string') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\page.tsx`
**Line:** 142
**Context:** `if (!institution) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\page.tsx`
**Line:** 169
**Context:** `src={institution?.logoUrl || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\page.tsx`
**Line:** 185
**Context:** `View Courses ({institution._count?.courses || 0})`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\page.tsx`
**Line:** 209
**Context:** `{institution.status === 'ACTIVE' || institution.isApproved ? 'Suspend' : 'Activate'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\page.tsx`
**Line:** 232
**Context:** `<p className="text-gray-600">{institution.description || 'No description provided'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\page.tsx`
**Line:** 237
**Context:** `<p className="text-gray-600">{institution.country || 'Not specified'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\page.tsx`
**Line:** 241
**Context:** `<p className="text-gray-600">{institution.city || 'Not specified'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\page.tsx`
**Line:** 245
**Context:** `<p className="text-gray-600">{institution.state || 'Not specified'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\page.tsx`
**Line:** 249
**Context:** `<p className="text-gray-600">{institution.postcode || 'Not specified'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\page.tsx`
**Line:** 254
**Context:** `<p className="text-gray-600">{institution.address || 'Not specified'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\page.tsx`
**Line:** 258
**Context:** `<p className="text-gray-600">{institution.telephone || 'Not specified'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\page.tsx`
**Line:** 299
**Context:** `{institution.website || 'Not provided'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\page.tsx`
**Line:** 305
**Context:** `{institution.institutionEmail || 'Not provided'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\page.tsx`
**Line:** 311
**Context:** `{institution.telephone || 'Not provided'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\page.tsx`
**Line:** 317
**Context:** `{institution.contactName || 'Not provided'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\page.tsx`
**Line:** 323
**Context:** `{institution.contactJobTitle || 'Not provided'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\page.tsx`
**Line:** 329
**Context:** `{institution.contactPhone || 'Not provided'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\page.tsx`
**Line:** 335
**Context:** `{institution.contactEmail || 'Not provided'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\page.tsx`
**Line:** 381
**Context:** `{(!institution.facilities || institution.facilities.length === 0) && (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\page.tsx`
**Line:** 398
**Context:** `{institution.description || 'No description provided'}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\permissions\page.tsx`
**Line:** 66
**Context:** `if (!session?.user?.role || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\permissions\page.tsx`
**Line:** 66
**Context:** `if (!session?.user?.role || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\permissions\page.tsx`
**Line:** 81
**Context:** `if (!institutionResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\permissions\page.tsx`
**Line:** 89
**Context:** `if (!permissionsResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\permissions\page.tsx`
**Line:** 121
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\permissions\page.tsx`
**Line:** 147
**Context:** `const permissionsToUpdate = categoryPermissions[category] || [];`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\permissions\page.tsx`
**Line:** 174
**Context:** `if (!institution || !permissions) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\permissions\page.tsx`
**Line:** 174
**Context:** `if (!institution || !permissions) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\users\page.tsx`
**Line:** 55
**Context:** `if (!session?.user?.role || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\users\page.tsx`
**Line:** 55
**Context:** `if (!session?.user?.role || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\users\page.tsx`
**Line:** 75
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\users\page.tsx`
**Line:** 77
**Context:** `throw new Error(errorData.message || 'Failed to fetch users');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\users\page.tsx`
**Line:** 109
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\users\page.tsx`
**Line:** 111
**Context:** `throw new Error(errorData.message || `Failed to ${editingUser ? 'update' : 'create'} user`);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\users\page.tsx`
**Line:** 165
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\institutions\[id]\users\page.tsx`
**Line:** 167
**Context:** `throw new Error(errorData.message || 'Failed to delete user');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\payments\page.tsx`
**Line:** 155
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\payments\page.tsx`
**Line:** 170
**Context:** `toast.success(result.message || 'Payment approved successfully');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\payments\page.tsx`
**Line:** 195
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\payments\page.tsx`
**Line:** 210
**Context:** `toast.success(result.message || 'Payment disapproved successfully');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\payments\page.tsx`
**Line:** 239
**Context:** `if (!paymentSettings) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\payments\page.tsx`
**Line:** 245
**Context:** `if (!paymentSettings.allowInstitutionPaymentApproval) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\payments\page.tsx`
**Line:** 270
**Context:** `if (!paymentSettings.allowInstitutionPaymentApproval) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\payments\page.tsx`
**Line:** 321
**Context:** `if (!paymentSettings.allowInstitutionPaymentApproval) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\payments\page.tsx`
**Line:** 382
**Context:** `const matchesStatus = selectedStatus === 'all' || payment.status === selectedStatus;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\payments\page.tsx`
**Line:** 383
**Context:** `const matchesInstitution = selectedInstitution === 'all' || payment.institution.id === selectedInstitution;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\payments\page.tsx`
**Line:** 384
**Context:** `const matchesPaymentMethod = selectedPaymentMethod === 'all' || payment.paymentMethod === selectedPaymentMethod;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\payments\page.tsx`
**Line:** 388
**Context:** `const pendingPayments = filteredPayments.filter(p => p.status === 'PENDING' || p.status === 'PROCESSING');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\payments\page.tsx`
**Line:** 394
**Context:** `if (status === 'loading' || loading) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\payments\page.tsx`
**Line:** 651
**Context:** `<TableRow key={payment.id} className={(payment.status === 'PENDING' || payment.status === 'PROCESSING') ? 'bg-orange-50 dark:bg-orange-900/10' : ''}>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\payments\page.tsx`
**Line:** 669
**Context:** `{(payment.status === 'PENDING' || payment.status === 'PROCESSING') && requiresAdminApprovalDueToWithdrawnRights(payment) && (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\payments\page.tsx`
**Line:** 692
**Context:** `{payment.referenceNumber || 'N/A'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\payments\page.tsx`
**Line:** 727
**Context:** `{(payment.status === 'PENDING' || payment.status === 'PROCESSING') && (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\payments\page.tsx`
**Line:** 876
**Context:** `<p><strong>Reference:</strong> {selectedPaymentForDetails.referenceNumber || 'N/A'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\payments\page.tsx`
**Line:** 877
**Context:** `<p><strong>Booking ID:</strong> {selectedPaymentForDetails.bookingId || 'N/A'}</p>`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\performance\page.tsx`
**Line:** 16
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\performance\page.tsx`
**Line:** 35
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\performance\page.tsx`
**Line:** 35
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\question-banks\page.tsx`
**Line:** 98
**Context:** `if (!editingBank || !formData.name.trim()) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\question-banks\page.tsx`
**Line:** 151
**Context:** `description: bank.description || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\question-banks\page.tsx`
**Line:** 152
**Context:** `category: bank.category || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\question-banks\page.tsx`
**Line:** 161
**Context:** `const matchesCategory = !selectedCategory || bank.category === selectedCategory;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\question-banks\page.tsx`
**Line:** 301
**Context:** `{bank.description || 'No description'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\question-banks\page.tsx`
**Line:** 338
**Context:** `{bank.questions_count || 0} questions`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\question-banks\[id]\page.tsx`
**Line:** 122
**Context:** `a.download = `${bank?.name || 'question-bank'}.json`;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\question-banks\[id]\page.tsx`
**Line:** 144
**Context:** `if (!data.questions || !Array.isArray(data.questions)) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\question-banks\[id]\page.tsx`
**Line:** 178
**Context:** `if (!bank) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\question-banks\[id]\page.tsx`
**Line:** 191
**Context:** `<span className="text-xs text-muted-foreground">{bank.questions_count || 0} questions</span>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\question-templates\page.tsx`
**Line:** 124
**Context:** `if (!editingTemplate || !formData.name.trim()) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\question-templates\page.tsx`
**Line:** 177
**Context:** `description: template.description || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\question-templates\page.tsx`
**Line:** 179
**Context:** `template_config: template.template_config || {},`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\question-templates\page.tsx`
**Line:** 180
**Context:** `category: template.category || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\question-templates\page.tsx`
**Line:** 190
**Context:** `const matchesType = !selectedType || selectedType === 'all' || template.type === selectedType;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\question-templates\page.tsx`
**Line:** 191
**Context:** `const matchesDifficulty = !selectedDifficulty || selectedDifficulty === 'all' || template.difficulty === selectedDifficulty;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\question-templates\page.tsx`
**Line:** 362
**Context:** `{template.description || 'No description'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\question-templates\page.tsx`
**Line:** 432
**Context:** `{searchTerm || selectedType !== 'all' || selectedDifficulty !== 'all'`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\question-templates\[id]\page.tsx`
**Line:** 98
**Context:** `if (!template) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\question-templates\[id]\page.tsx`
**Line:** 162
**Context:** `<Input value={Array.isArray(formData.tags) ? formData.tags.join(', ') : formData.tags || ''} onChange={e => setFormData({ ...formData, tags: e.target.value })} />`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\commission-tiers\page.tsx`
**Line:** 127
**Context:** `if (!session || session.user?.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\commission-tiers\page.tsx`
**Line:** 127
**Context:** `if (!session || session.user?.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\commission-tiers\page.tsx`
**Line:** 254
**Context:** `return plan?.icon || <Building2 className="w-4 h-4" />;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\commission-tiers\page.tsx`
**Line:** 741
**Context:** `planType: plan?.planType || 'STARTER',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\commission-tiers\page.tsx`
**Line:** 742
**Context:** `name: plan?.name || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\commission-tiers\page.tsx`
**Line:** 743
**Context:** `monthlyPrice: plan?.monthlyPrice || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\commission-tiers\page.tsx`
**Line:** 744
**Context:** `annualPrice: plan?.annualPrice || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\commission-tiers\page.tsx`
**Line:** 746
**Context:** `features: plan?.features || {}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\common-scripts\page.tsx`
**Line:** 39
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\common-scripts\page.tsx`
**Line:** 40
**Context:** `throw new Error(data.error || 'Failed to run seed script')`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\common-scripts\page.tsx`
**Line:** 72
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\common-scripts\page.tsx`
**Line:** 73
**Context:** `throw new Error(data.error || 'Failed to run booking payment consistency script')`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\common-scripts\page.tsx`
**Line:** 101
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\common-scripts\page.tsx`
**Line:** 102
**Context:** `throw new Error(data.error || 'Failed to run maintenance scripts')`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\common-scripts\page.tsx`
**Line:** 107
**Context:** `text: data.message || 'All maintenance scripts executed successfully.'`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\common-scripts\page.tsx`
**Line:** 299
**Context:** `<div className="text-sm">Inconsistent Bookings: {maintenanceResults.auditFix?.inconsistentBookings || 0}</div>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\common-scripts\page.tsx`
**Line:** 300
**Context:** `<div className="text-sm">Fixed Bookings: {maintenanceResults.auditFix?.fixedBookings || 0}</div>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\common-scripts\page.tsx`
**Line:** 301
**Context:** `<div className="text-sm">Inconsistent Enrollments: {maintenanceResults.auditFix?.inconsistentEnrollments || 0}</div>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\common-scripts\page.tsx`
**Line:** 302
**Context:** `<div className="text-sm">Fixed Enrollments: {maintenanceResults.auditFix?.fixedEnrollments || 0}</div>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\common-scripts\page.tsx`
**Line:** 306
**Context:** `<div className="text-sm">Orphaned Enrollments Found: {maintenanceResults.cleanup?.orphanedEnrollments || 0}</div>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\common-scripts\page.tsx`
**Line:** 307
**Context:** `<div className="text-sm">Deleted Enrollments: {maintenanceResults.cleanup?.deletedEnrollments || 0}</div>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\common-scripts\page.tsx`
**Line:** 315
**Context:** `{maintenanceResults.combinedLogs?.join('\n') || 'No logs available'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\notifications\templates\page.tsx`
**Line:** 165
**Context:** `toast.error(error.message || 'Failed to create template');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\notifications\templates\page.tsx`
**Line:** 190
**Context:** `toast.error(error.message || 'Failed to update template');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\notifications\templates\page.tsx`
**Line:** 212
**Context:** `toast.error(error.message || 'Failed to delete template');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\notifications\templates\page.tsx`
**Line:** 238
**Context:** `subject: template.subject || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\notifications\templates\page.tsx`
**Line:** 264
**Context:** `const matchesType = filterType === 'all' || template.type === filterType;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\notifications\templates\page.tsx`
**Line:** 265
**Context:** `const matchesCategory = filterCategory === 'all' || template.category === filterCategory;`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 237
**Context:** `if (!session?.user?.role || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 237
**Context:** `if (!session?.user?.role || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 345
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 347
**Context:** `throw new Error(errorData.message || 'Failed to seed categories');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 380
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 382
**Context:** `throw new Error(errorData.message || 'Failed to seed tags');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 415
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 445
**Context:** `if (!passwordChange.currentPassword || !passwordChange.newPassword || !passwordChange.confirmPassword) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 445
**Context:** `if (!passwordChange.currentPassword || !passwordChange.newPassword || !passwordChange.confirmPassword) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 468
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 470
**Context:** `throw new Error(error.message || 'Failed to save email settings');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 481
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 483
**Context:** `throw new Error(error.message || 'Failed to save email settings');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 530
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 532
**Context:** `throw new Error(errorData.message || 'Failed to fix missing students');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 602
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 604
**Context:** `throw new Error(errorData.message || 'Failed to seed notification templates');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 625
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 627
**Context:** `throw new Error(errorData.message || 'Failed to create template');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 659
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 661
**Context:** `throw new Error(errorData.message || 'Failed to update template');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 693
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 695
**Context:** `throw new Error(errorData.message || 'Failed to delete template');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 712
**Context:** `subject: template.subject || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 1367
**Context:** `<p className="text-2xl font-bold text-blue-900">{notificationStats.overview?.total || 0}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 1376
**Context:** `<p className="text-2xl font-bold text-green-900">{notificationStats.overview?.successRate || 0}%</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 1385
**Context:** `<p className="text-2xl font-bold text-purple-900">{notificationStats.templates?.active || 0}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 1394
**Context:** `<p className="text-2xl font-bold text-orange-900">{notificationStats.byType?.email || 0}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 1540
**Context:** `Created by {template.createdByUser?.name || 'Unknown'} on {new Date(template.createdAt).toLocaleDateString()}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 1553
**Context:** `<Dialog open={!!(showTemplateForm || editingTemplate)} onOpenChange={(open) => !open && handleCancelTemplateEdit()}>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 1833
**Context:** `<p className="mt-1 text-sm">{viewingTemplate.createdByUser?.name || 'Unknown'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 2142
**Context:** `<p className="text-2xl font-bold text-blue-900">{cleanupResults.students || 0}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 2151
**Context:** `<p className="text-2xl font-bold text-blue-900">{cleanupResults.studentAchievements || 0}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 2160
**Context:** `<p className="text-2xl font-bold text-blue-900">{cleanupResults.notificationPreferences || 0}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 2177
**Context:** `<p className="text-2xl font-bold text-green-900">{cleanupResults.enrollments || 0}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 2186
**Context:** `<p className="text-2xl font-bold text-green-900">{cleanupResults.completions || 0}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 2195
**Context:** `<p className="text-2xl font-bold text-green-900">{cleanupResults.bookings || 0}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 2212
**Context:** `<p className="text-2xl font-bold text-purple-900">{cleanupResults.moduleProgress || 0}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 2221
**Context:** `<p className="text-2xl font-bold text-purple-900">{cleanupResults.progress || 0}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 2230
**Context:** `<p className="text-2xl font-bold text-purple-900">{cleanupResults.learningSessions || 0}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 2247
**Context:** `<p className="text-2xl font-bold text-orange-900">{cleanupResults.quizAttempts || 0}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 2256
**Context:** `<p className="text-2xl font-bold text-orange-900">{cleanupResults.quizResponses || 0}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 2273
**Context:** `<p className="text-2xl font-bold text-red-900">{cleanupResults.payments || 0}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 2282
**Context:** `<p className="text-2xl font-bold text-red-900">{cleanupResults.payouts || 0}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 2291
**Context:** `<p className="text-2xl font-bold text-red-900">{cleanupResults.commissionLogs || 0}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\page.tsx`
**Line:** 2307
**Context:** `{Object.values(cleanupResults).reduce((sum: number, count: any) => sum + (count || 0), 0)}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\payment-approval\page.tsx`
**Line:** 94
**Context:** `if (!session?.user?.role || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\payment-approval\page.tsx`
**Line:** 94
**Context:** `if (!session?.user?.role || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\payment-approval\page.tsx`
**Line:** 152
**Context:** `toast.error(error.message || 'Failed to save settings');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\payment-approval\page.tsx`
**Line:** 210
**Context:** `if (!originalSettings || !impact) return false;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\payment-approval\page.tsx`
**Line:** 230
**Context:** `if (status === 'loading' || loading) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\payment-approval\page.tsx`
**Line:** 269
**Context:** `disabled={!hasChanges || saving}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\subscription-plans\page.tsx`
**Line:** 100
**Context:** `if (!plansResponse.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\subscription-plans\page.tsx`
**Line:** 104
**Context:** `setPlans(plansData.plans || []);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\subscription-plans\page.tsx`
**Line:** 135
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\subscription-plans\page.tsx`
**Line:** 169
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\subscription-plans\page.tsx`
**Line:** 192
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\subscription-plans\page.tsx`
**Line:** 214
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\subscription-plans\page.tsx`
**Line:** 317
**Context:** `onChange={(e) => setCreateFormData(prev => ({ ...prev, price: parseFloat(e.target.value) || 0 }))}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\subscription-plans\page.tsx`
**Line:** 348
**Context:** `onChange={(e) => setCreateFormData(prev => ({ ...prev, maxStudents: parseInt(e.target.value) || 0 }))}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\subscription-plans\page.tsx`
**Line:** 358
**Context:** `onChange={(e) => setCreateFormData(prev => ({ ...prev, maxCourses: parseInt(e.target.value) || 0 }))}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\subscription-plans\page.tsx`
**Line:** 368
**Context:** `onChange={(e) => setCreateFormData(prev => ({ ...prev, maxTeachers: parseInt(e.target.value) || 0 }))}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\subscription-plans\page.tsx`
**Line:** 568
**Context:** `const updatedPlan = { ...plan, price: parseFloat(e.target.value) || 0 };`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\subscription-plans\page.tsx`
**Line:** 580
**Context:** `const updatedPlan = { ...plan, maxStudents: parseInt(e.target.value) || 0 };`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-backup-restored\settings\subscription-plans\page.tsx`
**Line:** 592
**Context:** `const updatedPlan = { ...plan, maxCourses: parseInt(e.target.value) || 0 };`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-disabled\dashboard\page.tsx`
**Line:** 39
**Context:** `if (status === 'unauthenticated' || !session) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-disabled\dashboard\page.tsx`
**Line:** 52
**Context:** `if (status !== 'authenticated' || !session || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-disabled\dashboard\page.tsx`
**Line:** 71
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-disabled\dashboard\page.tsx`
**Line:** 100
**Context:** `if (status === 'unauthenticated' || !session) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-disabled\dashboard\page.tsx`
**Line:** 174
**Context:** `<div className="text-2xl font-bold text-gray-900 dark:text-white">{stats?.statistics?.totalUsers || 0}</div>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-disabled\dashboard\page.tsx`
**Line:** 193
**Context:** `<div className="text-2xl font-bold text-gray-900 dark:text-white">{stats?.statistics?.totalInstitutions || 0}</div>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-disabled\dashboard\page.tsx`
**Line:** 212
**Context:** `<div className="text-2xl font-bold text-gray-900 dark:text-white">{stats?.statistics?.totalCourses || 0}</div>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-disabled\dashboard\page.tsx`
**Line:** 231
**Context:** `<div className="text-2xl font-bold text-gray-900 dark:text-white">${stats?.statistics?.totalRevenue?.toLocaleString() || 0}</div>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-disabled\dashboard\page.tsx`
**Line:** 250
**Context:** `<div className="text-2xl font-bold text-gray-900 dark:text-white">{stats?.statistics?.totalEnrollments || 0}</div>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-disabled\dashboard\page.tsx`
**Line:** 269
**Context:** `<div className="text-2xl font-bold text-gray-900 dark:text-white">${stats?.statistics?.totalCommission?.toLocaleString() || 0}</div>`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\revenue\page.tsx`
**Line:** 71
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\subscriptions\page.tsx`
**Line:** 86
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\subscriptions\[id]\edit\page.tsx`
**Line:** 63
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\subscriptions\[id]\edit\page.tsx`
**Line:** 135
**Context:** `if (!subscription) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\subscriptions\[id]\edit\page.tsx`
**Line:** 255
**Context:** `({formData.planType || 'No plan'} plan)`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\tags\page.tsx`
**Line:** 82
**Context:** `if (!isDialogOpen) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\tags\page.tsx`
**Line:** 100
**Context:** `description: editingTag.description || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\tags\page.tsx`
**Line:** 101
**Context:** `parentId: editingTag.parentId || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\tags\page.tsx`
**Line:** 102
**Context:** `color: editingTag.color || '#000000',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\tags\page.tsx`
**Line:** 103
**Context:** `icon: editingTag.icon || '',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\tags\page.tsx`
**Line:** 160
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\tags\page.tsx`
**Line:** 226
**Context:** `if (!sessionData?.user?.role || sessionData.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\tags\page.tsx`
**Line:** 226
**Context:** `if (!sessionData?.user?.role || sessionData.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\tags\page.tsx`
**Line:** 237
**Context:** `parentId: formData.parentId || null,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\tags\page.tsx`
**Line:** 265
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\tags\page.tsx`
**Line:** 267
**Context:** `throw new Error(errorData.message || `Failed to ${isUpdating ? 'update' : 'create'} tag`);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\tags\page.tsx`
**Line:** 306
**Context:** `if (!open) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\tags\page.tsx`
**Line:** 335
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\tags\page.tsx`
**Line:** 337
**Context:** `throw new Error(error.message || 'Failed to delete tag');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\tags\page.tsx`
**Line:** 434
**Context:** `return iconMap[iconName] || Tag;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\tags\page.tsx`
**Line:** 464
**Context:** `<IconComponent className="w-4 h-4" style={{ color: tag.color || 'currentColor' }} />`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\tags\page.tsx`
**Line:** 475
**Context:** `<TableCell className="text-gray-600">{tag.description || '-'}</TableCell>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\tags\page.tsx`
**Line:** 477
**Context:** `<span className="font-medium">{tag._count?.courseTags || 0}</span>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\tags\page.tsx`
**Line:** 480
**Context:** `<span className="font-medium">{tag._count?.children || 0}</span>`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\tags\page.tsx`
**Line:** 516
**Context:** `if (!isAuthenticated) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\tags\page.tsx`
**Line:** 595
**Context:** `value={formData.parentId || 'none'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\tags\page.tsx`
**Line:** 647
**Context:** `onChange={(e) => setFormData(prev => ({ ...prev, priority: parseInt(e.target.value) || 0 }))}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\users\page.tsx`
**Line:** 80
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\users\page.tsx`
**Line:** 110
**Context:** `name: user.name || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\users\page.tsx`
**Line:** 138
**Context:** `password: password || undefined,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\users\page.tsx`
**Line:** 150
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\users\page.tsx`
**Line:** 152
**Context:** `throw new Error(errorData.message || `Failed to ${selectedUser ? 'update' : 'create'} user`);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\users\page.tsx`
**Line:** 188
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\users\page.tsx`
**Line:** 362
**Context:** `<h3 className="font-semibold text-sm sm:text-base line-clamp-1">{user.name || 'Unnamed User'}</h3>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\users\page.tsx`
**Line:** 383
**Context:** `name: user.name || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\users\page.tsx`
**Line:** 417
**Context:** `<h3 className="font-semibold text-sm sm:text-base line-clamp-1">{user.name || 'Unnamed User'}</h3>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\users\page.tsx`
**Line:** 440
**Context:** `name: user.name || '',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\users\page.tsx`
**Line:** 472
**Context:** `if (!open) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\users\[userId]\page.tsx`
**Line:** 53
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\users\[userId]\page.tsx`
**Line:** 58
**Context:** `throw new Error(errorData.message || 'Failed to fetch user');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\users\[userId]\page.tsx`
**Line:** 89
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\users\[userId]\page.tsx`
**Line:** 91
**Context:** `throw new Error(errorData.message || 'Failed to update user status');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\users\[userId]\page.tsx`
**Line:** 138
**Context:** `if (!user) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\admin-temp\users\[userId]\page.tsx`
**Line:** 190
**Context:** `<dd className="mt-1 text-sm text-gray-900">{user.name || 'Not provided'}</dd>`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\advertising\route.ts`
**Line:** 9
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\advertising\route.ts`
**Line:** 9
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\advertising\route.ts`
**Line:** 139
**Context:** `priorityScore += (course.institution.commissionRate || 0) * 10;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\advertising\route.ts`
**Line:** 146
**Context:** `priorityScore += planBonus[course.institution.subscriptionPlan as keyof typeof planBonus] || 0;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\advertising\route.ts`
**Line:** 151
**Context:** `estimatedRevenue: (course._count.bookings * course.base_price) || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\advertising\route.ts`
**Line:** 152
**Context:** `commissionRevenue: (course._count.bookings * course.base_price * (course.institution.commissionRate || 0) / 100) || 0`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\advertising\route.ts`
**Line:** 189
**Context:** `total: totalRevenue._sum.amount || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\advertising\route.ts`
**Line:** 190
**Context:** `commission: commissionRevenue._sum.amount || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\advertising\route.ts`
**Line:** 192
**Context:** `((commissionRevenue._sum.amount || 0) / totalRevenue._sum.amount * 100) : 0`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\advertising\route.ts`
**Line:** 256
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\advertising\route.ts`
**Line:** 256
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\categories\route.ts`
**Line:** 12
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\categories\route.ts`
**Line:** 12
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\categories\route.ts`
**Line:** 37
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\categories\route.ts`
**Line:** 37
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\categories\route.ts`
**Line:** 44
**Context:** `if (!name || !description) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\categories\route.ts`
**Line:** 44
**Context:** `if (!name || !description) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\categories\[categoryId]\route.ts`
**Line:** 13
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\categories\[categoryId]\route.ts`
**Line:** 25
**Context:** `if (!category) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\categories\[categoryId]\route.ts`
**Line:** 50
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\categories\[categoryId]\route.ts`
**Line:** 50
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\categories\[categoryId]\route.ts`
**Line:** 60
**Context:** `if (!name || !description) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\categories\[categoryId]\route.ts`
**Line:** 60
**Context:** `if (!name || !description) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\categories\[categoryId]\route.ts`
**Line:** 74
**Context:** `if (!existingCategory) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\categories\[categoryId]\route.ts`
**Line:** 110
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\categories\[categoryId]\route.ts`
**Line:** 110
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\categories\[categoryId]\route.ts`
**Line:** 124
**Context:** `if (!category) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\cleanup\route.ts`
**Line:** 10
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\cleanup\route.ts`
**Line:** 10
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\cleanup-sample-data\route.ts`
**Line:** 10
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\cleanup-sample-data\route.ts`
**Line:** 26
**Context:** `if (!result.success) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\commissions\calculate\route.ts`
**Line:** 10
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\commissions\calculate\route.ts`
**Line:** 58
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\commissions\calculate\route.ts`
**Line:** 67
**Context:** `if (!institutionId || !startDate || !endDate) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\commissions\calculate\route.ts`
**Line:** 67
**Context:** `if (!institutionId || !startDate || !endDate) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\priority\route.ts`
**Line:** 18
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\priority\route.ts`
**Line:** 18
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\priority\route.ts`
**Line:** 62
**Context:** `priorityScore += updatedCourse.priority || 0;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\priority\route.ts`
**Line:** 65
**Context:** `priorityScore += (updatedCourse.institution.commissionRate || 0) * 10;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\priority\route.ts`
**Line:** 73
**Context:** `priorityScore += planBonus[updatedCourse.institution.subscriptionPlan] || 0;`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\priority\route.ts`
**Line:** 132
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\priority\route.ts`
**Line:** 132
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\priority\route.ts`
**Line:** 139
**Context:** `if (!courseId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\priority\route.ts`
**Line:** 170
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\route.ts`
**Line:** 13
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\route.ts`
**Line:** 13
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\route.ts`
**Line:** 22
**Context:** `const page = parseInt(searchParams.get('page') || '1');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\route.ts`
**Line:** 23
**Context:** `const limit = parseInt(searchParams.get('limit') || '10');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\route.ts`
**Line:** 162
**Context:** `if (!session) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\route.ts`
**Line:** 187
**Context:** `if (!title || !institutionId || !categoryId) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\route.ts`
**Line:** 187
**Context:** `if (!title || !institutionId || !categoryId) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\route.ts`
**Line:** 196
**Context:** `if (base_price === undefined || base_price === null || isNaN(Number(base_price))) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\route.ts`
**Line:** 222
**Context:** `pricingPeriod: pricingPeriod || 'WEEKLY',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\route.ts`
**Line:** 225
**Context:** `framework: framework || 'GENERAL',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\route.ts`
**Line:** 226
**Context:** `level: level || 'BEGINNER',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\route.ts`
**Line:** 227
**Context:** `duration: parseInt(duration) || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\route.ts`
**Line:** 228
**Context:** `status: status || 'draft',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\route.ts`
**Line:** 231
**Context:** `maxStudents: parseInt(maxStudents) || 30,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\enrollments\route.ts`
**Line:** 14
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\enrollments\route.ts`
**Line:** 14
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\enrollments\route.ts`
**Line:** 31
**Context:** `if (!course) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\enrollments\route.ts`
**Line:** 39
**Context:** `const page = parseInt(searchParams.get('page') || '1');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\enrollments\route.ts`
**Line:** 40
**Context:** `const limit = parseInt(searchParams.get('limit') || '50');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\enrollments\route.ts`
**Line:** 150
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\enrollments\route.ts`
**Line:** 150
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\enrollments\route.ts`
**Line:** 156
**Context:** `if (!enrollmentId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\enrollments\route.ts`
**Line:** 168
**Context:** `if (!enrollment) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\enrollments\route.ts`
**Line:** 216
**Context:** `ipAddress: request.headers.get('x-forwarded-for') || 'unknown'`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\route.ts`
**Line:** 15
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\route.ts`
**Line:** 15
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\route.ts`
**Line:** 32
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\route.ts`
**Line:** 108
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\route.ts`
**Line:** 108
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\route.ts`
**Line:** 117
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\route.ts`
**Line:** 124
**Context:** `if (!title) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\route.ts`
**Line:** 136
**Context:** `const newOrder = order || (lastModule ? lastModule.order_index + 1 : 1);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\route.ts`
**Line:** 144
**Context:** `description: description || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\route.ts`
**Line:** 145
**Context:** `level: level || 'BEGINNER',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\content\route.ts`
**Line:** 15
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\content\route.ts`
**Line:** 15
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\content\route.ts`
**Line:** 24
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\content\route.ts`
**Line:** 36
**Context:** `if (!module) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\content\route.ts`
**Line:** 65
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\content\route.ts`
**Line:** 65
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\content\route.ts`
**Line:** 74
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\content\route.ts`
**Line:** 86
**Context:** `if (!module) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\content\route.ts`
**Line:** 96
**Context:** `const order_index = parseInt(formData.get('order_index') as string) || 0;`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\content\route.ts`
**Line:** 98
**Context:** `if (!title || !type) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\content\route.ts`
**Line:** 98
**Context:** `if (!title || !type) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\content\route.ts`
**Line:** 102
**Context:** `let content = url || '';`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\content\route.ts`
**Line:** 117
**Context:** `const newOrder = order_index || (lastContent ? lastContent.order_index + 1 : 1);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\analytics\route.ts`
**Line:** 8
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\analytics\route.ts`
**Line:** 8
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 13
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 30
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 42
**Context:** `if (!module) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 82
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 99
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 111
**Context:** `if (!module) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 129
**Context:** `if (!title) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 144
**Context:** `description: description || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 161
**Context:** `correct_answer: question.correct_answer || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 162
**Context:** `points: question.points || 1,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 163
**Context:** `difficulty: question.difficulty || 'MEDIUM',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 164
**Context:** `category: question.category || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 165
**Context:** `explanation: question.explanation || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 166
**Context:** `hints: question.hints || '',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 203
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 218
**Context:** `if (!quizId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 230
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 242
**Context:** `if (!module) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 257
**Context:** `if (!quiz) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\analytics\route.ts`
**Line:** 11
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\analytics\route.ts`
**Line:** 11
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\analytics\route.ts`
**Line:** 40
**Context:** `? completedAttempts.reduce((sum, a) => sum + (a.percentage || 0), 0) / completedAttempts.length`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\analytics\route.ts`
**Line:** 43
**Context:** `? completedAttempts.reduce((sum, a) => sum + (a.timeSpent || 0), 0) / completedAttempts.length`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\analytics\route.ts`
**Line:** 46
**Context:** `? (completedAttempts.filter(a => (a.percentage || 0) >= 70).length / completedAttempts.length) * 100`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\analytics\route.ts`
**Line:** 81
**Context:** `const score = attempt.percentage || 0;`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 13
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 30
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 42
**Context:** `if (!module) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 57
**Context:** `if (!quiz) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 82
**Context:** `if (!questionText || questionText.trim().length === 0) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 89
**Context:** `if (!type) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 96
**Context:** `if (points < 1 || points > 100) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 120
**Context:** `correct_answer: correct_answer?.trim() || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 121
**Context:** `points: points || 1,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 122
**Context:** `explanation: explanation?.trim() || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 126
**Context:** `hints: hints || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 141
**Context:** `option_type: opt.option_type || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 142
**Context:** `content: opt.content || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 143
**Context:** `media_url: opt.media_url || null,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 171
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 188
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 200
**Context:** `if (!module) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 215
**Context:** `if (!quiz) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 260
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 277
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 289
**Context:** `if (!module) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 304
**Context:** `if (!quiz) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 347
**Context:** `if (!questionId) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 351
**Context:** `if (!questionText || questionText.trim().length === 0) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 355
**Context:** `if (!type) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 359
**Context:** `if (points < 1 || points > 100) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 371
**Context:** `if (!existingQuestion) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 382
**Context:** `correct_answer: correct_answer?.trim() || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 383
**Context:** `points: points || 1,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 384
**Context:** `explanation: explanation?.trim() || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 388
**Context:** `hints: hints || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 408
**Context:** `option_type: opt.option_type || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 409
**Context:** `content: opt.content || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 410
**Context:** `media_url: opt.media_url || null,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 446
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 463
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 475
**Context:** `if (!module) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 490
**Context:** `if (!quiz) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 500
**Context:** `if (!questionIds) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 12
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 29
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 41
**Context:** `if (!module) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 56
**Context:** `if (!quiz) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 76
**Context:** `if (!question) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 110
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 127
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 139
**Context:** `if (!module) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 154
**Context:** `if (!quiz) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 169
**Context:** `if (!existingQuestion) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 195
**Context:** `if (!questionText || questionText.trim().length === 0) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 202
**Context:** `if (!type) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 209
**Context:** `if (points < 1 || points > 100) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 225
**Context:** `correct_answer: correct_answer?.trim() || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 226
**Context:** `points: points || 1,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 227
**Context:** `explanation: explanation?.trim() || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 231
**Context:** `hints: hints || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 251
**Context:** `option_type: opt.option_type || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 252
**Context:** `content: opt.content || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 253
**Context:** `media_url: opt.media_url || null,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 287
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 304
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 316
**Context:** `if (!module) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 331
**Context:** `if (!quiz) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 346
**Context:** `if (!existingQuestion) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\route.ts`
**Line:** 12
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\route.ts`
**Line:** 29
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\route.ts`
**Line:** 41
**Context:** `if (!module) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\route.ts`
**Line:** 63
**Context:** `if (!quiz) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\route.ts`
**Line:** 86
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\route.ts`
**Line:** 103
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\route.ts`
**Line:** 115
**Context:** `if (!module) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\route.ts`
**Line:** 130
**Context:** `if (!existingQuiz) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\route.ts`
**Line:** 148
**Context:** `if (!title) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\route.ts`
**Line:** 160
**Context:** `description: description || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\route.ts`
**Line:** 161
**Context:** `quiz_type: quiz_type || existingQuiz.quiz_type,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\route.ts`
**Line:** 162
**Context:** `difficulty: difficulty || existingQuiz.difficulty,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\route.ts`
**Line:** 163
**Context:** `passing_score: passing_score || existingQuiz.passing_score,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\route.ts`
**Line:** 193
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\route.ts`
**Line:** 210
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\route.ts`
**Line:** 222
**Context:** `if (!module) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\quizzes\[quizId]\route.ts`
**Line:** 237
**Context:** `if (!quiz) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 14
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 14
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 23
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 56
**Context:** `if (!module) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 83
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 83
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 92
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 104
**Context:** `if (!existingModule) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 111
**Context:** `if (!data.title) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 120
**Context:** `description: data.description || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 121
**Context:** `level: data.level || existingModule.level,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 122
**Context:** `estimated_duration: data.estimated_duration || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 123
**Context:** `vocabulary_list: data.vocabulary_list || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 124
**Context:** `grammar_points: data.grammar_points || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 125
**Context:** `cultural_notes: data.cultural_notes || '',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 180
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 180
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 189
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 201
**Context:** `if (!existingModule) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\route.ts`
**Line:** 15
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\route.ts`
**Line:** 57
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\route.ts`
**Line:** 108
**Context:** `if (!session?.user) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\route.ts`
**Line:** 130
**Context:** `const base_price = parseFloat(data.base_price) || 0;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\route.ts`
**Line:** 139
**Context:** `duration: parseInt(data.duration) || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\route.ts`
**Line:** 151
**Context:** `maxStudents: parseInt(data.maxStudents) || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\route.ts`
**Line:** 152
**Context:** `pricingPeriod: data.pricingPeriod || 'FULL_COURSE',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\courses\[id]\route.ts`
**Line:** 190
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\enrollments\[id]\dates\route.ts`
**Line:** 14
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\enrollments\[id]\dates\route.ts`
**Line:** 14
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\enrollments\[id]\dates\route.ts`
**Line:** 22
**Context:** `if (!confirmed) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\enrollments\[id]\dates\route.ts`
**Line:** 30
**Context:** `if (!reason || reason.trim() === '') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\enrollments\[id]\dates\route.ts`
**Line:** 38
**Context:** `if (!startDate || !endDate) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\enrollments\[id]\dates\route.ts`
**Line:** 38
**Context:** `if (!startDate || !endDate) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\enrollments\[id]\dates\route.ts`
**Line:** 50
**Context:** `if (isNaN(start.getTime()) || isNaN(end.getTime())) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\enrollments\[id]\dates\route.ts`
**Line:** 108
**Context:** `if (!enrollment) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\enrollments\[id]\dates\route.ts`
**Line:** 172
**Context:** `userEmail: session.user.email || 'unknown',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\enrollments\[id]\dates\route.ts`
**Line:** 179
**Context:** `notes: notes || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\enrollments\[id]\dates\route.ts`
**Line:** 185
**Context:** `ipAddress: request.headers.get('x-forwarded-for') || 'unknown',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\enrollments\[id]\dates\route.ts`
**Line:** 186
**Context:** `userAgent: request.headers.get('user-agent') || 'unknown',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\fix-missing-students\route.ts`
**Line:** 8
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\fix-missing-students\route.ts`
**Line:** 8
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\health\missing-students\route.ts`
**Line:** 8
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\health\missing-students\route.ts`
**Line:** 8
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institution-monetization\route.ts`
**Line:** 9
**Context:** `if (!session || session.user?.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institution-monetization\route.ts`
**Line:** 9
**Context:** `if (!session || session.user?.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institution-monetization\route.ts`
**Line:** 54
**Context:** `return sum + (booking.amount || 0);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institution-monetization\route.ts`
**Line:** 66
**Context:** `priorityScore += planBonus[institution.subscriptionPlan as keyof typeof planBonus] || 0;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institution-monetization\route.ts`
**Line:** 67
**Context:** `priorityScore += (institution.commissionRate || 0) * 5;`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institution-monetization\[id]\route.ts`
**Line:** 12
**Context:** `if (!session || session.user?.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institution-monetization\[id]\route.ts`
**Line:** 12
**Context:** `if (!session || session.user?.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institution-monetization\[id]\route.ts`
**Line:** 28
**Context:** `if (commissionRate !== undefined && (commissionRate < 0 || commissionRate > 100)) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\create-simple\route.ts`
**Line:** 128
**Context:** `ipAddress: request.ip || 'unknown',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\create-simple\route.ts`
**Line:** 129
**Context:** `userAgent: request.headers.get('user-agent') || 'unknown',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\route.ts`
**Line:** 15
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\route.ts`
**Line:** 81
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\route.ts`
**Line:** 86
**Context:** `if (!session.user.role || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\route.ts`
**Line:** 86
**Context:** `if (!session.user.role || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\route.ts`
**Line:** 113
**Context:** `if (!name || !email) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\route.ts`
**Line:** 113
**Context:** `if (!name || !email) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\route.ts`
**Line:** 146
**Context:** `description: description || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\route.ts`
**Line:** 147
**Context:** `country: country || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\route.ts`
**Line:** 148
**Context:** `city: city || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\route.ts`
**Line:** 149
**Context:** `state: state || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\route.ts`
**Line:** 150
**Context:** `postcode: postcode || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\route.ts`
**Line:** 151
**Context:** `address: address || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\route.ts`
**Line:** 152
**Context:** `telephone: telephone || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\route.ts`
**Line:** 153
**Context:** `contactName: contactName || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\route.ts`
**Line:** 154
**Context:** `contactJobTitle: contactJobTitle || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\route.ts`
**Line:** 155
**Context:** `contactPhone: contactPhone || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\route.ts`
**Line:** 156
**Context:** `contactEmail: contactEmail || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\route.ts`
**Line:** 157
**Context:** `institutionEmail: institutionEmail || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\route.ts`
**Line:** 158
**Context:** `website: website || '',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\route.ts`
**Line:** 262
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\route.ts`
**Line:** 262
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\route.ts`
**Line:** 269
**Context:** `if (!id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\settings\route.ts`
**Line:** 10
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\settings\route.ts`
**Line:** 19
**Context:** `if (!session.user.role || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\settings\route.ts`
**Line:** 19
**Context:** `if (!session.user.role || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\commission-rate\route.ts`
**Line:** 13
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\commission-rate\route.ts`
**Line:** 13
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\commission-rate\route.ts`
**Line:** 23
**Context:** `if (typeof newRate !== 'number' || newRate < 0 || newRate > 100) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\commission-rate\route.ts`
**Line:** 34
**Context:** `if (!institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\commission-rate\route.ts`
**Line:** 86
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\commission-rate\route.ts`
**Line:** 86
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\commission-rate\route.ts`
**Line:** 119
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\commission-rate\route.ts`
**Line:** 119
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\commission-rate\route.ts`
**Line:** 126
**Context:** `if (!newRate || !reason) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\commission-rate\route.ts`
**Line:** 126
**Context:** `if (!newRate || !reason) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\commission-rate\route.ts`
**Line:** 137
**Context:** `if (!institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\courses\route.ts`
**Line:** 13
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\courses\route.ts`
**Line:** 45
**Context:** `if (!institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\courses\route.ts`
**Line:** 89
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\courses\route.ts`
**Line:** 120
**Context:** `if (!categoryId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\courses\route.ts`
**Line:** 132
**Context:** `if (!category) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\courses\route.ts`
**Line:** 144
**Context:** `if (!institution) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\courses\route.ts`
**Line:** 164
**Context:** `maxStudents: parseInt(maxStudents) || 30,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\facilities\route.ts`
**Line:** 18
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\facilities\route.ts`
**Line:** 22
**Context:** `if (!session.user.role || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\facilities\route.ts`
**Line:** 22
**Context:** `if (!session.user.role || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\facilities\route.ts`
**Line:** 29
**Context:** `if (!facilities.length) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\logo\route.ts`
**Line:** 36
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\logo\route.ts`
**Line:** 40
**Context:** `if (!session.user.role || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\logo\route.ts`
**Line:** 40
**Context:** `if (!session.user.role || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\logo\route.ts`
**Line:** 49
**Context:** `if (!institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\logo\route.ts`
**Line:** 56
**Context:** `if (!logo) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\main-image\route.ts`
**Line:** 38
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\main-image\route.ts`
**Line:** 38
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\main-image\route.ts`
**Line:** 45
**Context:** `if (!mainImageFile) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\permissions\route.ts`
**Line:** 14
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\permissions\route.ts`
**Line:** 34
**Context:** `if (!institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\permissions\route.ts`
**Line:** 46
**Context:** `if (!permissions) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\permissions\route.ts`
**Line:** 74
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\permissions\route.ts`
**Line:** 94
**Context:** `if (!institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\route.ts`
**Line:** 13
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\route.ts`
**Line:** 18
**Context:** `if (!session.user.role || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\route.ts`
**Line:** 18
**Context:** `if (!session.user.role || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\route.ts`
**Line:** 35
**Context:** `if (!institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\route.ts`
**Line:** 86
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\route.ts`
**Line:** 90
**Context:** `if (!session.user.role || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\route.ts`
**Line:** 90
**Context:** `if (!session.user.role || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\route.ts`
**Line:** 117
**Context:** `if (!country || !state || !city) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\route.ts`
**Line:** 117
**Context:** `if (!country || !state || !city) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\route.ts`
**Line:** 144
**Context:** `if (!currentInstitution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\settings\route.ts`
**Line:** 16
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\settings\route.ts`
**Line:** 25
**Context:** `if (!session.user.role || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\settings\route.ts`
**Line:** 25
**Context:** `if (!session.user.role || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\settings\route.ts`
**Line:** 37
**Context:** `if (!currency || !VALID_CURRENCIES.includes(currency)) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\settings\route.ts`
**Line:** 45
**Context:** `if (typeof commissionRate !== 'number' || commissionRate < 0 || commissionRate > 100) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\settings\route.ts`
**Line:** 83
**Context:** `reason: body.reason || 'Updated by admin',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\status\route.ts`
**Line:** 12
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\status\route.ts`
**Line:** 12
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\users\route.ts`
**Line:** 16
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\users\route.ts`
**Line:** 66
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\users\route.ts`
**Line:** 85
**Context:** `if (!name || !email || !password || !role) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\users\route.ts`
**Line:** 85
**Context:** `if (!name || !email || !password || !role) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\users\[userId]\route.ts`
**Line:** 15
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\users\[userId]\route.ts`
**Line:** 34
**Context:** `if (!name || !email || !role) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\users\[userId]\route.ts`
**Line:** 34
**Context:** `if (!name || !email || !role) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\institutions\[id]\users\[userId]\route.ts`
**Line:** 107
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\payments\approve\[paymentId]\route.ts`
**Line:** 13
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\payments\approve\[paymentId]\route.ts`
**Line:** 46
**Context:** `if (!payment) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\payments\disapprove\[paymentId]\route.ts`
**Line:** 13
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\payments\disapprove\[paymentId]\route.ts`
**Line:** 48
**Context:** `if (!payment) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\payments\disapprove\[paymentId]\route.ts`
**Line:** 73
**Context:** `disapprovalReason: reason || 'Disapproved by administrator',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\payments\pending-count\route.ts`
**Line:** 10
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\payments\route.ts`
**Line:** 10
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\payments\route.ts`
**Line:** 91
**Context:** `if (!enrollment) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\payments\route.ts`
**Line:** 97
**Context:** `if (!student) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\payments\route.ts`
**Line:** 127
**Context:** `bookingId: bookingId || null,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\performance\health\route.ts`
**Line:** 10
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\performance\health\route.ts`
**Line:** 10
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\performance\metrics\route.ts`
**Line:** 10
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\performance\metrics\route.ts`
**Line:** 10
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\performance\route.ts`
**Line:** 10
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\performance\route.ts`
**Line:** 10
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\process-fallbacks\route.ts`
**Line:** 11
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\process-fallbacks\route.ts`
**Line:** 20
**Context:** `if (!user || user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\process-fallbacks\route.ts`
**Line:** 20
**Context:** `if (!user || user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\question-banks\route.ts`
**Line:** 8
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\question-banks\route.ts`
**Line:** 8
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\question-banks\route.ts`
**Line:** 24
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\question-banks\route.ts`
**Line:** 24
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\question-banks\[id]\add-question\route.ts`
**Line:** 8
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\question-banks\[id]\add-question\route.ts`
**Line:** 8
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\question-banks\[id]\export\route.ts`
**Line:** 8
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\question-banks\[id]\export\route.ts`
**Line:** 8
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\question-banks\[id]\import\route.ts`
**Line:** 9
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\question-banks\[id]\import\route.ts`
**Line:** 9
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\question-banks\[id]\import\route.ts`
**Line:** 27
**Context:** `points: q.points || 1,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\question-banks\[id]\import\route.ts`
**Line:** 29
**Context:** `difficulty: q.difficulty || 'MEDIUM',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\question-banks\[id]\remove-question\route.ts`
**Line:** 8
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\question-banks\[id]\remove-question\route.ts`
**Line:** 8
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\question-banks\[id]\route.ts`
**Line:** 8
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\question-banks\[id]\route.ts`
**Line:** 8
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\question-banks\[id]\route.ts`
**Line:** 20
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\question-banks\[id]\route.ts`
**Line:** 20
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\question-banks\[id]\route.ts`
**Line:** 39
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\question-banks\[id]\route.ts`
**Line:** 39
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\question-templates\route.ts`
**Line:** 8
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\question-templates\route.ts`
**Line:** 8
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\question-templates\route.ts`
**Line:** 19
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\question-templates\route.ts`
**Line:** 19
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\question-templates\[id]\route.ts`
**Line:** 8
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\question-templates\[id]\route.ts`
**Line:** 8
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\question-templates\[id]\route.ts`
**Line:** 20
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\question-templates\[id]\route.ts`
**Line:** 20
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\question-templates\[id]\route.ts`
**Line:** 42
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\question-templates\[id]\route.ts`
**Line:** 42
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\revenue\route.ts`
**Line:** 10
**Context:** `if (!session?.user) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\revenue\route.ts`
**Line:** 17
**Context:** `const reportType = searchParams.get('type') || 'metrics';`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\revenue\route.ts`
**Line:** 19
**Context:** `if (!startDate || !endDate) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\revenue\route.ts`
**Line:** 19
**Context:** `if (!startDate || !endDate) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\revenue\route.ts`
**Line:** 65
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\revenue\route.ts`
**Line:** 71
**Context:** `if (!startDate || !endDate) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\revenue\route.ts`
**Line:** 71
**Context:** `if (!startDate || !endDate) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\scripts\booking-payment-consistency\route.ts`
**Line:** 16
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\scripts\maintenance\route.ts`
**Line:** 14
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\scripts\seed\route.ts`
**Line:** 15
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\commission-tiers\route.ts`
**Line:** 9
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\commission-tiers\route.ts`
**Line:** 9
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\commission-tiers\route.ts`
**Line:** 34
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\commission-tiers\route.ts`
**Line:** 34
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\commission-tiers\route.ts`
**Line:** 67
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\commission-tiers\route.ts`
**Line:** 67
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\commission-tiers\[id]\route.ts`
**Line:** 12
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\commission-tiers\[id]\route.ts`
**Line:** 12
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\email\route.ts`
**Line:** 11
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\email\route.ts`
**Line:** 11
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\email\route.ts`
**Line:** 19
**Context:** `if (!settings) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\email\route.ts`
**Line:** 48
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\email\route.ts`
**Line:** 48
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\email\route.ts`
**Line:** 69
**Context:** `if (!host || !port || !username || !fromEmail || !fromName) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\email\route.ts`
**Line:** 69
**Context:** `if (!host || !port || !username || !fromEmail || !fromName) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\email\route.ts`
**Line:** 93
**Context:** `if (!currentSettings) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\email\route.ts`
**Line:** 102
**Context:** `if (!isValidPassword) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\email\route.ts`
**Line:** 111
**Context:** `} else if (!currentSettings) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\email\test\route.ts`
**Line:** 11
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\email\test\route.ts`
**Line:** 11
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\email\test\route.ts`
**Line:** 20
**Context:** `if (!emailSettings) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\error-scanning\route.ts`
**Line:** 13
**Context:** `if (!session?.user?.role || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\error-scanning\route.ts`
**Line:** 13
**Context:** `if (!session?.user?.role || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\error-scanning\route.ts`
**Line:** 20
**Context:** `if (!action || !scriptType) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\error-scanning\route.ts`
**Line:** 20
**Context:** `if (!action || !scriptType) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\error-scanning\route.ts`
**Line:** 91
**Context:** `details: execError.stderr || execError.message`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\error-scanning\route.ts`
**Line:** 128
**Context:** `if (!session?.user?.role || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\error-scanning\route.ts`
**Line:** 128
**Context:** `if (!session?.user?.role || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\general\route.ts`
**Line:** 11
**Context:** `return NextResponse.json({ fileUploadMaxSizeMB: settings.fileUploadMaxSizeMB || 10 });`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\seed-templates\route.ts`
**Line:** 10
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\seed-templates\route.ts`
**Line:** 10
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\send\route.ts`
**Line:** 11
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\send\route.ts`
**Line:** 11
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\send\route.ts`
**Line:** 33
**Context:** `if (!recipientEmail || !recipientName || !type || !title || !content) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\send\route.ts`
**Line:** 33
**Context:** `if (!recipientEmail || !recipientName || !type || !title || !content) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\send\route.ts`
**Line:** 47
**Context:** `if (!template) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\send\route.ts`
**Line:** 57
**Context:** `recipientId: recipientId || 'test',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\stats\route.ts`
**Line:** 10
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\stats\route.ts`
**Line:** 10
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\templates\route.ts`
**Line:** 11
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\templates\route.ts`
**Line:** 11
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\templates\route.ts`
**Line:** 50
**Context:** `createdByUser: userMap.get(template.createdBy) || {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\templates\route.ts`
**Line:** 55
**Context:** `updatedByUser: template.updatedBy ? (userMap.get(template.updatedBy) || {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\templates\route.ts`
**Line:** 76
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\templates\route.ts`
**Line:** 76
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\templates\route.ts`
**Line:** 97
**Context:** `if (!name || !type || !title || !content || !category) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\templates\route.ts`
**Line:** 97
**Context:** `if (!name || !type || !title || !content || !category) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\templates\route.ts`
**Line:** 146
**Context:** `createdByUser: user || {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\templates\route.ts`
**Line:** 148
**Context:** `name: session.user.name || 'Admin User',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\templates\route.ts`
**Line:** 149
**Context:** `email: session.user.email || 'admin@example.com'`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\templates\[id]\route.ts`
**Line:** 13
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\templates\[id]\route.ts`
**Line:** 13
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\templates\[id]\route.ts`
**Line:** 24
**Context:** `if (!template) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\templates\[id]\route.ts`
**Line:** 52
**Context:** `createdByUser: userMap.get(template.createdBy) || {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\templates\[id]\route.ts`
**Line:** 57
**Context:** `updatedByUser: template.updatedBy ? (userMap.get(template.updatedBy) || {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\templates\[id]\route.ts`
**Line:** 81
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\templates\[id]\route.ts`
**Line:** 81
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\templates\[id]\route.ts`
**Line:** 106
**Context:** `if (!existingTemplate) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\templates\[id]\route.ts`
**Line:** 165
**Context:** `createdByUser: userMap.get(updatedTemplate.createdBy) || {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\templates\[id]\route.ts`
**Line:** 170
**Context:** `updatedByUser: updatedTemplate.updatedBy ? (userMap.get(updatedTemplate.updatedBy) || {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\templates\[id]\route.ts`
**Line:** 195
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\templates\[id]\route.ts`
**Line:** 195
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\notifications\templates\[id]\route.ts`
**Line:** 207
**Context:** `if (!existingTemplate) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\payment-approval\route.ts`
**Line:** 11
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\payment-approval\route.ts`
**Line:** 11
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\payment-approval\route.ts`
**Line:** 23
**Context:** `if (!settings) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\payment-approval\route.ts`
**Line:** 81
**Context:** `(!payment.paymentMethod ||`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\payment-approval\route.ts`
**Line:** 116
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\payment-approval\route.ts`
**Line:** 116
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\payment-approval\route.ts`
**Line:** 153
**Context:** `if (isDisablingInstitutionApproval || isAddingExemptions || isRestrictingMethods) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\payment-approval\route.ts`
**Line:** 176
**Context:** `(!payment.paymentMethod ||`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\run-all-maintenance-scripts\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.email) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\run-all-maintenance-scripts\route.ts`
**Line:** 19
**Context:** `if (!user || user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\run-all-maintenance-scripts\route.ts`
**Line:** 19
**Context:** `if (!user || user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\run-all-maintenance-scripts\route.ts`
**Line:** 171
**Context:** `results.combinedLogs.push(`Deleted orphaned enrollment ${enrollment.id} (Student: ${enrollment.student?.name || 'Unknown'}, Course: ${enrollment.course?.title || 'Unknown'})`);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\seed-categories\route.ts`
**Line:** 104
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\seed-categories\route.ts`
**Line:** 104
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\seed-categories\route.ts`
**Line:** 121
**Context:** `if (!existingCategory) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\seed-tags\route.ts`
**Line:** 80
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\seed-tags\route.ts`
**Line:** 80
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\seed-tags\route.ts`
**Line:** 97
**Context:** `if (!existingTag) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\subscription-plans\route.ts`
**Line:** 9
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\subscription-plans\route.ts`
**Line:** 9
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\subscription-plans\route.ts`
**Line:** 114
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\subscription-plans\route.ts`
**Line:** 114
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\subscription-plans\route.ts`
**Line:** 177
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\subscription-plans\route.ts`
**Line:** 177
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\subscription-plans\route.ts`
**Line:** 242
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\subscription-plans\route.ts`
**Line:** 242
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\subscription-plans\route.ts`
**Line:** 252
**Context:** `if (!id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\subscription-plans\[id]\route.ts`
**Line:** 12
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\subscription-plans\[id]\route.ts`
**Line:** 12
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\subscription-plans\[id]\route.ts`
**Line:** 81
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\settings\subscription-plans\[id]\route.ts`
**Line:** 81
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\stats\route.ts`
**Line:** 10
**Context:** `if (!session?.user) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\stats\route.ts`
**Line:** 29
**Context:** `prisma?.user.count() || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\stats\route.ts`
**Line:** 30
**Context:** `prisma?.course.count() || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\stats\route.ts`
**Line:** 31
**Context:** `prisma?.institution.count() || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\stats\route.ts`
**Line:** 32
**Context:** `prisma?.studentCourseEnrollment.count() || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\stats\route.ts`
**Line:** 33
**Context:** `prisma?.studentCourseCompletion.count() || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\stats\route.ts`
**Line:** 48
**Context:** `const totalRevenue = totalRevenueResult._sum.institutionAmount || 0;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\stats\route.ts`
**Line:** 91
**Context:** `}) || [];`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\stats\route.ts`
**Line:** 145
**Context:** `const paymentAmount = payment?.amount || 0;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\stats\route.ts`
**Line:** 146
**Context:** `const commissionRate = institution?.commissionRate || 10; // Default 10%`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\stats\route.ts`
**Line:** 152
**Context:** `course: course || { id: '', title: 'Unknown Course', institutionId: '' },`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\stats\route.ts`
**Line:** 153
**Context:** `institution: institution || { id: '', name: 'Unknown Institution', commissionRate: 10 },`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\stats\route.ts`
**Line:** 154
**Context:** `student: student || { id: '', name: 'Unknown Student', email: '' },`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\subscriptions\route.ts`
**Line:** 10
**Context:** `if (!session?.user) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\subscriptions\route.ts`
**Line:** 72
**Context:** `commissionRate: commissionTier?.commissionRate || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\subscriptions\route.ts`
**Line:** 73
**Context:** `revenueGenerated: revenueGenerated._sum.amount || 0,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\subscriptions\stats\route.ts`
**Line:** 10
**Context:** `if (!session?.user) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\subscriptions\stats\route.ts`
**Line:** 92
**Context:** `commissionRate: institution.subscription?.commissionTier?.commissionRate || 0`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\subscriptions\[id]\plan\route.ts`
**Line:** 13
**Context:** `if (!session?.user) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\subscriptions\[id]\plan\route.ts`
**Line:** 19
**Context:** `if (!planType || !['STARTER', 'PROFESSIONAL', 'ENTERPRISE'].includes(planType)) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\subscriptions\[id]\plan\route.ts`
**Line:** 23
**Context:** `if (!billingCycle || !['MONTHLY', 'ANNUAL'].includes(billingCycle)) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\subscriptions\[id]\route.ts`
**Line:** 13
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\subscriptions\[id]\route.ts`
**Line:** 22
**Context:** `if (!user || user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\subscriptions\[id]\route.ts`
**Line:** 22
**Context:** `if (!user || user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\subscriptions\[id]\route.ts`
**Line:** 40
**Context:** `if (!subscription) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\subscriptions\[id]\route.ts`
**Line:** 61
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\subscriptions\[id]\route.ts`
**Line:** 70
**Context:** `if (!user || user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\subscriptions\[id]\route.ts`
**Line:** 70
**Context:** `if (!user || user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\subscriptions\[id]\route.ts`
**Line:** 78
**Context:** `if (!planType || !status || !billingCycle || amount === undefined) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\subscriptions\[id]\route.ts`
**Line:** 78
**Context:** `if (!planType || !status || !billingCycle || amount === undefined) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\tags\route.ts`
**Line:** 9
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\tags\route.ts`
**Line:** 9
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\tags\route.ts`
**Line:** 18
**Context:** `if (!categoryId && !title) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\tags\route.ts`
**Line:** 75
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\tags\route.ts`
**Line:** 75
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\tags\route.ts`
**Line:** 82
**Context:** `if (!name) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\test-session\route.ts`
**Line:** 13
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\users\route.ts`
**Line:** 9
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\users\route.ts`
**Line:** 9
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\users\[userId]\route.ts`
**Line:** 14
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\users\[userId]\route.ts`
**Line:** 37
**Context:** `if (!user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\users\[userId]\route.ts`
**Line:** 75
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\users\[userId]\route.ts`
**Line:** 96
**Context:** `if (!name || !email || !role) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\users\[userId]\route.ts`
**Line:** 96
**Context:** `if (!name || !email || !role) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\users\[userId]\route.ts`
**Line:** 174
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\users\[userId]\route.ts`
**Line:** 174
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\users\[userId]\route.ts`
**Line:** 181
**Context:** `if (!role || !['ADMIN', 'INSTITUTION', 'STUDENT'].includes(role)) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\users\[userId]\status\route.ts`
**Line:** 15
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\users\[userId]\status\route.ts`
**Line:** 38
**Context:** `if (!user) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\admin\users\[userId]\status\route.ts`
**Line:** 47
**Context:** `if (!status || !['ACTIVE', 'SUSPENDED'].includes(status)) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\analytics\leads\route.ts`
**Line:** 20
**Context:** `id: body.id || crypto.randomUUID(),`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\analytics\leads\route.ts`
**Line:** 30
**Context:** `ip: request.headers.get('x-forwarded-for') || request.headers.get('x-real-ip'),`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\analytics\leads\route.ts`
**Line:** 52
**Context:** `if (!institutionId) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\analytics\leads\route.ts`
**Line:** 102
**Context:** `referrerCounts[domain] = (referrerCounts[domain] || 0) + 1;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\analytics\performance\route.ts`
**Line:** 25
**Context:** `ipAddress: request.headers.get('x-forwarded-for') || request.ip,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\analytics\performance\route.ts`
**Line:** 49
**Context:** `const limit = parseInt(searchParams.get('limit') || '50');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\analytics\performance\route.ts`
**Line:** 104
**Context:** `const totalTime = apiEvents.reduce((sum, event) => sum + (event.data?.responseTime || 0), 0);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\check-password-reset\route.ts`
**Line:** 11
**Context:** `if (!session?.user?.email) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\check-password-reset\route.ts`
**Line:** 30
**Context:** `if (!user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\check-password-reset\route.ts`
**Line:** 59
**Context:** `if (!session?.user?.email) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\check-password-reset\route.ts`
**Line:** 69
**Context:** `if (!newPassword) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\check-password-reset\route.ts`
**Line:** 81
**Context:** `if (!user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\check-password-reset\route.ts`
**Line:** 89
**Context:** `if (!user.forcePasswordReset) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\check-password-reset\route.ts`
**Line:** 119
**Context:** `ipAddress: request.headers.get('x-forwarded-for') || 'unknown',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\check-password-reset\route.ts`
**Line:** 120
**Context:** `userAgent: request.headers.get('user-agent') || 'unknown',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\check-session\route.ts`
**Line:** 15
**Context:** `user: session?.user || null,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\custom-signin\route.ts`
**Line:** 14
**Context:** `if (!email || !password) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\custom-signin\route.ts`
**Line:** 14
**Context:** `if (!email || !password) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\custom-signin\route.ts`
**Line:** 29
**Context:** `if (!user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\custom-signin\route.ts`
**Line:** 37
**Context:** `if (!isPasswordValid) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\custom-signin\route.ts`
**Line:** 53
**Context:** `institutionId: user.institution?.id || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\custom-signin\route.ts`
**Line:** 55
**Context:** `institutionApproved: user.institution?.isApproved || false,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\force-session\route.ts`
**Line:** 10
**Context:** `const cookies = request.headers.get('cookie') || '';`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\password-reset\route.ts`
**Line:** 14
**Context:** `if (!email) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\password-reset\route.ts`
**Line:** 26
**Context:** `if (!user) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\password-reset\route.ts`
**Line:** 78
**Context:** `await auditLogger.passwordReset(user.id, request.headers.get('x-forwarded-for') || 'unknown');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\password-reset\route.ts`
**Line:** 106
**Context:** `if (!token || !email || !newPassword) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\password-reset\route.ts`
**Line:** 106
**Context:** `if (!token || !email || !newPassword) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\password-reset\route.ts`
**Line:** 118
**Context:** `if (!user) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\password-reset\route.ts`
**Line:** 151
**Context:** `request.headers.get('x-forwarded-for') || 'unknown'`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\redirect-after-signin\route.ts`
**Line:** 13
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\register\institution\route.ts`
**Line:** 15
**Context:** `if (!name || !email || !password || !description || !country || !city || !address) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\register\institution\route.ts`
**Line:** 15
**Context:** `if (!name || !email || !password || !description || !country || !city || !address) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\register\route.ts`
**Line:** 16
**Context:** `if (!name || !email || !password || !role) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\register\route.ts`
**Line:** 16
**Context:** `if (!name || !email || !password || !role) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\register\route.ts`
**Line:** 153
**Context:** `if (!studentTier) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\register\route.ts`
**Line:** 292
**Context:** `subscriptionPlan: subscriptionPlan || 'none',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\user\route.ts`
**Line:** 12
**Context:** `if (!session?.user?.email) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\user\route.ts`
**Line:** 29
**Context:** `if (!user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\auth\validate-session\route.ts`
**Line:** 9
**Context:** `if (!session) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\bookings\route.ts`
**Line:** 17
**Context:** `if (!session) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\bookings\route.ts`
**Line:** 31
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\bookings\route.ts`
**Line:** 48
**Context:** `if (!institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\bookings\route.ts`
**Line:** 110
**Context:** `if (!session) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\bookings\update\route.ts`
**Line:** 15
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\bookings\update\route.ts`
**Line:** 22
**Context:** `if (!sessionId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\bookings\update\route.ts`
**Line:** 29
**Context:** `if (!stripeSession) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\bookings\update\route.ts`
**Line:** 47
**Context:** `if (!booking) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\categories\[id]\route.ts`
**Line:** 16
**Context:** `parentId: parentId || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\by-country\route.ts`
**Line:** 42
**Context:** `country: institutionMap.get(group.institutionId) || 'Unknown',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\public\route.ts`
**Line:** 72
**Context:** `priorityScore += (course.institution.commissionRate || 0) * 10;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\public\route.ts`
**Line:** 91
**Context:** `priorityScore += planBonus[subscriptionPlan as keyof typeof planBonus] || 0;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\public\route.ts`
**Line:** 102
**Context:** `const commissionRate = course.institution.commissionRate || 0;`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\route.ts`
**Line:** 15
**Context:** `if (!session) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\route.ts`
**Line:** 66
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\route.ts`
**Line:** 66
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\route.ts`
**Line:** 97
**Context:** `if (!institution) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\route.ts`
**Line:** 108
**Context:** `base_price: parseFloat(base_price || '0'),`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\route.ts`
**Line:** 114
**Context:** `maxStudents: parseInt(maxStudents || '15'),`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\route.ts`
**Line:** 116
**Context:** `pricingPeriod: pricingPeriod || 'WEEKLY',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\route.ts`
**Line:** 117
**Context:** `framework: framework || 'CEFR',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\route_new.ts`
**Line:** 15
**Context:** `if (!session) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\route_new.ts`
**Line:** 66
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\route_new.ts`
**Line:** 66
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\route_new.ts`
**Line:** 97
**Context:** `if (!institution) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\route_new.ts`
**Line:** 108
**Context:** `base_price: parseFloat(base_price || '0'),`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\route_new.ts`
**Line:** 114
**Context:** `maxStudents: parseInt(maxStudents || '15'),`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\route_new.ts`
**Line:** 116
**Context:** `pricingPeriod: pricingPeriod || 'WEEKLY',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\route_new.ts`
**Line:** 117
**Context:** `framework: framework || 'CEFR',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\search\route.ts`
**Line:** 10
**Context:** `const query = searchParams.get('query') || '';`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\search\route.ts`
**Line:** 13
**Context:** `const tagIds = searchParams.get('tagIds')?.split(',').filter(Boolean) || [];`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\search\route.ts`
**Line:** 19
**Context:** `const page = parseInt(searchParams.get('page') || '1');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\search\route.ts`
**Line:** 20
**Context:** `const limit = parseInt(searchParams.get('limit') || '10');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\search\route.ts`
**Line:** 68
**Context:** `if (minPrice || maxPrice) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\enroll\route.ts`
**Line:** 17
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\enroll\route.ts`
**Line:** 29
**Context:** `if (!course) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\enroll\route.ts`
**Line:** 40
**Context:** `const start = new Date(startDate || new Date().toISOString());`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\enroll\route.ts`
**Line:** 41
**Context:** `const end = new Date(endDate || course.endDate);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\enroll\route.ts`
**Line:** 93
**Context:** `startDate: new Date(startDate || new Date().toISOString()),`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\enroll\route.ts`
**Line:** 94
**Context:** `endDate: new Date(endDate || course.endDate),`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\enroll\route.ts`
**Line:** 197
**Context:** `error: error.message || 'Failed to enroll in course',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\enroll\route.ts`
**Line:** 200
**Context:** `{ status: error.message === 'Already enrolled' || error.message === 'Booking already exists' ? 400 : 500 }`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\monthly-pricing\route.ts`
**Line:** 12
**Context:** `if (!session) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\monthly-pricing\route.ts`
**Line:** 17
**Context:** `const year = parseInt(searchParams.get('year') || new Date().getFullYear().toString());`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\monthly-pricing\route.ts`
**Line:** 46
**Context:** `if (!session) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\pricing\route.ts`
**Line:** 12
**Context:** `if (!session) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\pricing\route.ts`
**Line:** 33
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\pricing\route.ts`
**Line:** 80
**Context:** `if (!session) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\pricing\route.ts`
**Line:** 86
**Context:** `const year = parseInt(searchParams.get('year') || new Date().getFullYear().toString());`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\pricing\route.ts`
**Line:** 96
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\pricing-rules\route.ts`
**Line:** 13
**Context:** `if (!session) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\pricing-rules\route.ts`
**Line:** 34
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\pricing-rules\route.ts`
**Line:** 72
**Context:** `if (!session) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\route.ts`
**Line:** 12
**Context:** `if (!courseId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\route.ts`
**Line:** 21
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\route.ts`
**Line:** 28
**Context:** `if (!session) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\route.ts`
**Line:** 73
**Context:** `if (!session) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\route.ts`
**Line:** 78
**Context:** `if (!courseId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\route.ts`
**Line:** 101
**Context:** `if (!title || !description || !categoryId || !institutionId) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\route.ts`
**Line:** 101
**Context:** `if (!title || !description || !categoryId || !institutionId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\route.ts`
**Line:** 183
**Context:** `if (!session) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\route.ts`
**Line:** 188
**Context:** `if (!courseId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\tags\route.ts`
**Line:** 15
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\tags\route.ts`
**Line:** 46
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\tags\route.ts`
**Line:** 52
**Context:** `if (!tagId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\tags\route.ts`
**Line:** 107
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\courses\[id]\tags\route.ts`
**Line:** 114
**Context:** `if (!tagId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\cron\trial-expiration\route.ts`
**Line:** 11
**Context:** `if (!expectedSecret || authHeader !== `Bearer ${expectedSecret}`) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\cron\trial-expiration\route.ts`
**Line:** 11
**Context:** `if (!expectedSecret || authHeader !== `Bearer ${expectedSecret}`) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\analytics\quiz\route.ts`
**Line:** 9
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\analytics\quiz\route.ts`
**Line:** 19
**Context:** `if (!user?.institution) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\analytics\quiz\route.ts`
**Line:** 24
**Context:** `const quizId = searchParams.get('quizId') || 'all';`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\analytics\quiz\route.ts`
**Line:** 25
**Context:** `const timeRange = searchParams.get('timeRange') || '30d';`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\analytics\quiz\route.ts`
**Line:** 97
**Context:** `? completedAttempts.reduce((sum, attempt) => sum + (attempt.time_spent || 0), 0) / completedAttempts.length / 60`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\analytics\quiz\route.ts`
**Line:** 116
**Context:** `? completed.reduce((sum, a) => sum + (a.time_spent || 0), 0) / completed.length / 60`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\analytics\quiz\route.ts`
**Line:** 155
**Context:** `? adaptiveAttempts.reduce((sum, a) => sum + (a.ability_estimate || 0), 0) / adaptiveAttempts.length`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\analytics\quiz\route.ts`
**Line:** 158
**Context:** `? adaptiveAttempts.reduce((sum, a) => sum + (a.confidence_level || 0), 0) / adaptiveAttempts.length`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\analytics\quiz\route.ts`
**Line:** 162
**Context:** `const reason = attempt.termination_reason || 'UNKNOWN';`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\analytics\quiz\route.ts`
**Line:** 163
**Context:** `acc[reason] = (acc[reason] || 0) + 1;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\analytics\quiz\route.ts`
**Line:** 186
**Context:** `? dayAttempts.reduce((sum, a) => sum + (a.percentage || 0), 0) / dayAttempts.length`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\analytics\stats\route.ts`
**Line:** 9
**Context:** `if (!session?.user || session.user.role !== 'INSTITUTION') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\analytics\stats\route.ts`
**Line:** 9
**Context:** `if (!session?.user || session.user.role !== 'INSTITUTION') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\analytics\stats\route.ts`
**Line:** 18
**Context:** `if (!institutionId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\analytics\stats\route.ts`
**Line:** 48
**Context:** `if (!institution) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\analytics\stats\route.ts`
**Line:** 63
**Context:** `return paymentSum + (payment.amount || 0);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\analytics\stats\route.ts`
**Line:** 77
**Context:** `priorityScore += planBonus[institution.subscriptionPlan as keyof typeof planBonus] || 0;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\analytics\stats\route.ts`
**Line:** 78
**Context:** `priorityScore += (institution.commissionRate || 0) * 5;`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\categories\route.ts`
**Line:** 25
**Context:** `if (!types || types.length === 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\categories\route.ts`
**Line:** 25
**Context:** `if (!types || types.length === 0) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\collaboration\stats\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\collaboration\stats\route.ts`
**Line:** 20
**Context:** `if (!user?.institution) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\collaboration\stats\route.ts`
**Line:** 148
**Context:** `averageRating: averageRating._avg.rating || 0,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\commission-rate\route.ts`
**Line:** 9
**Context:** `if (!session?.user) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\commission-rate\route.ts`
**Line:** 19
**Context:** `if (typeof newRate !== 'number' || newRate < 0 || newRate > 100) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\commission-rate\route.ts`
**Line:** 32
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\commission-rate\route.ts`
**Line:** 80
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\commission-rate\route.ts`
**Line:** 93
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\route.ts`
**Line:** 33
**Context:** `if (!session?.user?.institutionId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\route.ts`
**Line:** 140
**Context:** `if (!acc[module.course_id]) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\route.ts`
**Line:** 148
**Context:** `if (!acc[courseTag.courseId]) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\route.ts`
**Line:** 164
**Context:** `courseTags: courseTagsMap[course.id] || [],`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\route.ts`
**Line:** 166
**Context:** `bookings: bookingCountsMap[course.id] || 0`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\route.ts`
**Line:** 168
**Context:** `modules: modulesMap[course.id] || []`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\route.ts`
**Line:** 199
**Context:** `if (!session?.user?.institutionId) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\route.ts`
**Line:** 226
**Context:** `tags: body.tags || []`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\route.ts`
**Line:** 259
**Context:** `status: validatedData.status || 'DRAFT',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\route.ts`
**Line:** 328
**Context:** `if (!session?.user?.institutionId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\update-weekly-prices\route.ts`
**Line:** 9
**Context:** `if (!session?.user?.institutionId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\dates\route.ts`
**Line:** 12
**Context:** `if (!session?.user?.institutionId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\dates\route.ts`
**Line:** 20
**Context:** `if (!startDate || !endDate) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\dates\route.ts`
**Line:** 20
**Context:** `if (!startDate || !endDate) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\dates\route.ts`
**Line:** 30
**Context:** `if (isNaN(start.getTime()) || isNaN(end.getTime())) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\dates\route.ts`
**Line:** 52
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\dates\route.ts`
**Line:** 101
**Context:** `if (!revalidateResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\enrollments\route.ts`
**Line:** 12
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\enrollments\route.ts`
**Line:** 24
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\enrollments\route.ts`
**Line:** 94
**Context:** `if (!acc[payment.enrollmentId]) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\enrollments\route.ts`
**Line:** 104
**Context:** `const enrollmentPayments = paymentMap[enrollment.id] || [];`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\enrollments\route.ts`
**Line:** 116
**Context:** `firstName: student.name.split(' ')[0] || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\enrollments\route.ts`
**Line:** 117
**Context:** `lastName: student.name.split(' ').slice(1).join(' ') || ''`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\route.ts`
**Line:** 15
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\route.ts`
**Line:** 15
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\route.ts`
**Line:** 25
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\route.ts`
**Line:** 37
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\route.ts`
**Line:** 100
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\route.ts`
**Line:** 100
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\route.ts`
**Line:** 110
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\route.ts`
**Line:** 122
**Context:** `if (!course) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\route.ts`
**Line:** 135
**Context:** `const newOrder = order || (lastModule ? lastModule.order_index + 1 : 1);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\route.ts`
**Line:** 144
**Context:** `level: level || 'CEFR_A1',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\content\route.ts`
**Line:** 45
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\content\route.ts`
**Line:** 45
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\content\route.ts`
**Line:** 55
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\content\route.ts`
**Line:** 67
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\content\route.ts`
**Line:** 79
**Context:** `if (!module) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\content\route.ts`
**Line:** 91
**Context:** `if (!title || !type) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\content\route.ts`
**Line:** 91
**Context:** `if (!title || !type) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\content\route.ts`
**Line:** 168
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\content\route.ts`
**Line:** 168
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\content\route.ts`
**Line:** 178
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\content\route.ts`
**Line:** 190
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\content\route.ts`
**Line:** 202
**Context:** `if (!module) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\content\[contentId]\route.ts`
**Line:** 15
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\content\[contentId]\route.ts`
**Line:** 38
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\content\[contentId]\route.ts`
**Line:** 53
**Context:** `if (!content) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\content\[contentId]\route.ts`
**Line:** 71
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\content\[contentId]\route.ts`
**Line:** 89
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\content\[contentId]\route.ts`
**Line:** 97
**Context:** `if (!title || !type) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\content\[contentId]\route.ts`
**Line:** 97
**Context:** `if (!title || !type) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\content\[contentId]\route.ts`
**Line:** 109
**Context:** `content: url || '', // Save URL to content field`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\content\[contentId]\route.ts`
**Line:** 111
**Context:** `order_index: order_index || 0,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\content\[contentId]\route.ts`
**Line:** 130
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\content\[contentId]\route.ts`
**Line:** 148
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\route.ts`
**Line:** 15
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\route.ts`
**Line:** 15
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\route.ts`
**Line:** 25
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\route.ts`
**Line:** 37
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\route.ts`
**Line:** 49
**Context:** `if (!module) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\route.ts`
**Line:** 78
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\route.ts`
**Line:** 78
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\route.ts`
**Line:** 88
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\route.ts`
**Line:** 100
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\route.ts`
**Line:** 112
**Context:** `if (!module) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\route.ts`
**Line:** 119
**Context:** `if (!type || !question || !answer) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\route.ts`
**Line:** 119
**Context:** `if (!type || !question || !answer) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\route.ts`
**Line:** 129
**Context:** `const newOrder = order_index || (lastExercise ? lastExercise.order_index + 1 : 1);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\route.ts`
**Line:** 138
**Context:** `options: options || null,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\[exerciseId]\route.ts`
**Line:** 14
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\[exerciseId]\route.ts`
**Line:** 14
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\[exerciseId]\route.ts`
**Line:** 24
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\[exerciseId]\route.ts`
**Line:** 36
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\[exerciseId]\route.ts`
**Line:** 48
**Context:** `if (!module) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\[exerciseId]\route.ts`
**Line:** 60
**Context:** `if (!exercise) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\[exerciseId]\route.ts`
**Line:** 79
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\[exerciseId]\route.ts`
**Line:** 79
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\[exerciseId]\route.ts`
**Line:** 89
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\[exerciseId]\route.ts`
**Line:** 101
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\[exerciseId]\route.ts`
**Line:** 113
**Context:** `if (!module) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\[exerciseId]\route.ts`
**Line:** 125
**Context:** `if (!existingExercise) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\[exerciseId]\route.ts`
**Line:** 132
**Context:** `if (!type || !question || !answer) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\[exerciseId]\route.ts`
**Line:** 132
**Context:** `if (!type || !question || !answer) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\[exerciseId]\route.ts`
**Line:** 144
**Context:** `options: options || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\[exerciseId]\route.ts`
**Line:** 146
**Context:** `order_index: order_index || existingExercise.order_index,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\[exerciseId]\route.ts`
**Line:** 166
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\[exerciseId]\route.ts`
**Line:** 166
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\[exerciseId]\route.ts`
**Line:** 176
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\[exerciseId]\route.ts`
**Line:** 188
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\[exerciseId]\route.ts`
**Line:** 200
**Context:** `if (!module) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\exercises\[exerciseId]\route.ts`
**Line:** 212
**Context:** `if (!existingExercise) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 14
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 14
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 24
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 36
**Context:** `if (!course) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 69
**Context:** `if (!questionText || questionText.trim().length === 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 73
**Context:** `if (points && (points < 1 || points > 100)) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 84
**Context:** `if (!question.options || !Array.isArray(question.options) || question.options.length < 2) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 87
**Context:** `if (!question.correct_answer || question.correct_answer.trim().length === 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 93
**Context:** `if (!question.correct_answer || !['true', 'false', 'TRUE', 'FALSE'].includes(question.correct_answer)) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 99
**Context:** `if (!question.correct_answer || question.correct_answer.trim().length === 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 105
**Context:** `if (!question.options || !Array.isArray(question.options) || question.options.length < 2) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 108
**Context:** `if (!question.correct_answer || question.correct_answer.trim().length === 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 119
**Context:** `if (!question.options || !Array.isArray(question.options) || question.options.length < 2) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 122
**Context:** `if (!question.correct_answer || question.correct_answer.trim().length === 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 128
**Context:** `if (!question.options || !Array.isArray(question.options) || question.options.length === 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 131
**Context:** `if (!question.correct_answer || question.correct_answer.trim().length === 0) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 149
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 149
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 155
**Context:** `if (!canCreateQuizzes) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 165
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 177
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 189
**Context:** `if (!module) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 215
**Context:** `if (!title || title.trim().length === 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 219
**Context:** `if (!Array.isArray(questions) || questions.length === 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 223
**Context:** `if (passing_score && (passing_score < 0 || passing_score > 100)) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 231
**Context:** `if (max_attempts && (max_attempts < 1 || max_attempts > 10)) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 248
**Context:** `if (!validation.isValid) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 260
**Context:** `description: description?.trim() || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 261
**Context:** `passing_score: passing_score || 70,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 262
**Context:** `time_limit: time_limit || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 263
**Context:** `mediaUrl: mediaUrl || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 267
**Context:** `category: category?.trim() || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 269
**Context:** `instructions: instructions?.trim() || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 290
**Context:** `correct_answer: q.correct_answer?.trim() || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 291
**Context:** `points: q.points || 1,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 294
**Context:** `difficulty: q.difficulty || 'MEDIUM',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 295
**Context:** `category: q.category?.trim() || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 297
**Context:** `explanation: q.explanation?.trim() || null,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 322
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 322
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 328
**Context:** `if (!canEditQuizzes) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 338
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 350
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 362
**Context:** `if (!module) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 389
**Context:** `if (!quizId) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 393
**Context:** `if (!title || title.trim().length === 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 397
**Context:** `if (!Array.isArray(questions) || questions.length === 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 401
**Context:** `if (passing_score && (passing_score < 0 || passing_score > 100)) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 409
**Context:** `if (max_attempts && (max_attempts < 1 || max_attempts > 10)) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 426
**Context:** `if (!validation.isValid) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 439
**Context:** `if (!existingQuiz) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 450
**Context:** `description: description?.trim() || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 451
**Context:** `passing_score: passing_score || 70,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 452
**Context:** `time_limit: time_limit || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 453
**Context:** `mediaUrl: mediaUrl || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 457
**Context:** `category: category?.trim() || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 459
**Context:** `instructions: instructions?.trim() || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 484
**Context:** `correct_answer: q.correct_answer?.trim() || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 485
**Context:** `points: q.points || 1,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 488
**Context:** `difficulty: q.difficulty || 'MEDIUM',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 489
**Context:** `category: q.category?.trim() || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 491
**Context:** `explanation: q.explanation?.trim() || null,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 516
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 516
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 522
**Context:** `if (!canDeleteQuizzes) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 532
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 544
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 556
**Context:** `if (!module) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 563
**Context:** `if (!quizId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\route.ts`
**Line:** 575
**Context:** `if (!existingQuiz) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 15
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 15
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 26
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 38
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 50
**Context:** `if (!module) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 84
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 84
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 94
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 106
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 118
**Context:** `if (!module) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 130
**Context:** `if (!quiz) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 157
**Context:** `if (!question || question.trim().length === 0) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 161
**Context:** `if (!type) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 186
**Context:** `if (normalizedType === 'MULTIPLE_CHOICE' && (!options || !Array.isArray(options) || options.length < 2)) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 190
**Context:** `if (normalizedType === 'MATCHING' && (!question_config?.leftItems || !question_config?.rightItems)) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 194
**Context:** `if (normalizedType === 'DRAG_AND_DROP' && (!question_config?.dragItems || !question_config?.dropZones)) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 202
**Context:** `if (normalizedType === 'ORDERING' && (!question_config?.orderItems || question_config.orderItems.length < 2)) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 206
**Context:** `if (points && (points < 1 || points > 100)) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 215
**Context:** `if (!use_manual_irt || !irt_difficulty || !irt_discrimination || !irt_guessing) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 215
**Context:** `if (!use_manual_irt || !irt_difficulty || !irt_discrimination || !irt_guessing) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 294
**Context:** `points: points || 1,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 297
**Context:** `difficulty: difficulty || 'MEDIUM',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 302
**Context:** `order_index: order_index || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 317
**Context:** `option_type: option.option_type || 'TEXT',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 320
**Context:** `order_index: option.order_index || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 321
**Context:** `is_correct: option.is_correct || false,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\route.ts`
**Line:** 322
**Context:** `points: option.points || 0,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 12
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 12
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 22
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 34
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 46
**Context:** `if (!module) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 58
**Context:** `if (!quiz) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 70
**Context:** `if (!question) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 87
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 87
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 97
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 109
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 121
**Context:** `if (!module) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 133
**Context:** `if (!quiz) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 145
**Context:** `if (!existingQuestion) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 171
**Context:** `if (!questionText || questionText.trim().length === 0) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 175
**Context:** `if (!type) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 200
**Context:** `if (normalizedType === 'MULTIPLE_CHOICE' && (!options || !Array.isArray(options) || options.length < 2)) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 204
**Context:** `if (normalizedType === 'MATCHING' && (!question_config?.leftItems || !question_config?.rightItems)) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 208
**Context:** `if (normalizedType === 'DRAG_AND_DROP' && (!question_config?.dragItems || !question_config?.dropZones)) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 216
**Context:** `if (normalizedType === 'ORDERING' && (!question_config?.orderItems || question_config.orderItems.length < 2)) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 220
**Context:** `if (points && (points < 1 || points > 100)) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 229
**Context:** `if (!use_manual_irt || !irt_difficulty || !irt_discrimination || !irt_guessing) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 229
**Context:** `if (!use_manual_irt || !irt_difficulty || !irt_discrimination || !irt_guessing) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 307
**Context:** `correct_answer: correct_answer?.trim() || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 308
**Context:** `points: points || 1,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 309
**Context:** `explanation: explanation?.trim() || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 310
**Context:** `difficulty: difficulty || 'MEDIUM',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 311
**Context:** `category: category || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 312
**Context:** `hints: hints || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 314
**Context:** `media_url: media_url || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 315
**Context:** `media_type: media_type || null,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 337
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 337
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 347
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 359
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 371
**Context:** `if (!module) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 383
**Context:** `if (!quiz) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\route.ts`
**Line:** 395
**Context:** `if (!question) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\route.ts`
**Line:** 12
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\route.ts`
**Line:** 12
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\route.ts`
**Line:** 22
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\route.ts`
**Line:** 34
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\route.ts`
**Line:** 46
**Context:** `if (!module) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\route.ts`
**Line:** 65
**Context:** `if (!quiz) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\route.ts`
**Line:** 112
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\route.ts`
**Line:** 112
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\route.ts`
**Line:** 122
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\route.ts`
**Line:** 134
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\route.ts`
**Line:** 146
**Context:** `if (!module) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\route.ts`
**Line:** 158
**Context:** `if (!existingQuiz) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 14
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 14
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 24
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 36
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 48
**Context:** `if (!module) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 128
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 128
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 138
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 150
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 162
**Context:** `if (!existingModule) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 169
**Context:** `if (!data.title) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 179
**Context:** `description: data.description || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 181
**Context:** `estimated_duration: data.estimated_duration || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 182
**Context:** `vocabulary_list: data.vocabulary_list || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 183
**Context:** `grammar_points: data.grammar_points || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 184
**Context:** `cultural_notes: data.cultural_notes || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 185
**Context:** `is_published: data.is_published || false,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 219
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 219
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 229
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 241
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\monthly-prices\route.ts`
**Line:** 13
**Context:** `if (!session?.user?.institutionId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\monthly-prices\route.ts`
**Line:** 28
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\monthly-prices\route.ts`
**Line:** 92
**Context:** `if (!session?.user) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\monthly-prices\route.ts`
**Line:** 97
**Context:** `const year = parseInt(searchParams.get('year') || new Date().getFullYear().toString());`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\monthly-prices\route.ts`
**Line:** 111
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\route.ts`
**Line:** 36
**Context:** `if (!session?.user?.institutionId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\route.ts`
**Line:** 53
**Context:** `if (!course) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\route.ts`
**Line:** 117
**Context:** `tag: tag || null`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\route.ts`
**Line:** 142
**Context:** `if (!session?.user?.institutionId) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\route.ts`
**Line:** 173
**Context:** `tags: tags || []`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\route.ts`
**Line:** 185
**Context:** `if (!existingCourse) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\route.ts`
**Line:** 283
**Context:** `if (!session?.user?.institutionId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\route.ts`
**Line:** 295
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\weekly-prices\route.ts`
**Line:** 13
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\weekly-prices\route.ts`
**Line:** 30
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\weekly-prices\route.ts`
**Line:** 94
**Context:** `if (!session?.user) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\weekly-prices\route.ts`
**Line:** 99
**Context:** `const year = parseInt(searchParams.get('year') || new Date().getFullYear().toString());`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\courses\[id]\weekly-prices\route.ts`
**Line:** 113
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\current\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.email) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\current\route.ts`
**Line:** 24
**Context:** `if (!institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\enrollments\[id]\dates\route.ts`
**Line:** 12
**Context:** `if (!session?.user?.institutionId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\enrollments\[id]\dates\route.ts`
**Line:** 20
**Context:** `if (!startDate || !endDate) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\enrollments\[id]\dates\route.ts`
**Line:** 20
**Context:** `if (!startDate || !endDate) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\enrollments\[id]\dates\route.ts`
**Line:** 30
**Context:** `if (isNaN(start.getTime()) || isNaN(end.getTime())) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\enrollments\[id]\dates\route.ts`
**Line:** 57
**Context:** `if (!enrollment) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\enrollments\[id]\invoice\route.ts`
**Line:** 16
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\enrollments\[id]\invoice\route.ts`
**Line:** 45
**Context:** `if (!enrollment) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\enrollments\[id]\invoice\route.ts`
**Line:** 96
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\enrollments\[id]\invoice\route.ts`
**Line:** 125
**Context:** `if (!enrollment) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\enrollments\[id]\mark-paid\route.ts`
**Line:** 14
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\enrollments\[id]\mark-paid\route.ts`
**Line:** 25
**Context:** `if (!institutionAdmin) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\enrollments\[id]\mark-paid\route.ts`
**Line:** 43
**Context:** `if (!enrollment) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\enrollments\[id]\reminder\route.ts`
**Line:** 16
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\enrollments\[id]\reminder\route.ts`
**Line:** 50
**Context:** `if (!enrollment) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\info\route.ts`
**Line:** 9
**Context:** `if (!session?.user?.institutionId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\info\route.ts`
**Line:** 38
**Context:** `if (!institution) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\info\route.ts`
**Line:** 42
**Context:** `const logoUrl = institution.logoUrl || institution.logo;`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\payments\route.ts`
**Line:** 10
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\payments\route.ts`
**Line:** 25
**Context:** `if (!institutionUser) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\payments\route.ts`
**Line:** 99
**Context:** `if (!enrollment) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\payments\route.ts`
**Line:** 105
**Context:** `if (!student) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\payments\route.ts`
**Line:** 134
**Context:** `bookingId: bookingId || null,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\payments\[paymentId]\approve\route.ts`
**Line:** 14
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\payments\[paymentId]\approve\route.ts`
**Line:** 29
**Context:** `if (!institutionUser) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\payments\[paymentId]\approve\route.ts`
**Line:** 55
**Context:** `if (!payment) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\payments\[paymentId]\approve\route.ts`
**Line:** 68
**Context:** `if (!canApprove) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\payments\[paymentId]\reject\route.ts`
**Line:** 13
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\payments\[paymentId]\reject\route.ts`
**Line:** 28
**Context:** `if (!institutionUser) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\payments\[paymentId]\reject\route.ts`
**Line:** 43
**Context:** `if (!payment) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\payouts\route.ts`
**Line:** 9
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\payouts\route.ts`
**Line:** 19
**Context:** `if (!institutionAdmin) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\payouts\route.ts`
**Line:** 58
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\payouts\route.ts`
**Line:** 68
**Context:** `if (!institutionAdmin) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\payouts\route.ts`
**Line:** 74
**Context:** `if (!payoutId || !status) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\payouts\route.ts`
**Line:** 74
**Context:** `if (!payoutId || !status) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\payouts\route.ts`
**Line:** 88
**Context:** `if (!payout) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\profile\facilities\route.ts`
**Line:** 16
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\profile\facilities\route.ts`
**Line:** 34
**Context:** `if (!user?.institutionId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\profile\facilities\route.ts`
**Line:** 46
**Context:** `if (!files || files.length === 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\profile\facilities\route.ts`
**Line:** 46
**Context:** `if (!files || files.length === 0) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\profile\facilities\route.ts`
**Line:** 155
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\profile\facilities\route.ts`
**Line:** 169
**Context:** `if (!user?.institutionId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\profile\facilities\route.ts`
**Line:** 176
**Context:** `if (!imageUrl) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\profile\facilities\route.ts`
**Line:** 186
**Context:** `if (!institution?.facilities) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\profile\main-image\route.ts`
**Line:** 35
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\profile\main-image\route.ts`
**Line:** 35
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\profile\main-image\route.ts`
**Line:** 41
**Context:** `if (!institutionId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\profile\main-image\route.ts`
**Line:** 48
**Context:** `if (!mainImageFile) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\profile\route.ts`
**Line:** 15
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\profile\route.ts`
**Line:** 29
**Context:** `if (!user?.institutionId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\profile\route.ts`
**Line:** 64
**Context:** `if (!institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\profile\route.ts`
**Line:** 107
**Context:** `if (!session?.user?.email) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\profile\route.ts`
**Line:** 115
**Context:** `if (!user) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\profile\route.ts`
**Line:** 126
**Context:** `const contentType = request.headers.get('content-type') || '';`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\profile\route.ts`
**Line:** 165
**Context:** `if (!institutionId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\profile\route.ts`
**Line:** 174
**Context:** `if (!institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\bulk-delete\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\bulk-delete\route.ts`
**Line:** 20
**Context:** `if (!user?.institution) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\bulk-delete\route.ts`
**Line:** 27
**Context:** `if (!bankIds || !Array.isArray(bankIds) || bankIds.length === 0) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\bulk-export\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\bulk-export\route.ts`
**Line:** 20
**Context:** `if (!user?.institution) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\bulk-export\route.ts`
**Line:** 27
**Context:** `if (!bankIds || !Array.isArray(bankIds) || bankIds.length === 0) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\bulk-update\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\bulk-update\route.ts`
**Line:** 20
**Context:** `if (!user?.institution) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\bulk-update\route.ts`
**Line:** 27
**Context:** `if (!bankIds || !Array.isArray(bankIds) || bankIds.length === 0) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\bulk-update\route.ts`
**Line:** 31
**Context:** `if (!updates || typeof updates !== 'object') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\bulk-update\route.ts`
**Line:** 31
**Context:** `if (!updates || typeof updates !== 'object') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\import\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\import\route.ts`
**Line:** 20
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\import\route.ts`
**Line:** 27
**Context:** `if (!file) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\import\route.ts`
**Line:** 45
**Context:** `if (!importData.name || !importData.questions || !Array.isArray(importData.questions)) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\import\route.ts`
**Line:** 53
**Context:** `description: importData.description || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\import\route.ts`
**Line:** 54
**Context:** `category: importData.category || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\import\route.ts`
**Line:** 55
**Context:** `tags: importData.tags || [],`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\import\route.ts`
**Line:** 56
**Context:** `is_public: importData.is_public || false,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\import\route.ts`
**Line:** 69
**Context:** `options: questionData.options || [],`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\import\route.ts`
**Line:** 71
**Context:** `explanation: questionData.explanation || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\import\route.ts`
**Line:** 72
**Context:** `difficulty: questionData.difficulty || 'MEDIUM',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\import\route.ts`
**Line:** 73
**Context:** `category: questionData.category || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\import\route.ts`
**Line:** 74
**Context:** `tags: questionData.tags || [],`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\import\route.ts`
**Line:** 75
**Context:** `points: questionData.points || 1,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\route.ts`
**Line:** 20
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\route.ts`
**Line:** 79
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\route.ts`
**Line:** 89
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\route.ts`
**Line:** 96
**Context:** `if (!name) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\route.ts`
**Line:** 105
**Context:** `tags: tags || [],`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\route.ts`
**Line:** 106
**Context:** `is_public: is_public || false,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\copy\route.ts`
**Line:** 13
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\copy\route.ts`
**Line:** 23
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\copy\route.ts`
**Line:** 53
**Context:** `if (!questionBank) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\export\route.ts`
**Line:** 12
**Context:** `if (!session?.user?.id) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\export\route.ts`
**Line:** 17
**Context:** `const format = searchParams.get('format') || 'json';`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\export\route.ts`
**Line:** 46
**Context:** `if (!questionBank) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\export\route.ts`
**Line:** 96
**Context:** ``"${Array.isArray(q.options) ? q.options.join('|') : q.options || ''}"`,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\export\route.ts`
**Line:** 97
**Context:** ``"${q.correct_answer || ''}"`,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\export\route.ts`
**Line:** 98
**Context:** ``"${q.explanation || ''}"`,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\import\route.ts`
**Line:** 12
**Context:** `if (!session?.user?.id) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\import\route.ts`
**Line:** 18
**Context:** `const format = formData.get('format') as string || 'json';`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\import\route.ts`
**Line:** 20
**Context:** `if (!file) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\import\route.ts`
**Line:** 44
**Context:** `if (!questionBank) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\import\route.ts`
**Line:** 55
**Context:** `questions = jsonData.questions || jsonData || [];`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\import\route.ts`
**Line:** 70
**Context:** `const value = values[index] || '';`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\import\route.ts`
**Line:** 91
**Context:** `question.points = parseInt(value) || 1;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\import\route.ts`
**Line:** 114
**Context:** `if (!Array.isArray(questions) || questions.length === 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\import\route.ts`
**Line:** 125
**Context:** `correct_answer: q.correct_answer || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\import\route.ts`
**Line:** 126
**Context:** `explanation: q.explanation || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\import\route.ts`
**Line:** 127
**Context:** `difficulty_level: q.difficulty_level || 'MEDIUM',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\import\route.ts`
**Line:** 128
**Context:** `points: parseInt(q.points) || 1,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\bulk\route.ts`
**Line:** 12
**Context:** `if (!session?.user?.id) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\bulk\route.ts`
**Line:** 18
**Context:** `if (!Array.isArray(questionIds) || questionIds.length === 0) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\bulk\route.ts`
**Line:** 42
**Context:** `if (!questionBank) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\bulk\route.ts`
**Line:** 73
**Context:** `if (!session?.user?.id) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\bulk\route.ts`
**Line:** 79
**Context:** `if (!Array.isArray(questionIds) || questionIds.length === 0) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\bulk\route.ts`
**Line:** 83
**Context:** `if (!updates || typeof updates !== 'object') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\bulk\route.ts`
**Line:** 83
**Context:** `if (!updates || typeof updates !== 'object') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\bulk\route.ts`
**Line:** 107
**Context:** `if (!questionBank) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\bulk-delete\route.ts`
**Line:** 13
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\bulk-delete\route.ts`
**Line:** 23
**Context:** `if (!user?.institution) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\bulk-delete\route.ts`
**Line:** 31
**Context:** `if (!questionIds || !Array.isArray(questionIds) || questionIds.length === 0) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\bulk-delete\route.ts`
**Line:** 53
**Context:** `if (!questionBank) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\route.ts`
**Line:** 13
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\route.ts`
**Line:** 23
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\route.ts`
**Line:** 48
**Context:** `if (!questionBank) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\route.ts`
**Line:** 85
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\route.ts`
**Line:** 95
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\route.ts`
**Line:** 119
**Context:** `if (!questionBank) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\route.ts`
**Line:** 136
**Context:** `if (!question_text || !question_type) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\route.ts`
**Line:** 136
**Context:** `if (!question_text || !question_type) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\route.ts`
**Line:** 144
**Context:** `options: options || [],`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\route.ts`
**Line:** 147
**Context:** `difficulty: difficulty || 'MEDIUM',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\route.ts`
**Line:** 149
**Context:** `tags: tags || [],`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\route.ts`
**Line:** 150
**Context:** `points: points || 1,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\share\route.ts`
**Line:** 13
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\share\route.ts`
**Line:** 23
**Context:** `if (!user?.institution) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\share\route.ts`
**Line:** 39
**Context:** `if (!questionIds || !Array.isArray(questionIds) || questionIds.length === 0) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\share\route.ts`
**Line:** 43
**Context:** `if (!sharingLevel) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\share\route.ts`
**Line:** 65
**Context:** `if (!questionBank) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\share\route.ts`
**Line:** 106
**Context:** `allowCopy: allowCopy || false,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\share\route.ts`
**Line:** 107
**Context:** `allowModify: allowModify || false`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\share\route.ts`
**Line:** 109
**Context:** `shared_message: message || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\share\route.ts`
**Line:** 121
**Context:** `message: message || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\share\route.ts`
**Line:** 122
**Context:** `allow_copy: allowCopy || false,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\share\route.ts`
**Line:** 123
**Context:** `allow_modify: allowModify || false,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\[questionId]\route.ts`
**Line:** 13
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\[questionId]\route.ts`
**Line:** 23
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\[questionId]\route.ts`
**Line:** 49
**Context:** `if (!questionBank) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\[questionId]\route.ts`
**Line:** 60
**Context:** `if (!question) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\[questionId]\route.ts`
**Line:** 78
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\[questionId]\route.ts`
**Line:** 88
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\[questionId]\route.ts`
**Line:** 113
**Context:** `if (!questionBank) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\[questionId]\route.ts`
**Line:** 126
**Context:** `if (!existingQuestion) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\[questionId]\route.ts`
**Line:** 143
**Context:** `if (!question_text || !question_type) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\[questionId]\route.ts`
**Line:** 143
**Context:** `if (!question_text || !question_type) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\[questionId]\route.ts`
**Line:** 152
**Context:** `options: options || [],`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\[questionId]\route.ts`
**Line:** 155
**Context:** `difficulty: difficulty || 'MEDIUM',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\[questionId]\route.ts`
**Line:** 157
**Context:** `tags: tags || [],`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\[questionId]\route.ts`
**Line:** 158
**Context:** `points: points || 1`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\[questionId]\route.ts`
**Line:** 176
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\[questionId]\route.ts`
**Line:** 186
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\[questionId]\route.ts`
**Line:** 211
**Context:** `if (!questionBank) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\questions\[questionId]\route.ts`
**Line:** 224
**Context:** `if (!existingQuestion) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\route.ts`
**Line:** 13
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\route.ts`
**Line:** 27
**Context:** `if (!questionBank) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\route.ts`
**Line:** 50
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\route.ts`
**Line:** 61
**Context:** `if (!questionBank) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\route.ts`
**Line:** 68
**Context:** `if (!name) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\route.ts`
**Line:** 78
**Context:** `tags: tags || [],`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\route.ts`
**Line:** 79
**Context:** `is_public: is_public || false,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\route.ts`
**Line:** 103
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-banks\[id]\route.ts`
**Line:** 114
**Context:** `if (!questionBank) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-templates\route.ts`
**Line:** 9
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-templates\route.ts`
**Line:** 19
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-templates\route.ts`
**Line:** 47
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-templates\route.ts`
**Line:** 54
**Context:** `if (!name || !description || !question_type || !template_data) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-templates\route.ts`
**Line:** 54
**Context:** `if (!name || !description || !question_type || !template_data) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-templates\route.ts`
**Line:** 64
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-templates\[id]\copy\route.ts`
**Line:** 12
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-templates\[id]\copy\route.ts`
**Line:** 19
**Context:** `if (!questionBankId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-templates\[id]\copy\route.ts`
**Line:** 29
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-templates\[id]\copy\route.ts`
**Line:** 44
**Context:** `if (!template) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-templates\[id]\copy\route.ts`
**Line:** 56
**Context:** `if (!questionBank) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-templates\[id]\route.ts`
**Line:** 12
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-templates\[id]\route.ts`
**Line:** 22
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-templates\[id]\route.ts`
**Line:** 37
**Context:** `if (!template) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-templates\[id]\route.ts`
**Line:** 55
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-templates\[id]\route.ts`
**Line:** 70
**Context:** `if (!template) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-templates\[id]\route.ts`
**Line:** 99
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\question-templates\[id]\route.ts`
**Line:** 111
**Context:** `if (!template) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\questions\[id]\copy\route.ts`
**Line:** 13
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\questions\[id]\copy\route.ts`
**Line:** 23
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\questions\[id]\copy\route.ts`
**Line:** 52
**Context:** `if (!question) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\questions\[id]\copy\route.ts`
**Line:** 69
**Context:** `if (!userQuestionBank) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\questions\[id]\copy-to-course\route.ts`
**Line:** 13
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\questions\[id]\copy-to-course\route.ts`
**Line:** 23
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\questions\[id]\copy-to-course\route.ts`
**Line:** 31
**Context:** `if (!courseId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\questions\[id]\copy-to-course\route.ts`
**Line:** 59
**Context:** `if (!question) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\questions\[id]\copy-to-course\route.ts`
**Line:** 76
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\questions\[id]\copy-to-course\route.ts`
**Line:** 103
**Context:** `if (!courseQuestionBank) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\questions\[id]\rate\route.ts`
**Line:** 13
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\questions\[id]\rate\route.ts`
**Line:** 21
**Context:** `if (!rating || rating < 1 || rating > 5) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\questions\[id]\rate\route.ts`
**Line:** 21
**Context:** `if (!rating || rating < 1 || rating > 5) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\questions\[id]\rate\route.ts`
**Line:** 45
**Context:** `if (!question) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\quizzes\route.ts`
**Line:** 10
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\quizzes\route.ts`
**Line:** 18
**Context:** `if (!session.user.institutionId) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\quizzes\route.ts`
**Line:** 79
**Context:** `acc[q.quiz_type] = (acc[q.quiz_type] || 0) + 1;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\quizzes\route.ts`
**Line:** 83
**Context:** `const most_popular_type_key = Object.keys(most_popular_type).reduce((a, b) => (most_popular_type[a] > most_popular_type[b] ? a : b), Object.keys(most_popular_type)[0] || '');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\quizzes\route.ts`
**Line:** 84
**Context:** `const recent_activity = quizzes.reduce((sum, q) => sum + (q.total_attempts || 0), 0);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\quizzes\route.ts`
**Line:** 86
**Context:** `? Math.round((quizzes.reduce((sum, q) => sum + (q.total_completions || 0), 0) / quizzes.length) * 100)`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\quizzes\route.ts`
**Line:** 93
**Context:** `most_popular_type: most_popular_type_key || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\quizzes\route.ts`
**Line:** 124
**Context:** `id: module?.id || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\quizzes\route.ts`
**Line:** 125
**Context:** `title: module?.title || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\quizzes\route.ts`
**Line:** 127
**Context:** `id: course?.id || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\quizzes\route.ts`
**Line:** 128
**Context:** `title: course?.title || '',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\settings\discount\route.ts`
**Line:** 10
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\settings\discount\route.ts`
**Line:** 17
**Context:** `if (!session.user.role || session.user.role !== 'INSTITUTION') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\settings\discount\route.ts`
**Line:** 17
**Context:** `if (!session.user.role || session.user.role !== 'INSTITUTION') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\settings\discount\route.ts`
**Line:** 29
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\settings\discount\route.ts`
**Line:** 46
**Context:** `if (!institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\settings\discount\route.ts`
**Line:** 67
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\settings\discount\route.ts`
**Line:** 74
**Context:** `if (!session.user.role || session.user.role !== 'INSTITUTION') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\settings\discount\route.ts`
**Line:** 74
**Context:** `if (!session.user.role || session.user.role !== 'INSTITUTION') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\settings\discount\route.ts`
**Line:** 92
**Context:** `if (typeof startingRate !== 'number' || startingRate < 0 || startingRate > 100) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\settings\discount\route.ts`
**Line:** 99
**Context:** `if (typeof incrementRate !== 'number' || incrementRate < 0 || incrementRate > 100) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\settings\discount\route.ts`
**Line:** 106
**Context:** `if (typeof incrementPeriodWeeks !== 'number' || incrementPeriodWeeks < 1) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\settings\discount\route.ts`
**Line:** 113
**Context:** `if (typeof maxDiscountCap !== 'number' || maxDiscountCap < 0 || maxDiscountCap > 100) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\settings\discount\route.ts`
**Line:** 125
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\settings\payment-approval\route.ts`
**Line:** 11
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\settings\payment-approval\route.ts`
**Line:** 29
**Context:** `if (!institutionUser || !institutionUser.institutionId) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\settings\payment-approval\route.ts`
**Line:** 29
**Context:** `if (!institutionUser || !institutionUser.institutionId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\settings\payment-approval\route.ts`
**Line:** 41
**Context:** `if (!adminSettings) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\settings\route.ts`
**Line:** 9
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\settings\route.ts`
**Line:** 21
**Context:** `if (!institutionId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\settings\route.ts`
**Line:** 51
**Context:** `if (!institution) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\settings\route.ts`
**Line:** 60
**Context:** `effectiveCommissionRate = institution.subscription.commissionTier.commissionRate || institution.commissionRate;`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\settings\route.ts`
**Line:** 76
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\settings\route.ts`
**Line:** 83
**Context:** `if (!institutionId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\setup\route.ts`
**Line:** 10
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\setup\route.ts`
**Line:** 10
**Context:** `if (!session || session.user.role !== 'INSTITUTION') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\setup\route.ts`
**Line:** 31
**Context:** `if (!name || !email || !description || !country || !city || !address) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\setup\route.ts`
**Line:** 31
**Context:** `if (!name || !email || !description || !country || !city || !address) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\setup\route.ts`
**Line:** 44
**Context:** `if (!user || !user.institution) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\setup\route.ts`
**Line:** 44
**Context:** `if (!user || !user.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\shared-questions\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\shared-questions\route.ts`
**Line:** 20
**Context:** `if (!user?.institution) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\shared-questions\route.ts`
**Line:** 123
**Context:** `shared_by: course?.institution?.name || 'Unknown Institution',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\shared-questions\route.ts`
**Line:** 126
**Context:** `id: quiz?.id || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\shared-questions\route.ts`
**Line:** 127
**Context:** `name: quiz?.title || 'Quiz Question',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\shared-questions\route.ts`
**Line:** 128
**Context:** `description: quiz?.description || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\shared-questions\route.ts`
**Line:** 129
**Context:** `category: question.category || ''`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\shared-questions\route.ts`
**Line:** 132
**Context:** `id: course?.institution?.id || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\shared-questions\route.ts`
**Line:** 133
**Context:** `name: course?.institution?.name || 'Unknown',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\shared-questions\route.ts`
**Line:** 137
**Context:** `id: course?.institution?.id || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\shared-questions\route.ts`
**Line:** 138
**Context:** `name: course?.institution?.name || 'Unknown Institution',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\shared-questions\route.ts`
**Line:** 139
**Context:** `country: course?.institution?.country || ''`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\shared-questions\route.ts`
**Line:** 141
**Context:** `usage_count: question.times_asked || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\shared-questions\route.ts`
**Line:** 142
**Context:** `rating: question.success_rate || 0`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\stats\route.ts`
**Line:** 10
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\stats\route.ts`
**Line:** 26
**Context:** `if (!institutionId) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\stats\route.ts`
**Line:** 79
**Context:** `}).then(result => result._sum.institutionAmount || 0),`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\stats\route.ts`
**Line:** 163
**Context:** `paymentAmount: enrollment.payments[0]?.institutionAmount || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\stats\route.ts`
**Line:** 164
**Context:** `totalAmount: enrollment.payments[0]?.amount || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\stats\route.ts`
**Line:** 165
**Context:** `commissionAmount: enrollment.payments[0]?.commissionAmount || 0`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\students\route.ts`
**Line:** 10
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\students\route.ts`
**Line:** 30
**Context:** `if (!user?.institutionId) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\students\route.ts`
**Line:** 115
**Context:** `acc + (student.enrollments?.length || 0), 0) / (students.length || 1)`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\students\route.ts`
**Line:** 123
**Context:** `status: student.status?.toLowerCase() || 'active',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\students\route.ts`
**Line:** 124
**Context:** `enrolledCourses: student.enrollments?.length || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\students\route.ts`
**Line:** 125
**Context:** `completedCourses: student.completions?.length || 0,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\students\[id]\route.ts`
**Line:** 12
**Context:** `if (!session?.user?.institutionId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\students\[id]\route.ts`
**Line:** 49
**Context:** `if (!student) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\students\[id]\route.ts`
**Line:** 82
**Context:** `progress: enrollment.progress || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\students\[id]\route.ts`
**Line:** 88
**Context:** `grade: completion.grade || 'N/A',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\billing-history\route.ts`
**Line:** 9
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\billing-history\route.ts`
**Line:** 18
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\billing-history\route.ts`
**Line:** 27
**Context:** `if (!subscription) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\billing-history\route.ts`
**Line:** 33
**Context:** `const page = parseInt(searchParams.get('page') || '1');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\billing-history\route.ts`
**Line:** 34
**Context:** `const limit = parseInt(searchParams.get('limit') || '20');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\payment\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\payment\route.ts`
**Line:** 18
**Context:** `if (!user?.institution) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\payment\route.ts`
**Line:** 25
**Context:** `if (!planType || !['STARTER', 'PROFESSIONAL', 'ENTERPRISE'].includes(planType)) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\payment\route.ts`
**Line:** 34
**Context:** `if (!plan) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\route.ts`
**Line:** 19
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\route.ts`
**Line:** 39
**Context:** `if (!institution) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\route.ts`
**Line:** 57
**Context:** `amount: institution.subscription.commissionTier?.price || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\route.ts`
**Line:** 58
**Context:** `currency: institution.subscription.commissionTier?.currency || 'USD',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\route.ts`
**Line:** 59
**Context:** `features: institution.subscription.commissionTier?.features || {},`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\route.ts`
**Line:** 102
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\route.ts`
**Line:** 110
**Context:** `if (!user?.institution) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\route.ts`
**Line:** 117
**Context:** `if (!planType || !['STARTER', 'PROFESSIONAL', 'ENTERPRISE'].includes(planType)) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\route.ts`
**Line:** 161
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\route.ts`
**Line:** 169
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\route.ts`
**Line:** 176
**Context:** `if (!action) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\route.ts`
**Line:** 184
**Context:** `if (!planType || !['STARTER', 'PROFESSIONAL', 'ENTERPRISE'].includes(planType)) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\route.ts`
**Line:** 190
**Context:** `billingCycle || 'MONTHLY',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\route.ts`
**Line:** 196
**Context:** `if (!planType || !['STARTER', 'PROFESSIONAL'].includes(planType)) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\route.ts`
**Line:** 248
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\route.ts`
**Line:** 256
**Context:** `if (!user?.institution) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\route.ts`
**Line:** 261
**Context:** `const reason = searchParams.get('reason') || 'Subscription cancelled by user';`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\upgrade\route.ts`
**Line:** 11
**Context:** `if (!session?.user?.institutionId) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\upgrade\route.ts`
**Line:** 19
**Context:** `if (!planType || !['PROFESSIONAL', 'ENTERPRISE'].includes(planType)) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\upgrade\route.ts`
**Line:** 31
**Context:** `if (!currentSubscription || currentSubscription.status !== 'ACTIVE') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscription\upgrade\route.ts`
**Line:** 31
**Context:** `if (!currentSubscription || currentSubscription.status !== 'ACTIVE') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscriptions\cancel\route.ts`
**Line:** 11
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscriptions\cancel\route.ts`
**Line:** 21
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscriptions\route.ts`
**Line:** 11
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscriptions\route.ts`
**Line:** 21
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscriptions\route.ts`
**Line:** 52
**Context:** `if (!session?.user) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscriptions\route.ts`
**Line:** 58
**Context:** `if (!planType || !['STARTER', 'PROFESSIONAL', 'ENTERPRISE'].includes(planType)) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscriptions\route.ts`
**Line:** 62
**Context:** `if (!billingCycle || !['MONTHLY', 'ANNUAL'].includes(billingCycle)) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\subscriptions\route.ts`
**Line:** 72
**Context:** `if (!user?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\upload\route.ts`
**Line:** 12
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\upload\route.ts`
**Line:** 22
**Context:** `if (!file || !type) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\upload\route.ts`
**Line:** 22
**Context:** `if (!file || !type) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\upload\route.ts`
**Line:** 45
**Context:** `if (!formInstitutionId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\upload\route.ts`
**Line:** 53
**Context:** `if (!session.user.institutionId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\upload\route.ts`
**Line:** 67
**Context:** `if (!institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\upload\route.ts`
**Line:** 127
**Context:** `if (!session?.user?.institutionId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\upload\route.ts`
**Line:** 134
**Context:** `if (!imageUrl) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution\upload\route.ts`
**Line:** 150
**Context:** `if (!institution) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution-registration\route.ts`
**Line:** 78
**Context:** `email: validatedData.institutionEmail || validatedData.email,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution-registration\route.ts`
**Line:** 79
**Context:** `website: validatedData.website || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution-registration\route.ts`
**Line:** 85
**Context:** `postcode: validatedData.postcode || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution-registration\route.ts`
**Line:** 90
**Context:** `contactEmail: validatedData.contactEmail || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution-registration\route.ts`
**Line:** 139
**Context:** `ipAddress: request.ip || 'unknown',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institution-registration\route.ts`
**Line:** 140
**Context:** `userAgent: request.headers.get('user-agent') || 'unknown',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\route.ts`
**Line:** 11
**Context:** `const limit = parseInt(searchParams.get('limit') || '0');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\approval\route.ts`
**Line:** 13
**Context:** `if (!session) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\approval\route.ts`
**Line:** 33
**Context:** `if (!institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\approve\route.ts`
**Line:** 12
**Context:** `if (!session?.user?.role || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\approve\route.ts`
**Line:** 12
**Context:** `if (!session?.user?.role || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\approve\route.ts`
**Line:** 19
**Context:** `if (!id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\approve\route.ts`
**Line:** 29
**Context:** `if (!currentInstitution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\approve\route.ts`
**Line:** 80
**Context:** `if (!verifiedInstitution?.isApproved) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\route.ts`
**Line:** 65
**Context:** `...(isInstitutionUser || isAdmin ? {} : { status: 'PUBLISHED' })`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\route.ts`
**Line:** 80
**Context:** `if (!institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\route.ts`
**Line:** 85
**Context:** `if (!isInstitutionUser && !isAdmin) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\route.ts`
**Line:** 86
**Context:** `if (!institution.isApproved || institution.status !== 'ACTIVE') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\route.ts`
**Line:** 86
**Context:** `if (!institution.isApproved || institution.status !== 'ACTIVE') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\route.ts`
**Line:** 96
**Context:** `coursesCount: institution.courses?.length || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\route.ts`
**Line:** 97
**Context:** `courses: institution.courses?.map(c => ({ id: c.id, title: c.title, status: c.status })) || []`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\route.ts`
**Line:** 120
**Context:** `courses: institution.courses || [],`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\route.ts`
**Line:** 144
**Context:** `if (!session) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\route.ts`
**Line:** 155
**Context:** `if (!user) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\route.ts`
**Line:** 171
**Context:** `const contentType = request.headers.get('content-type') || '';`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\route.ts`
**Line:** 261
**Context:** `if (!session) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\status\route.ts`
**Line:** 14
**Context:** `if (!session || session.user.role?.toUpperCase() !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\status\route.ts`
**Line:** 44
**Context:** `isApproved: status === 'APPROVED' || status === 'ACTIVE' ? true : undefined`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\upload\route.ts`
**Line:** 18
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\upload\route.ts`
**Line:** 26
**Context:** `if (!file || !type) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\upload\route.ts`
**Line:** 26
**Context:** `if (!file || !type) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\upload\route.ts`
**Line:** 77
**Context:** `if (!institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\upload\route.ts`
**Line:** 109
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\upload\route.ts`
**Line:** 116
**Context:** `if (!imageUrl) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\institutions\[id]\upload\route.ts`
**Line:** 139
**Context:** `if (!institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\locations\route.ts`
**Line:** 47
**Context:** `if (!session) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\locations\route.ts`
**Line:** 61
**Context:** `if (!countryCode) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\locations\route.ts`
**Line:** 64
**Context:** `return NextResponse.json(statesByCountry[countryCode] || []);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\locations\route.ts`
**Line:** 67
**Context:** `if (!countryCode || !stateCode) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\locations\route.ts`
**Line:** 67
**Context:** `if (!countryCode || !stateCode) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\locations\route.ts`
**Line:** 71
**Context:** `return NextResponse.json(citiesByState[key] || []);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\preferences\route.ts`
**Line:** 9
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\preferences\route.ts`
**Line:** 76
**Context:** `if (!session?.user?.id) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\preferences\route.ts`
**Line:** 82
**Context:** `if (!preferences || !Array.isArray(preferences)) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\preferences\route.ts`
**Line:** 134
**Context:** `if (!session?.user?.id) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\preferences\route.ts`
**Line:** 140
**Context:** `if (!action || !templateIds || !Array.isArray(templateIds)) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\route.ts`
**Line:** 9
**Context:** `if (!session?.user?.id) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\route.ts`
**Line:** 14
**Context:** `const page = parseInt(searchParams.get('page') || '1');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\route.ts`
**Line:** 15
**Context:** `const limit = parseInt(searchParams.get('limit') || '20');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\route.ts`
**Line:** 58
**Context:** `read: stats.find(s => s.status === 'READ')?._count.status || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\route.ts`
**Line:** 59
**Context:** `unread: stats.find(s => s.status === 'UNREAD')?._count.status || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\route.ts`
**Line:** 60
**Context:** `sent: stats.find(s => s.status === 'SENT')?._count.status || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\route.ts`
**Line:** 61
**Context:** `failed: stats.find(s => s.status === 'FAILED')?._count.status || 0`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\route.ts`
**Line:** 86
**Context:** `if (!session?.user?.id) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\route.ts`
**Line:** 92
**Context:** `if (!notificationIds || !Array.isArray(notificationIds) || !action) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\send\route.ts`
**Line:** 9
**Context:** `//   process.env.VAPID_SUBJECT || 'mailto:admin@fluentish.com',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\send\route.ts`
**Line:** 10
**Context:** `//   process.env.NEXT_PUBLIC_VAPID_PUBLIC_KEY || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\send\route.ts`
**Line:** 11
**Context:** `//   process.env.VAPID_PRIVATE_KEY || ''`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\send\route.ts`
**Line:** 17
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\send\route.ts`
**Line:** 35
**Context:** `if (!title || !body) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\send\route.ts`
**Line:** 35
**Context:** `if (!title || !body) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\send\route.ts`
**Line:** 43
**Context:** `in: userIds || [session.user.id] // If no userIds specified, send to current user`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\send\route.ts`
**Line:** 60
**Context:** `icon: icon || '/icon.svg',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\send\route.ts`
**Line:** 61
**Context:** `badge: badge || '/icon.svg',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\send\route.ts`
**Line:** 85
**Context:** `process.env.VAPID_SUBJECT || 'mailto:admin@fluentish.com',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\send\route.ts`
**Line:** 86
**Context:** `process.env.NEXT_PUBLIC_VAPID_PUBLIC_KEY || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\send\route.ts`
**Line:** 87
**Context:** `process.env.VAPID_PRIVATE_KEY || ''`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\send\route.ts`
**Line:** 170
**Context:** `if (!session?.user?.id) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\send\route.ts`
**Line:** 175
**Context:** `const page = parseInt(searchParams.get('page') || '1');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\send\route.ts`
**Line:** 176
**Context:** `const limit = parseInt(searchParams.get('limit') || '20');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\subscribe\route.ts`
**Line:** 8
**Context:** `//   process.env.VAPID_SUBJECT || 'mailto:admin@fluentish.com',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\subscribe\route.ts`
**Line:** 9
**Context:** `//   process.env.NEXT_PUBLIC_VAPID_PUBLIC_KEY || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\subscribe\route.ts`
**Line:** 10
**Context:** `//   process.env.VAPID_PRIVATE_KEY || ''`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\subscribe\route.ts`
**Line:** 16
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\subscribe\route.ts`
**Line:** 22
**Context:** `if (!endpoint || !keys) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\subscribe\route.ts`
**Line:** 22
**Context:** `if (!endpoint || !keys) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\subscribe\route.ts`
**Line:** 52
**Context:** `process.env.VAPID_SUBJECT || 'mailto:admin@fluentish.com',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\subscribe\route.ts`
**Line:** 53
**Context:** `process.env.NEXT_PUBLIC_VAPID_PUBLIC_KEY || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\subscribe\route.ts`
**Line:** 54
**Context:** `process.env.VAPID_PRIVATE_KEY || ''`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\subscribe\route.ts`
**Line:** 98
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\unsubscribe\route.ts`
**Line:** 8
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\notifications\unsubscribe\route.ts`
**Line:** 14
**Context:** `if (!endpoint) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\revalidate\route.ts`
**Line:** 10
**Context:** `if (!path) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\search\route.ts`
**Line:** 55
**Context:** `if (validatedParams.minPrice !== undefined || validatedParams.maxPrice !== undefined) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\search\route.ts`
**Line:** 57
**Context:** `min: validatedParams.minPrice || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\search\route.ts`
**Line:** 58
**Context:** `max: validatedParams.maxPrice || 999999`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\search\route.ts`
**Line:** 62
**Context:** `if (validatedParams.minDuration !== undefined || validatedParams.maxDuration !== undefined) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\search\route.ts`
**Line:** 64
**Context:** `min: validatedParams.minDuration || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\search\route.ts`
**Line:** 65
**Context:** `max: validatedParams.maxDuration || 999999`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\search\route.ts`
**Line:** 69
**Context:** `if (validatedParams.startDateFrom || validatedParams.startDateTo) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\search\route.ts`
**Line:** 116
**Context:** `if (!query || typeof query !== 'string') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\search\route.ts`
**Line:** 116
**Context:** `if (!query || typeof query !== 'string') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\route.ts`
**Line:** 10
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\route.ts`
**Line:** 97
**Context:** `if (!acc[payment.enrollmentId]) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\route.ts`
**Line:** 124
**Context:** `progress: enrollment?.progress || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\route.ts`
**Line:** 127
**Context:** `hasOutstandingPayment: !!payment && payment.some(p => p.status === 'PENDING' || p.status === 'PROCESSING'),`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\route.ts`
**Line:** 136
**Context:** `price: booking?.amount || payment?.[0]?.amount || course.base_price,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\enroll\route.ts`
**Line:** 22
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\enroll\route.ts`
**Line:** 43
**Context:** `if (!courseCheck) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\enroll\route.ts`
**Line:** 91
**Context:** `if (!course?.maxStudents || !course?.base_price) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\enroll\route.ts`
**Line:** 91
**Context:** `if (!course?.maxStudents || !course?.base_price) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\enroll\route.ts`
**Line:** 105
**Context:** `if (!student) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\enroll\route.ts`
**Line:** 108
**Context:** `if (!user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\enroll\route.ts`
**Line:** 126
**Context:** `if (!student) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\modules\[moduleId]\quizzes\[quizId]\attempts\route.ts`
**Line:** 12
**Context:** `if (!session || session.user.role !== 'STUDENT') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\modules\[moduleId]\quizzes\[quizId]\attempts\route.ts`
**Line:** 12
**Context:** `if (!session || session.user.role !== 'STUDENT') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\modules\[moduleId]\quizzes\[quizId]\attempts\route.ts`
**Line:** 31
**Context:** `if (!enrollment) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\modules\[moduleId]\quizzes\[quizId]\start\route.ts`
**Line:** 15
**Context:** `if (!session || session.user.role !== 'STUDENT') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\modules\[moduleId]\quizzes\[quizId]\start\route.ts`
**Line:** 15
**Context:** `if (!session || session.user.role !== 'STUDENT') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\modules\[moduleId]\quizzes\[quizId]\start\route.ts`
**Line:** 36
**Context:** `if (!enrollment) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\modules\[moduleId]\quizzes\[quizId]\start\route.ts`
**Line:** 48
**Context:** `if (!quiz) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\modules\[moduleId]\quizzes\[quizId]\submit\route.ts`
**Line:** 13
**Context:** `if (!session || session.user.role !== 'STUDENT') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\modules\[moduleId]\quizzes\[quizId]\submit\route.ts`
**Line:** 13
**Context:** `if (!session || session.user.role !== 'STUDENT') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\modules\[moduleId]\quizzes\[quizId]\submit\route.ts`
**Line:** 29
**Context:** `if (!attempt) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\modules\[moduleId]\quizzes\[quizId]\submit\route.ts`
**Line:** 48
**Context:** `if (!quiz) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\modules\[moduleId]\quizzes\[quizId]\submit\route.ts`
**Line:** 67
**Context:** `if (!enrollment) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 13
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 46
**Context:** `if (!enrollment) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 78
**Context:** `if (!module) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 108
**Context:** `const quizCompleted = studentProgress?.quiz_completed || false;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 121
**Context:** `mediaUrl: q.mediaUrl || null`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 122
**Context:** `})) || [],`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\modules\[moduleId]\route.ts`
**Line:** 123
**Context:** `student_progress: studentProgress || {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\payment\route.ts`
**Line:** 13
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\payment\route.ts`
**Line:** 28
**Context:** `if (!enrollment) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\payment\route.ts`
**Line:** 54
**Context:** `const amount = booking?.amount || enrollment.course.base_price;`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\route.ts`
**Line:** 13
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\route.ts`
**Line:** 29
**Context:** `if (!course) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\route.ts`
**Line:** 98
**Context:** `status: enrollments[0]?.status || 'ACTIVE',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\route.ts`
**Line:** 100
**Context:** `startDate: enrollments[0]?.startDate || course.startDate,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\courses\[id]\route.ts`
**Line:** 101
**Context:** `endDate: enrollments[0]?.endDate || course.endDate,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\achievements\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\achievements\route.ts`
**Line:** 19
**Context:** `if (!student) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\courses\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.email) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\courses\route.ts`
**Line:** 19
**Context:** `if (!student) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\courses\route.ts`
**Line:** 88
**Context:** `_count: countData?._count || { content_items: 0, exercises: 0, quizzes: 0 }`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\quiz-stats\route.ts`
**Line:** 9
**Context:** `if (!session || session.user.role !== 'STUDENT') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\quiz-stats\route.ts`
**Line:** 9
**Context:** `if (!session || session.user.role !== 'STUDENT') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\quiz-stats\route.ts`
**Line:** 74
**Context:** `const scores = attempts.map(attempt => attempt.percentage || 0);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\quiz-stats\route.ts`
**Line:** 103
**Context:** `const attemptDate = new Date(attempt.completed_at || attempt.started_at);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\quiz-stats\route.ts`
**Line:** 124
**Context:** `quizTitle: quiz?.title || 'Unknown Quiz',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\quiz-stats\route.ts`
**Line:** 125
**Context:** `courseTitle: course?.title || 'Unknown Course',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\quiz-stats\route.ts`
**Line:** 126
**Context:** `moduleTitle: module?.title || 'Unknown Module',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\quiz-stats\route.ts`
**Line:** 135
**Context:** `passed: attempt.percentage ? attempt.percentage >= (quiz?.passing_score || 0) : false`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\recent-modules\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\recent-modules\route.ts`
**Line:** 19
**Context:** `if (!student) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\recent-modules\route.ts`
**Line:** 72
**Context:** `moduleTitle: module?.title || 'Unknown Module',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\recent-modules\route.ts`
**Line:** 73
**Context:** `courseTitle: course?.title || 'Unknown Course',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\recent-modules\route.ts`
**Line:** 81
**Context:** `lastStudyDate: progress.lastStudyDate?.toISOString() || progress.lastAccessedAt?.toISOString() || '',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\route.ts`
**Line:** 15
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\route.ts`
**Line:** 24
**Context:** `if (!student) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\route.ts`
**Line:** 103
**Context:** `? enrollments.reduce((acc, e) => acc + (e.progress || 0), 0) / enrollments.length`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\route.ts`
**Line:** 156
**Context:** `moduleTitle: module?.title || 'Unknown Module',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\route.ts`
**Line:** 157
**Context:** `courseTitle: course?.title || 'Unknown Course',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\route.ts`
**Line:** 169
**Context:** `totalCourses: totalEnrolled || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\route.ts`
**Line:** 170
**Context:** `completedCourses: totalCompleted || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\route.ts`
**Line:** 171
**Context:** `inProgressCourses: inProgress || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\route.ts`
**Line:** 172
**Context:** `averageProgress: Math.round((averageProgress || 0) * 100),`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\route.ts`
**Line:** 173
**Context:** `activeCourses: enrollments.filter(e => e.status === 'ACTIVE').length || 0`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\route.ts`
**Line:** 181
**Context:** `title: course?.title || 'Unknown Course',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\route.ts`
**Line:** 182
**Context:** `progress: e.progress || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\route.ts`
**Line:** 184
**Context:** `startDate: e.startDate || e.createdAt,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\route.ts`
**Line:** 185
**Context:** `endDate: e.endDate || course?.endDate || new Date().toISOString(),`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\route.ts`
**Line:** 187
**Context:** `name: institutions.find(i => i.id === course?.institutionId)?.name || 'Unknown Institution'`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\route.ts`
**Line:** 196
**Context:** `title: course?.title || 'Unknown Course',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\stats\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\stats\route.ts`
**Line:** 19
**Context:** `if (!student) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\dashboard\stats\route.ts`
**Line:** 126
**Context:** `? Math.round(quizAttempts.reduce((sum, attempt) => sum + (attempt.percentage || 0), 0) / quizAttempts.length)`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\enrollments\calculate-price\route.ts`
**Line:** 26
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\enrollments\calculate-price\route.ts`
**Line:** 39
**Context:** `if (!courseId || !startDate || !endDate) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\enrollments\calculate-price\route.ts`
**Line:** 39
**Context:** `if (!courseId || !startDate || !endDate) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\enrollments\calculate-price\route.ts`
**Line:** 57
**Context:** `if (!course) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\enrollments\calculate-price\route.ts`
**Line:** 103
**Context:** `if (!isValid(start) || !isValid(end)) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\enrollments\calculate-price\route.ts`
**Line:** 140
**Context:** `if (!weeklyPrices || weeklyPrices.length === 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\enrollments\calculate-price\route.ts`
**Line:** 140
**Context:** `if (!weeklyPrices || weeklyPrices.length === 0) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\enrollments\calculate-price\route.ts`
**Line:** 144
**Context:** `if (!course.base_price || course.base_price <= 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\enrollments\calculate-price\route.ts`
**Line:** 144
**Context:** `if (!course.base_price || course.base_price <= 0) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\enrollments\calculate-price\route.ts`
**Line:** 169
**Context:** `if (!weeklyPrice) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\enrollments\calculate-price\route.ts`
**Line:** 202
**Context:** `if (!monthlyPrices || monthlyPrices.length === 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\enrollments\calculate-price\route.ts`
**Line:** 202
**Context:** `if (!monthlyPrices || monthlyPrices.length === 0) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\enrollments\calculate-price\route.ts`
**Line:** 206
**Context:** `if (!course.base_price || course.base_price <= 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\enrollments\calculate-price\route.ts`
**Line:** 206
**Context:** `if (!course.base_price || course.base_price <= 0) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\enrollments\calculate-price\route.ts`
**Line:** 230
**Context:** `if (!course.base_price || course.base_price <= 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\enrollments\calculate-price\route.ts`
**Line:** 230
**Context:** `if (!course.base_price || course.base_price <= 0) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\enrollments\calculate-price\route.ts`
**Line:** 250
**Context:** `if (!course.base_price || course.base_price <= 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\enrollments\calculate-price\route.ts`
**Line:** 250
**Context:** `if (!course.base_price || course.base_price <= 0) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\enrollments\calculate-price\route.ts`
**Line:** 264
**Context:** `if (!totalPrice || totalPrice <= 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\enrollments\calculate-price\route.ts`
**Line:** 264
**Context:** `if (!totalPrice || totalPrice <= 0) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\enrollments\route.ts`
**Line:** 10
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\enrollments\route.ts`
**Line:** 19
**Context:** `if (!courseId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\enrollments\route.ts`
**Line:** 34
**Context:** `if (!course) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\enrollments\route.ts`
**Line:** 63
**Context:** `const cookies = request.headers.get('cookie') || '';`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\enrollments\route.ts`
**Line:** 74
**Context:** `startDate: startDate || new Date().toISOString(),`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\enrollments\route.ts`
**Line:** 75
**Context:** `endDate: endDate || new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString(),`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\enrollments\route.ts`
**Line:** 79
**Context:** `if (!priceResponse.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\enrollments\route.ts`
**Line:** 84
**Context:** `details: error.details || 'Could not calculate the course price'`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\enrollments\route.ts`
**Line:** 99
**Context:** `startDate: new Date(startDate || new Date().toISOString()),`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\enrollments\route.ts`
**Line:** 100
**Context:** `endDate: new Date(endDate || new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString()),`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\exercises\[exerciseId]\submit\route.ts`
**Line:** 13
**Context:** `if (!session || session.user.role !== 'STUDENT') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\exercises\[exerciseId]\submit\route.ts`
**Line:** 13
**Context:** `if (!session || session.user.role !== 'STUDENT') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\exercises\[exerciseId]\submit\route.ts`
**Line:** 20
**Context:** `if (userAnswer === undefined || isCorrect === undefined) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\exercises\[exerciseId]\submit\route.ts`
**Line:** 36
**Context:** `if (!exercise) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\exercises\[exerciseId]\submit\route.ts`
**Line:** 48
**Context:** `if (!enrollment) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\exercises\[exerciseId]\submit\route.ts`
**Line:** 74
**Context:** `if (!existingProgress) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\learning-path\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.id) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\learning-path\route.ts`
**Line:** 15
**Context:** `const studentId = searchParams.get('studentId') || session.user.id;`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\learning-path\route.ts`
**Line:** 22
**Context:** `if (!student) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\learning-path\route.ts`
**Line:** 89
**Context:** `timeSpent = progress.timeSpent || 0;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\learning-path\route.ts`
**Line:** 90
**Context:** `quizScore = progress.quizScore || undefined;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\learning-path\route.ts`
**Line:** 95
**Context:** `} else if (progress.contentCompleted || progress.exercisesCompleted || progress.quizCompleted) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\learning-path\route.ts`
**Line:** 111
**Context:** `if (!previousProgress || !previousProgress.contentCompleted || !previousProgress.exercisesCompleted || !previousProgress.quizCompleted) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\learning-path\route.ts`
**Line:** 111
**Context:** `if (!previousProgress || !previousProgress.contentCompleted || !previousProgress.exercisesCompleted || !previousProgress.quizCompleted) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\learning-path\route.ts`
**Line:** 127
**Context:** `estimatedTime: module.estimated_duration || 30, // Default 30 minutes`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\learning-path\route.ts`
**Line:** 128
**Context:** `difficulty: module.level || 'beginner',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\learning-path\route.ts`
**Line:** 131
**Context:** `lastAccessed: progress?.lastStudyDate?.toISOString() || progress?.lastAccessedAt?.toISOString()`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\learning-path\route.ts`
**Line:** 156
**Context:** `description: currentCourse.description || 'Continue your learning journey',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\learning-path\route.ts`
**Line:** 165
**Context:** `institution: currentCourse.institution?.name || 'Unknown Institution'`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\learning-path\route.ts`
**Line:** 266
**Context:** `progress: enrollment.progress || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\notifications\route.ts`
**Line:** 46
**Context:** `return data.email_notifications || data.push_notifications || data.sms_notifications;`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\notifications\route.ts`
**Line:** 96
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\notifications\route.ts`
**Line:** 108
**Context:** `if (!student) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\notifications\route.ts`
**Line:** 122
**Context:** `if (!preferences) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\notifications\route.ts`
**Line:** 144
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\notifications\route.ts`
**Line:** 186
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\payments\initiate\route.ts`
**Line:** 11
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\payments\initiate\route.ts`
**Line:** 35
**Context:** `if (!enrollment) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\payments\initiate\route.ts`
**Line:** 54
**Context:** `if (!booking) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\payments\process\[paymentId]\route.ts`
**Line:** 15
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\payments\process\[paymentId]\route.ts`
**Line:** 35
**Context:** `if (!payment) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\payments\process\[paymentId]\route.ts`
**Line:** 111
**Context:** `amount: payment.metadata?.institutionAmount || (payment.amount - (payment.amount * payment.enrollment.course.institution.commissionRate / 100)),`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\payments\process\[paymentId]\route.ts`
**Line:** 155
**Context:** `if (!validation.isValid) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\payments\process\[paymentId]\route.ts`
**Line:** 186
**Context:** `details: error.message || 'An unexpected error occurred',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\profile\password\route.ts`
**Line:** 13
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\profile\password\route.ts`
**Line:** 23
**Context:** `if (!currentPassword || !newPassword) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\profile\password\route.ts`
**Line:** 23
**Context:** `if (!currentPassword || !newPassword) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\profile\password\route.ts`
**Line:** 35
**Context:** `if (!user) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\profile\password\route.ts`
**Line:** 39
**Context:** `const isPasswordValid = await bcrypt.compare(currentPassword, user.password || '');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\profile\password\route.ts`
**Line:** 41
**Context:** `if (!isPasswordValid) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\profile\route.ts`
**Line:** 10
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\profile\route.ts`
**Line:** 37
**Context:** `if (!student) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\profile\route.ts`
**Line:** 122
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\profile\route.ts`
**Line:** 134
**Context:** `if (!name || !email) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\profile\route.ts`
**Line:** 134
**Context:** `if (!name || !email) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\progress\route.ts`
**Line:** 10
**Context:** `if (!session?.user) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\progress\route.ts`
**Line:** 143
**Context:** `courses.reduce((acc, course) => acc + course.progress, 0) / courses.length || 0`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\progress-visualization\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.id) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\progress-visualization\route.ts`
**Line:** 15
**Context:** `const studentId = searchParams.get('studentId') || session.user.id;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\progress-visualization\route.ts`
**Line:** 16
**Context:** `const timeRange = searchParams.get('timeRange') || '30d';`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\progress-visualization\route.ts`
**Line:** 23
**Context:** `if (!student) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\progress-visualization\route.ts`
**Line:** 95
**Context:** `course: course || null`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\progress-visualization\route.ts`
**Line:** 147
**Context:** `const progressDate = new Date(p.lastStudyDate || p.lastAccessedAt);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\progress-visualization\route.ts`
**Line:** 156
**Context:** `const timeSpent = dayProgress.reduce((sum, p) => sum + (p.timeSpent || 0), 0);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\progress-visualization\route.ts`
**Line:** 162
**Context:** `? Math.round(dayQuizzes.reduce((sum, q) => sum + (q.percentage || 0), 0) / dayQuizzes.length)`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\progress-visualization\route.ts`
**Line:** 191
**Context:** `const progressDate = new Date(p.lastStudyDate || p.lastAccessedAt);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\progress-visualization\route.ts`
**Line:** 200
**Context:** `const totalTime = weekProgress.reduce((sum, p) => sum + (p.timeSpent || 0), 0);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\progress-visualization\route.ts`
**Line:** 202
**Context:** `? Math.round(weekQuizzes.reduce((sum, q) => sum + (q.percentage || 0), 0) / weekQuizzes.length)`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\progress-visualization\route.ts`
**Line:** 243
**Context:** `const courseTitle = progress.module?.course?.title || 'Unknown Course';`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\progress-visualization\route.ts`
**Line:** 256
**Context:** `subject.timeSpent += progress.timeSpent || 0;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\progress-visualization\route.ts`
**Line:** 277
**Context:** `const totalTimeSpent = moduleProgress.reduce((sum, p) => sum + (p.timeSpent || 0), 0);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\progress-visualization\route.ts`
**Line:** 283
**Context:** `? Math.round(quizAttempts.reduce((sum, q) => sum + (q.percentage || 0), 0) / quizAttempts.length)`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\quiz\[quizId]\adaptive\route.ts`
**Line:** 31
**Context:** `hints: question.hints ? (Array.isArray(question.hints) ? question.hints : JSON.parse(question.hints || '[]')) : []`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\quiz\[quizId]\adaptive\route.ts`
**Line:** 41
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\quiz\[quizId]\adaptive\route.ts`
**Line:** 58
**Context:** `if (!quiz) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\quiz\[quizId]\adaptive\route.ts`
**Line:** 75
**Context:** `if (!attempt) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\quiz\[quizId]\adaptive\route.ts`
**Line:** 94
**Context:** `const adaptiveConfig = quiz.adaptive_config as any || {};`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\quiz\[quizId]\adaptive\route.ts`
**Line:** 95
**Context:** `const initialAbility = adaptiveConfig.initial_ability || 0;`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\quiz\[quizId]\adaptive\route.ts`
**Line:** 115
**Context:** `if (!question) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\quiz\[quizId]\adaptive\route.ts`
**Line:** 124
**Context:** `difficulty: question.irt_difficulty || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\quiz\[quizId]\adaptive\route.ts`
**Line:** 125
**Context:** `discrimination: question.irt_discrimination || 1,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\quiz\[quizId]\adaptive\route.ts`
**Line:** 126
**Context:** `guessing: question.irt_guessing || 0.25`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\quiz\[quizId]\adaptive\route.ts`
**Line:** 146
**Context:** `difficulty: response.question.irt_difficulty || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\quiz\[quizId]\adaptive\route.ts`
**Line:** 147
**Context:** `discrimination: response.question.irt_discrimination || 1,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\quiz\[quizId]\adaptive\route.ts`
**Line:** 148
**Context:** `guessing: response.question.irt_guessing || 0.25`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\quiz\[quizId]\adaptive\route.ts`
**Line:** 168
**Context:** `timeSpent: responseTime || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\quiz\[quizId]\adaptive\route.ts`
**Line:** 187
**Context:** `adaptive_history: [...(attempt.adaptive_history as any[] || []), {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\quiz\[quizId]\adaptive\route.ts`
**Line:** 204
**Context:** `if (!shouldContinue) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\quiz\[quizId]\adaptive\route.ts`
**Line:** 238
**Context:** `difficulty: q.irt_difficulty || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\quiz\[quizId]\adaptive\route.ts`
**Line:** 239
**Context:** `discrimination: q.irt_discrimination || 1,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\quiz\[quizId]\adaptive\route.ts`
**Line:** 240
**Context:** `guessing: q.irt_guessing || 0.25`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\quiz\[quizId]\adaptive\route.ts`
**Line:** 242
**Context:** `category: q.category || 'general',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\quiz\[quizId]\adaptive\route.ts`
**Line:** 254
**Context:** `if (!nextQuestion) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\quiz\[quizId]\adaptive\route.ts`
**Line:** 312
**Context:** `distance: Math.abs((q.irt_difficulty || 0) - initialAbility)`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\quiz\[quizId]\adaptive\route.ts`
**Line:** 316
**Context:** `return questionsWithDistance[0]?.question || questions[0];`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\quiz\[quizId]\adaptive\route.ts`
**Line:** 329
**Context:** `const correctPairs = JSON.parse(question.correct_answer || '[]');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\recommendations\route.ts`
**Line:** 9
**Context:** `if (!session?.user?.id) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\recommendations\route.ts`
**Line:** 15
**Context:** `const limit = parseInt(searchParams.get('limit') || '6');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\billing-history\route.ts`
**Line:** 9
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\billing-history\route.ts`
**Line:** 19
**Context:** `if (!user?.student) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\billing-history\route.ts`
**Line:** 30
**Context:** `if (!subscription) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\billing-history\route.ts`
**Line:** 36
**Context:** `const page = parseInt(searchParams.get('page') || '1');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\billing-history\route.ts`
**Line:** 37
**Context:** `const limit = parseInt(searchParams.get('limit') || '20');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\payment\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\payment\route.ts`
**Line:** 18
**Context:** `if (!user?.student) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\payment\route.ts`
**Line:** 25
**Context:** `if (!planType || !['BASIC', 'PREMIUM', 'PRO'].includes(planType)) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\payment\route.ts`
**Line:** 34
**Context:** `if (!plan) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\route.ts`
**Line:** 11
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\route.ts`
**Line:** 21
**Context:** `if (!user?.student) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\route.ts`
**Line:** 45
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\route.ts`
**Line:** 54
**Context:** `if (!user?.student) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\route.ts`
**Line:** 61
**Context:** `if (!planType || !['BASIC', 'PREMIUM', 'PRO'].includes(planType)) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\route.ts`
**Line:** 80
**Context:** `if (!plan) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\route.ts`
**Line:** 84
**Context:** `const calculatedAmount = amount || (billingCycle === 'ANNUAL' ? plan.annualPrice : plan.monthlyPrice);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\route.ts`
**Line:** 168
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\route.ts`
**Line:** 177
**Context:** `if (!user?.student) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\route.ts`
**Line:** 184
**Context:** `if (!action) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\route.ts`
**Line:** 195
**Context:** `if (!currentSubscription) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\route.ts`
**Line:** 203
**Context:** `if (!planType || !['BASIC', 'PREMIUM', 'PRO'].includes(planType)) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\route.ts`
**Line:** 224
**Context:** `billingCycle: billingCycle || currentSubscription.billingCycle,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\route.ts`
**Line:** 241
**Context:** `newBillingCycle: billingCycle || currentSubscription.billingCycle,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\route.ts`
**Line:** 243
**Context:** `reason: body.reason || 'Plan upgrade'`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\route.ts`
**Line:** 249
**Context:** `if (!planType || !['BASIC', 'PREMIUM'].includes(planType)) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\route.ts`
**Line:** 286
**Context:** `reason: body.reason || 'Plan downgrade'`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\route.ts`
**Line:** 359
**Context:** `if (!session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\route.ts`
**Line:** 368
**Context:** `if (!user?.student) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\route.ts`
**Line:** 379
**Context:** `if (!subscription) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\route.ts`
**Line:** 384
**Context:** `const reason = searchParams.get('reason') || 'Subscription cancelled by user';`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\upgrade\route.ts`
**Line:** 10
**Context:** `if (!session?.user?.id) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\upgrade\route.ts`
**Line:** 17
**Context:** `if (!planType || !['BASIC', 'PREMIUM', 'PRO'].includes(planType)) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\upgrade\route.ts`
**Line:** 27
**Context:** `if (!user?.student) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\upgrade\route.ts`
**Line:** 38
**Context:** `if (!currentSubscription) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\student\subscription\upgrade\route.ts`
**Line:** 61
**Context:** `billingCycle: billingCycle || currentSubscription.billingCycle,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\subscriptions\create\route.ts`
**Line:** 9
**Context:** `if (!session) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\subscriptions\create\route.ts`
**Line:** 17
**Context:** `if (!planId || price === undefined || !paymentMethod) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\subscriptions\create\route.ts`
**Line:** 17
**Context:** `if (!planId || price === undefined || !paymentMethod) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\tags\analytics\route.ts`
**Line:** 9
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\tags\analytics\route.ts`
**Line:** 9
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\tags\public\route.ts`
**Line:** 8
**Context:** `const limit = parseInt(searchParams.get('limit') || '50');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\tags\route.ts`
**Line:** 17
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\tags\route.ts`
**Line:** 170
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\tags\route.ts`
**Line:** 170
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\tags\route.ts`
**Line:** 175
**Context:** `if (!name) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\tags\route.ts`
**Line:** 197
**Context:** `if (!parentTag) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\tags\route.ts`
**Line:** 213
**Context:** `featured: featured || false,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\tags\route.ts`
**Line:** 214
**Context:** `priority: priority || 0,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\tags\[id]\route.ts`
**Line:** 23
**Context:** `if (!tag) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\tags\[id]\route.ts`
**Line:** 46
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\tags\[id]\route.ts`
**Line:** 46
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\tags\[id]\route.ts`
**Line:** 51
**Context:** `if (!name) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\tags\[id]\route.ts`
**Line:** 60
**Context:** `if (!existingTag) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\tags\[id]\route.ts`
**Line:** 92
**Context:** `if (!parentTag) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\tags\[id]\route.ts`
**Line:** 146
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\tags\[id]\route.ts`
**Line:** 146
**Context:** `if (!session || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\tags\[id]\route.ts`
**Line:** 163
**Context:** `if (!tag) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\test-session\route.ts`
**Line:** 10
**Context:** `const cookies = request.headers.get('cookie') || '';`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\test-session-establishment\route.ts`
**Line:** 16
**Context:** `const cookies = request.headers.get('cookie') || '';`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\user\settings\route.ts`
**Line:** 12
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\user\settings\route.ts`
**Line:** 40
**Context:** `if (!user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\user\settings\route.ts`
**Line:** 62
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\user\settings\route.ts`
**Line:** 73
**Context:** `if (!name || !email) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\user\settings\route.ts`
**Line:** 73
**Context:** `if (!name || !email) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\user\settings\route.ts`
**Line:** 109
**Context:** `if (!user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\user\settings\route.ts`
**Line:** 117
**Context:** `if (!isValidPassword) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\webhooks\stripe\route.ts`
**Line:** 7
**Context:** `if (!process.env.STRIPE_SECRET_KEY) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\webhooks\stripe\route.ts`
**Line:** 11
**Context:** `if (!process.env.STRIPE_WEBHOOK_SECRET) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\webhooks\stripe\route.ts`
**Line:** 24
**Context:** `if (!signature) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\webhooks\stripe\route.ts`
**Line:** 42
**Context:** `if (type === 'institution_subscription' || type === 'student_subscription') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\api\webhooks\stripe\route.ts`
**Line:** 52
**Context:** `if (type === 'institution_subscription' || type === 'student_subscription') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\auth\register\enhanced\page.tsx`
**Line:** 351
**Context:** `if (!formData.password) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\auth\register\enhanced\page.tsx`
**Line:** 365
**Context:** `if (!formData.selectedPlan) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\auth\register\enhanced\page.tsx`
**Line:** 408
**Context:** `if (!formData.password) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\auth\register\enhanced\page.tsx`
**Line:** 413
**Context:** `if (!formData.selectedPlan) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\auth\register\enhanced\page.tsx`
**Line:** 449
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\auth\register\enhanced\page.tsx`
**Line:** 450
**Context:** `throw new Error(data.message || 'Registration failed');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\auth\register\enhanced\page.tsx`
**Line:** 697
**Context:** `{plan.id === 'BASIC' || plan.id === 'STARTER' ? (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\auth\register\enhanced\page.tsx`
**Line:** 699
**Context:** `) : plan.id === 'PREMIUM' || plan.id === 'PROFESSIONAL' ? (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\auth\register\enhanced\page.tsx`
**Line:** 1060
**Context:** `(formData.role === 'STUDENT' || formData.description);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\auth\register\institution\page.tsx`
**Line:** 99
**Context:** `if (!selectedCountry) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\auth\register\institution\page.tsx`
**Line:** 107
**Context:** `if (!selectedState) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\auth\register\institution\page.tsx`
**Line:** 112
**Context:** `if (!selectedCity) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\auth\register\institution\page.tsx`
**Line:** 150
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\auth\register\institution\page.tsx`
**Line:** 151
**Context:** `throw new Error(data.message || 'Registration failed');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\auth\register\page.tsx`
**Line:** 37
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\auth\signup\page.tsx`
**Line:** 38
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\awaiting-approval\page.tsx`
**Line:** 19
**Context:** `if (!session?.user) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\awaiting-approval\page.tsx`
**Line:** 57
**Context:** `if (status === 'loading' || loading) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\awaiting-approval\page.tsx`
**Line:** 68
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\bookings\success\page.tsx`
**Line:** 35
**Context:** `if (!sessionId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\bookings\success\page.tsx`
**Line:** 46
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\bookings\success\page.tsx`
**Line:** 72
**Context:** `if (!booking) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\checkout\page.tsx`
**Line:** 34
**Context:** `if (!session) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\checkout\page.tsx`
**Line:** 84
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\checkout\page.tsx`
**Line:** 112
**Context:** `if (!session) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\checkout\page.tsx`
**Line:** 116
**Context:** `if (!planData) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\content\ContentCreator.tsx`
**Line:** 105
**Context:** `if (!files || files.length === 0) return;`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\content\ContentCreator.tsx`
**Line:** 111
**Context:** `if (!fileType) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\content\ContentCreator.tsx`
**Line:** 143
**Context:** `if (!moduleId) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\content\ContentCreator.tsx`
**Line:** 185
**Context:** `alt={block.metadata?.alt || 'Content image'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\content\ContentCreator.tsx`
**Line:** 202
**Context:** `value={block.metadata?.alt || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\content\ContentCreator.tsx`
**Line:** 235
**Context:** `value={block.metadata?.url || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\content\ContentCreator.tsx`
**Line:** 258
**Context:** `value={block.metadata?.alt || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\content\ContentCreator.tsx`
**Line:** 274
**Context:** `value={block.metadata?.language || 'javascript'}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\institution\EnrollmentStatusCard.tsx`
**Line:** 89
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\institution\EnrollmentStatusCard.tsx`
**Line:** 91
**Context:** `throw new Error(error.message || 'Failed to send reminder');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\institution\MarkPaymentDialog.tsx`
**Line:** 70
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\institution\MarkPaymentDialog.tsx`
**Line:** 110
**Context:** `{trigger || <Button>Mark as Paid</Button>}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\institution\PayoutDialog.tsx`
**Line:** 58
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\institution\PayoutDialog.tsx`
**Line:** 60
**Context:** `throw new Error(error.message || 'Failed to mark payout as paid');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\InstitutionForm.tsx`
**Line:** 37
**Context:** `const [selectedCountry, setSelectedCountry] = useState(initialData?.country || '');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\InstitutionForm.tsx`
**Line:** 38
**Context:** `const [selectedState, setSelectedState] = useState(initialData?.state || '');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\InstitutionForm.tsx`
**Line:** 43
**Context:** `name: initialData?.name || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\InstitutionForm.tsx`
**Line:** 44
**Context:** `email: initialData?.email || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\InstitutionForm.tsx`
**Line:** 45
**Context:** `institutionEmail: initialData?.institutionEmail || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\InstitutionForm.tsx`
**Line:** 46
**Context:** `description: initialData?.description || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\InstitutionForm.tsx`
**Line:** 47
**Context:** `country: initialData?.country || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\InstitutionForm.tsx`
**Line:** 48
**Context:** `state: initialData?.state || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\InstitutionForm.tsx`
**Line:** 49
**Context:** `city: initialData?.city || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\InstitutionForm.tsx`
**Line:** 50
**Context:** `address: initialData?.address || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\InstitutionForm.tsx`
**Line:** 51
**Context:** `postcode: initialData?.postcode || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\InstitutionForm.tsx`
**Line:** 52
**Context:** `telephone: initialData?.telephone || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\InstitutionForm.tsx`
**Line:** 53
**Context:** `contactName: initialData?.contactName || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\InstitutionForm.tsx`
**Line:** 54
**Context:** `contactJobTitle: initialData?.contactJobTitle || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\InstitutionForm.tsx`
**Line:** 55
**Context:** `contactPhone: initialData?.contactPhone || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\InstitutionForm.tsx`
**Line:** 56
**Context:** `contactEmail: initialData?.contactEmail || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\InstitutionForm.tsx`
**Line:** 57
**Context:** `website: initialData?.website || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\InstitutionForm.tsx`
**Line:** 198
**Context:** `disabled={!selectedCountry || !selectedState}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\LocationSelect.tsx`
**Line:** 52
**Context:** `if (type === 'country' || (type === 'state' && countryCode) || (type === 'city' && countryCode && stateCode)) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\LocationSelect.tsx`
**Line:** 61
**Context:** `disabled={disabled || loading}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\NotificationBell.tsx`
**Line:** 194
**Context:** `{getNotificationIcon(notification.template?.category || 'default')}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\NotificationBell.tsx`
**Line:** 199
**Context:** `{notification.template?.title || notification.title}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\NotificationDashboard.tsx`
**Line:** 342
**Context:** `{notification.template?.title || notification.title}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\PaymentMethodSelector.tsx`
**Line:** 44
**Context:** `const [selected, setSelected] = useState<string>(selectedMethod || '');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\student\EnrollmentModal.tsx`
**Line:** 23
**Context:** `if (!startDate || !endDate) return;`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\student\EnrollmentModal.tsx`
**Line:** 38
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\student\EnrollmentModal.tsx`
**Line:** 71
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\student\EnrollmentModal.tsx`
**Line:** 73
**Context:** `throw new Error(error.message || 'Failed to enroll in course');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\student\EnrollmentModal.tsx`
**Line:** 123
**Context:** `min={startDate || new Date().toISOString().split('T')[0]}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\student\EnrollmentModal.tsx`
**Line:** 142
**Context:** `<Button type="submit" disabled={isLoading || !startDate || !endDate || calculatedPrice <= 0}>`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\student\LearningPath.tsx`
**Line:** 165
**Context:** `if (!data) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\student\NotificationPreferences.tsx`
**Line:** 124
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\student\NotificationPreferences.tsx`
**Line:** 161
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\student\NotificationPreferences.tsx`
**Line:** 547
**Context:** `disabled={!isDirty || isSaving}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\student\PaymentForm.tsx`
**Line:** 21
**Context:** `if (!stripe || !elements) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\student\PaymentForm.tsx`
**Line:** 21
**Context:** `if (!stripe || !elements) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\student\PaymentForm.tsx`
**Line:** 36
**Context:** `toast.error(error.message || 'Payment failed. Please try again.');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\student\PaymentForm.tsx`
**Line:** 61
**Context:** `<Button type="submit" disabled={!stripe || isProcessing}>`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\components\student\ProgressVisualization.tsx`
**Line:** 147
**Context:** `if (!data) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\courses\[id]\page.tsx`
**Line:** 77
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\courses\[id]\page.tsx`
**Line:** 133
**Context:** `if (error || !course) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\courses\[id]\page.tsx`
**Line:** 138
**Context:** `<p className="text-gray-600 mb-4">{error || 'The course you are looking for does not exist.'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\courses\[id]\page.tsx`
**Line:** 169
**Context:** `{course.institution?.name || 'Institution not available'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\courses\[id]\page.tsx`
**Line:** 252
**Context:** `{course.institution?.name || 'Institution not available'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\courses\[id]\page.tsx`
**Line:** 275
**Context:** `<dd className="mt-1 text-sm text-gray-900">{course.category?.name || 'Not specified'}</dd>`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\dashboard\page.tsx`
**Line:** 13
**Context:** `if (!session) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\forgot-password\page.tsx`
**Line:** 29
**Context:** `if (!email) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\forgot-password\page.tsx`
**Line:** 50
**Context:** `setError(data.error || 'Failed to send password reset email');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\hooks\useCurrency.ts`
**Line:** 32
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\hooks\useInstitution.ts`
**Line:** 20
**Context:** `if (!session?.user?.institutionId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\hooks\useInstitution.ts`
**Line:** 27
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\analytics\InstitutionAnalyticsClient.tsx`
**Line:** 76
**Context:** `if (!session || session.user?.role !== 'INSTITUTION') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\analytics\InstitutionAnalyticsClient.tsx`
**Line:** 76
**Context:** `if (!session || session.user?.role !== 'INSTITUTION') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\analytics\InstitutionAnalyticsClient.tsx`
**Line:** 196
**Context:** `{analytics?.totalViews || 0}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\analytics\InstitutionAnalyticsClient.tsx`
**Line:** 210
**Context:** `{analytics?.totalContacts || 0}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\analytics\InstitutionAnalyticsClient.tsx`
**Line:** 238
**Context:** `{analytics?.totalWebsiteClicks || 0}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\analytics\InstitutionAnalyticsClient.tsx`
**Line:** 361
**Context:** `{(!analytics?.topReferrers || analytics.topReferrers.length === 0) && (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\analytics\InstitutionAnalyticsClient.tsx`
**Line:** 405
**Context:** `{(!analytics?.recentEvents || analytics.recentEvents.length === 0) && (`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\analytics\page.tsx`
**Line:** 9
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\analytics\quiz-analytics\page.tsx`
**Line:** 106
**Context:** `if (!analytics) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\collaboration\page.tsx`
**Line:** 98
**Context:** `if (!stats) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\collaboration\page.tsx`
**Line:** 345
**Context:** `{stats.monthlyStats[stats.monthlyStats.length - 1]?.shared || 0}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\collaboration\page.tsx`
**Line:** 351
**Context:** `{stats.monthlyStats[stats.monthlyStats.length - 1]?.received || 0}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\collaboration\page.tsx`
**Line:** 357
**Context:** `{stats.monthlyStats[stats.monthlyStats.length - 1]?.copied || 0}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\content-management\page.tsx`
**Line:** 123
**Context:** `courseId: selectedContent?.courseId || courses[0]?.id,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\content-management\page.tsx`
**Line:** 202
**Context:** `const matchesType = filterType === 'all' || item.type === filterType;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\content-management\page.tsx`
**Line:** 203
**Context:** `const matchesStatus = filterStatus === 'all' || item.status === filterStatus;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\content-management\page.tsx`
**Line:** 244
**Context:** `{(isCreating || selectedContent) && (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\content-management\page.tsx`
**Line:** 255
**Context:** `initialContent={selectedContent?.blocks || []}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\content-management\page.tsx`
**Line:** 319
**Context:** `{searchTerm || filterType !== 'all' || filterStatus !== 'all'`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\add\page.tsx`
**Line:** 41
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\add\page.tsx`
**Line:** 43
**Context:** `throw new Error(error.message || 'Failed to create course');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\components\CourseForm.tsx`
**Line:** 127
**Context:** `const formData = initialFormData || {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\components\CourseForm.tsx`
**Line:** 259
**Context:** `if (!formData.categoryId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\components\CourseForm.tsx`
**Line:** 264
**Context:** `if (!formData.framework) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\components\CourseForm.tsx`
**Line:** 269
**Context:** `if (!formData.level) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\components\CourseForm.tsx`
**Line:** 274
**Context:** `if (!formData.startDate) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\components\CourseForm.tsx`
**Line:** 279
**Context:** `if (!formData.endDate) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\components\CourseForm.tsx`
**Line:** 284
**Context:** `if (!formData.maxStudents) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\components\CourseForm.tsx`
**Line:** 289
**Context:** `if (!formData.base_price) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\components\CourseForm.tsx`
**Line:** 296
**Context:** `if (!selectedCourse && courses) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\components\CourseForm.tsx`
**Line:** 552
**Context:** `{(formData.pricingPeriod === 'WEEKLY' || formData.pricingPeriod === 'MONTHLY') && (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\components\InstitutionCourseForm.tsx`
**Line:** 65
**Context:** `const hasPricingChanges = formData.base_price !== initialFormData.base_price ||`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\components\InstitutionCourseForm.tsx`
**Line:** 83
**Context:** `level: (selectedCourse.level || '').toUpperCase(),`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\components\InstitutionCourseForm.tsx`
**Line:** 84
**Context:** `status: (selectedCourse.status || 'DRAFT').toUpperCase(),`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\components\InstitutionCourseForm.tsx`
**Line:** 90
**Context:** `maxStudents: selectedCourse.maxStudents?.toString() || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\components\InstitutionCourseForm.tsx`
**Line:** 96
**Context:** `})) || []`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\components\InstitutionCourseForm.tsx`
**Line:** 106
**Context:** `if (!selectedCourse) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\components\InstitutionCourseForm.tsx`
**Line:** 178
**Context:** `if (!formData.maxStudents) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\components\InstitutionCourseForm.tsx`
**Line:** 439
**Context:** `value={formData.maxStudents || '15'}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\components\MonthlyPricingTable.tsx`
**Line:** 96
**Context:** `if (!hasFetched && initialPrices.length === 0) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\components\MonthlyPricingTable.tsx`
**Line:** 104
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\components\MonthlyPricingTable.tsx`
**Line:** 210
**Context:** `if (!bulkEditValue || isNaN(Number(bulkEditValue))) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\components\MonthlyPricingTable.tsx`
**Line:** 322
**Context:** `disabled={loading || isLoading}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\components\MonthlyPricingTable.tsx`
**Line:** 336
**Context:** `disabled={loading || isLoading}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\components\MonthlyPricingTable.tsx`
**Line:** 347
**Context:** `disabled={loading || isLoading}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\components\MonthlyPricingTable.tsx`
**Line:** 515
**Context:** `disabled={loading || isLoading}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\components\MonthlyPricingTable.tsx`
**Line:** 524
**Context:** `disabled={loading || isLoading}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\components\WeeklyPricingTable.tsx`
**Line:** 160
**Context:** `if (!isTableEditable && editableWeeks.size === 0 && !hasBasePriceChanged) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\components\WeeklyPricingTable.tsx`
**Line:** 224
**Context:** `if (!bulkEditValue || isNaN(Number(bulkEditValue))) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\components\WeeklyPricingTable.tsx`
**Line:** 277
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\components\WeeklyPricingTable.tsx`
**Line:** 279
**Context:** `throw new Error(errorData.error || 'Failed to save prices');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 126
**Context:** `institutionId: session?.user?.institutionId || ''`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 164
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 167
**Context:** `throw new Error(error.error || 'Failed to fetch courses');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 174
**Context:** `const coursesArray = Array.isArray(data) ? data : data.courses || [];`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 212
**Context:** `if (!institutionId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 257
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 259
**Context:** `throw new Error(responseData.error || 'Failed to save course');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 282
**Context:** `description: course.description || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 284
**Context:** `framework: course.framework || 'CEFR',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 291
**Context:** `pricingPeriod: course.pricingPeriod || 'FULL_COURSE',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 323
**Context:** `if (!open && hasUnsavedChanges) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 327
**Context:** `if (!open) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 343
**Context:** `institutionId: session?.user?.institutionId || ''`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 391
**Context:** `if (!selectedCourseForSettings) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 452
**Context:** `const matchesStatus = selectedStatus === 'all' || course.status === selectedStatus;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 453
**Context:** `const matchesLevel = selectedLevel === 'all' || course.level === selectedLevel;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 567
**Context:** `institutionId: session?.user?.institutionId || ''`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 649
**Context:** `<span>{course.category?.name || 'Uncategorized'}</span>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 708
**Context:** `<span>{course.category?.name || 'Uncategorized'}</span>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 776
**Context:** `value={selectedCourseForSettings?.pricingPeriod || 'FULL_COURSE'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 796
**Context:** `value={selectedCourseForSettings?.maxStudents || 15}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 832
**Context:** `if (!selectedCourseForSettings) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 854
**Context:** `if (!selectedCourseForSettings) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 931
**Context:** `<p className="text-sm text-gray-500">{module.description || 'No description'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 1003
**Context:** `institutionId: session?.user?.institutionId || ''`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 1025
**Context:** `institutionId={session?.user?.institutionId || ''}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 1029
**Context:** `if (!selectedCourse) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 1048
**Context:** `if (!open) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 1063
**Context:** `initialPrices={selectedCourseForPricing.weeklyPrices || []}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 1064
**Context:** `basePrice={selectedCourseForPricing.base_price || 0}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 1077
**Context:** `if (!open) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 1092
**Context:** `initialPrices={selectedCourseForPricing.monthlyPrices || []}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\page.tsx`
**Line:** 1093
**Context:** `basePrice={selectedCourseForPricing.base_price || 0}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\edit\page.tsx`
**Line:** 76
**Context:** `institutionId: session?.user?.institutionId || ''`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\edit\page.tsx`
**Line:** 97
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\edit\page.tsx`
**Line:** 106
**Context:** `description: data.description || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\edit\page.tsx`
**Line:** 110
**Context:** `framework: data.framework || 'CEFR',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\edit\page.tsx`
**Line:** 121
**Context:** `})) || [],`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\edit\page.tsx`
**Line:** 122
**Context:** `pricingPeriod: data.pricingPeriod || 'FULL_COURSE',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\edit\page.tsx`
**Line:** 123
**Context:** `institutionId: session?.user?.institutionId || ''`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\edit\page.tsx`
**Line:** 158
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\edit\page.tsx`
**Line:** 161
**Context:** `throw new Error(errorData.error || 'Failed to update course');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\edit\page.tsx`
**Line:** 179
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\edit\page.tsx`
**Line:** 235
**Context:** `if (!course) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\edit\page.tsx`
**Line:** 280
**Context:** `institutionId={session?.user?.institutionId || ''}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\edit\page.tsx`
**Line:** 294
**Context:** `if (!open) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\edit\page.tsx`
**Line:** 309
**Context:** `initialPrices={selectedCourseForPricing.weeklyPrices || []}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\edit\page.tsx`
**Line:** 310
**Context:** `basePrice={selectedCourseForPricing.base_price || 0}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\edit\page.tsx`
**Line:** 324
**Context:** `if (!open) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\edit\page.tsx`
**Line:** 339
**Context:** `initialPrices={selectedCourseForPricing.monthlyPrices || []}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\edit\page.tsx`
**Line:** 340
**Context:** `basePrice={selectedCourseForPricing.base_price || 0}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\enrollments\page.tsx`
**Line:** 103
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\enrollments\page.tsx`
**Line:** 107
**Context:** `setEnrollments(data || []);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\enrollments\page.tsx`
**Line:** 120
**Context:** `if (!bookings || bookings.length === 0) return '0/0 paid';`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\enrollments\page.tsx`
**Line:** 133
**Context:** `const matchesStatus = statusFilter === 'all' || enrollment.status === statusFilter;`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\new\page.tsx`
**Line:** 51
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\new\page.tsx`
**Line:** 72
**Context:** `if (!formData.skills || formData.skills.length === 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\new\page.tsx`
**Line:** 72
**Context:** `if (!formData.skills || formData.skills.length === 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\new\page.tsx`
**Line:** 85
**Context:** `framework: course?.framework || 'CEFR',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\new\page.tsx`
**Line:** 91
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\page.tsx`
**Line:** 49
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\page.tsx`
**Line:** 85
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\page.tsx`
**Line:** 163
**Context:** `{module.description || 'No description'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\new\page.tsx`
**Line:** 158
**Context:** `if (file.type.startsWith('image/') || file.type.startsWith('video/')) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\new\page.tsx`
**Line:** 196
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\new\page.tsx`
**Line:** 294
**Context:** `if (!quiz.title || quiz.questions.some(q => !q.question || (q.type === 'MULTIPLE_CHOICE' && (q.options.length < 2 || q.options.some(opt => !opt))))) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\new\page.tsx`
**Line:** 316
**Context:** `mediaUrl = uploaded.url || uploaded.fileUrl || '';`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\new\page.tsx`
**Line:** 388
**Context:** `if (!exercise.question || !exercise.answer) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\new\page.tsx`
**Line:** 388
**Context:** `if (!exercise.question || !exercise.answer) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\new\page.tsx`
**Line:** 414
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\new\page.tsx`
**Line:** 416
**Context:** `throw new Error(errorData || 'Failed to create exercise');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\new\page.tsx`
**Line:** 601
**Context:** `{filePreview && (formData.type === 'IMAGE' || formData.type === 'VIDEO') && (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\new\page.tsx`
**Line:** 803
**Context:** `{(q.options || []).map((pair: { left: string; right: string }, pIdx: number) => (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\new\page.tsx`
**Line:** 823
**Context:** `const newPairs = [...(q.options || []), { left: '', right: '' }];`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\page.tsx`
**Line:** 84
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\page.tsx`
**Line:** 111
**Context:** `if (!item.content || item.content.trim() === '') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\page.tsx`
**Line:** 149
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\page.tsx`
**Line:** 188
**Context:** `const fileName = content.split('/').pop() || 'Unknown file';`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\page.tsx`
**Line:** 306
**Context:** `if (!module) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\page.tsx`
**Line:** 345
**Context:** `{!module.contentItems || module.contentItems.length === 0 ? (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\page.tsx`
**Line:** 360
**Context:** `{item.description || 'No description'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\page.tsx`
**Line:** 432
**Context:** `{quiz.quizQuestions?.length || 0} questions`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\[contentId]\edit\page.tsx`
**Line:** 64
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\[contentId]\edit\page.tsx`
**Line:** 76
**Context:** `description: data.description || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\[contentId]\edit\page.tsx`
**Line:** 118
**Context:** `if (file.type.startsWith('image/') || file.type.startsWith('video/')) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\[contentId]\edit\page.tsx`
**Line:** 156
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\[contentId]\edit\page.tsx`
**Line:** 178
**Context:** `if (!content) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\[contentId]\edit\page.tsx`
**Line:** 275
**Context:** `{selectedFileName || 'Choose File'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\[contentId]\edit\page.tsx`
**Line:** 312
**Context:** `value={formData.url || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\content\[contentId]\edit\page.tsx`
**Line:** 363
**Context:** `onChange={(e) => setFormData(prev => ({ ...prev, order_index: parseInt(e.target.value) || 0 }))}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\edit\page.tsx`
**Line:** 68
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\edit\page.tsx`
**Line:** 75
**Context:** `description: data.description || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\edit\page.tsx`
**Line:** 78
**Context:** `estimated_duration: data.estimated_duration || 30,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\edit\page.tsx`
**Line:** 79
**Context:** `vocabulary_list: data.vocabulary_list || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\edit\page.tsx`
**Line:** 80
**Context:** `grammar_points: data.grammar_points || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\edit\page.tsx`
**Line:** 81
**Context:** `cultural_notes: data.cultural_notes || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\edit\page.tsx`
**Line:** 82
**Context:** `is_published: data.is_published || false`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\edit\page.tsx`
**Line:** 94
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\edit\page.tsx`
**Line:** 109
**Context:** `if (!skills || skills.length === 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\edit\page.tsx`
**Line:** 109
**Context:** `if (!skills || skills.length === 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\edit\page.tsx`
**Line:** 122
**Context:** `framework: course?.framework || 'CEFR',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\edit\page.tsx`
**Line:** 128
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\edit\page.tsx`
**Line:** 144
**Context:** `if (!module) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\page.tsx`
**Line:** 60
**Context:** `if (!moduleResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\page.tsx`
**Line:** 68
**Context:** `if (!quizzesResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\page.tsx`
**Line:** 104
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 54
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 85
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 116
**Context:** `if (error || !quiz) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 119
**Context:** `<p className="text-red-500 mb-4">{error || 'Quiz not found'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 204
**Context:** `onChange={(e) => updateQuizField('passing_score', parseInt(e.target.value) || 0)}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 215
**Context:** `value={quiz.time_limit || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 228
**Context:** `onChange={(e) => updateQuizField('max_attempts', parseInt(e.target.value) || 1)}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\edit\page.tsx`
**Line:** 238
**Context:** `value={quiz.description || ''}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\page.tsx`
**Line:** 52
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\page.tsx`
**Line:** 87
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\page.tsx`
**Line:** 130
**Context:** `if (error || !quiz) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\page.tsx`
**Line:** 133
**Context:** `<p className="text-red-500 mb-4">{error || 'Quiz not found'}</p>`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 65
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 101
**Context:** `const options = questionData.options || [];`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 102
**Context:** `if (options.length < 2 || options.some(opt => !opt.trim())) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 110
**Context:** `const dragItems = questionData.question_config?.dragItems || [];`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 111
**Context:** `const dropZones = questionData.question_config?.dropZones || [];`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 112
**Context:** `const correctMapping = questionData.correct_answer || '';`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 154
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 192
**Context:** `const currentOptions = questionData.options || [];`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 200
**Context:** `const currentOptions = questionData.options || [];`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 208
**Context:** `const currentOptions = questionData.options || [];`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 226
**Context:** `const options = questionData.options || ['', ''];`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 359
**Context:** `value={questionData.question_config?.leftItems?.join('\n') || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 377
**Context:** `value={questionData.question_config?.rightItems?.join('\n') || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 401
**Context:** `value={questionData.question_config?.dragItems?.join('\n') || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 419
**Context:** `value={questionData.question_config?.dropZones?.join('\n') || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 440
**Context:** `value={questionData.correct_answer || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 491
**Context:** `value={questionData.question_config?.orderItems?.join('\n') || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 522
**Context:** `if (error || !quiz) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 525
**Context:** `<p className="text-red-500 mb-4">{error || 'Quiz not found'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\new\page.tsx`
**Line:** 606
**Context:** `onChange={(e) => updateQuestionField('points', parseInt(e.target.value) || 1)}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\page.tsx`
**Line:** 51
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\page.tsx`
**Line:** 87
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\page.tsx`
**Line:** 126
**Context:** `if (error || !quiz) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\page.tsx`
**Line:** 129
**Context:** `<p className="text-red-500 mb-4">{error || 'Quiz not found'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\page.tsx`
**Line:** 207
**Context:** `{(question.type === 'MULTIPLE_CHOICE' || question.type === 'TRUE_FALSE') &&`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\page.tsx`
**Line:** 232
**Context:** `{(question.type === 'SHORT_ANSWER' || question.type === 'ESSAY' || question.type === 'FILL_IN_BLANK') &&`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 87
**Context:** `if (!quizResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 95
**Context:** `if (!questionResponse.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 128
**Context:** `type: questionData.type || 'MULTIPLE_CHOICE',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 129
**Context:** `question: questionData.question || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 130
**Context:** `points: questionData.points || 1,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 132
**Context:** `correct_answer: questionData.correct_answer || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 133
**Context:** `explanation: questionData.explanation || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 134
**Context:** `difficulty: questionData.difficulty || 'MEDIUM',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 135
**Context:** `category: questionData.category || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 136
**Context:** `hints: questionData.hints || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 138
**Context:** `media_url: questionData.media_url || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 139
**Context:** `media_type: questionData.media_type || ''`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 198
**Context:** `const dragItems = formData.question_config?.dragItems || [];`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 199
**Context:** `const dropZones = formData.question_config?.dropZones || [];`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 200
**Context:** `const correctMapping = formData.correct_answer || '';`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 242
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 268
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 419
**Context:** `value={formData.question_config?.leftItems?.join('\n') || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 437
**Context:** `value={formData.question_config?.rightItems?.join('\n') || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 461
**Context:** `value={formData.question_config?.dragItems?.join('\n') || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 479
**Context:** `value={formData.question_config?.dropZones?.join('\n') || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 500
**Context:** `value={formData.correct_answer || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 551
**Context:** `value={formData.question_config?.orderItems?.join('\n') || ''}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 587
**Context:** `if (!quiz || !question) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 587
**Context:** `if (!quiz || !question) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\modules\[moduleId]\quizzes\[quizId]\questions\[questionId]\edit\page.tsx`
**Line:** 676
**Context:** `onChange={(e) => setFormData({ ...formData, points: parseInt(e.target.value) || 1 })}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\page.tsx`
**Line:** 97
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\page.tsx`
**Line:** 185
**Context:** `if (error || !course) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\page.tsx`
**Line:** 190
**Context:** `<p className="text-gray-600 mb-6">{error || 'The requested course could not be found.'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\page.tsx`
**Line:** 271
**Context:** `<div className="text-2xl font-bold text-orange-600">{course._count?.bookings || 0}</div>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\page.tsx`
**Line:** 283
**Context:** `Modules ({course.modules?.length || 0})`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\page.tsx`
**Line:** 380
**Context:** `<span>Framework: {course.framework || 'CEFR'}</span>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\courses\[id]\page.tsx`
**Line:** 413
**Context:** `backgroundColor: ct.tag.color || '#6b7280',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\dashboard\DashboardClient.tsx`
**Line:** 101
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\dashboard\DashboardClient.tsx`
**Line:** 103
**Context:** `throw new Error(errorData.error || 'Failed to approve payment');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\dashboard\DashboardClient.tsx`
**Line:** 328
**Context:** `{(student.enrollmentCount || 0)} courses`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\dashboard\page.tsx`
**Line:** 10
**Context:** `if (!session?.user?.institutionId) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\dashboard\page.tsx`
**Line:** 74
**Context:** `}).then(result => result._sum.institutionAmount || 0),`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\dashboard\page.tsx`
**Line:** 198
**Context:** `const institutionAmount = payment?.metadata?.institutionAmount ||`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\dashboard\page.tsx`
**Line:** 203
**Context:** `paymentAmount: payment?.amount || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\dashboard\page.tsx`
**Line:** 205
**Context:** `commissionAmount: payment?.metadata?.commissionAmount || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\dashboard\page.tsx`
**Line:** 206
**Context:** `paymentStatus: payment?.status || 'NO_PAYMENT',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\dashboard\page.tsx`
**Line:** 207
**Context:** `paymentMethod: payment?.paymentMethod || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\dashboard\page.tsx`
**Line:** 309
**Context:** `const student = studentMap.get(enrollment?.studentId || '');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\dashboard\page.tsx`
**Line:** 311
**Context:** `if (!enrollment || !student) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\dashboard\page.tsx`
**Line:** 311
**Context:** `if (!enrollment || !student) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\layout.tsx`
**Line:** 19
**Context:** `if (!session?.user || session.user.role !== 'INSTITUTION') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\layout.tsx`
**Line:** 19
**Context:** `if (!session?.user || session.user.role !== 'INSTITUTION') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\layout.tsx`
**Line:** 31
**Context:** `if (!institution?.isApproved) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\payments\page.tsx`
**Line:** 117
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\payments\page.tsx`
**Line:** 119
**Context:** `throw new Error(errorData.error || 'Failed to approve payment');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\payments\page.tsx`
**Line:** 169
**Context:** `if (!paymentSettings || !institutionId) return false;`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\payments\page.tsx`
**Line:** 172
**Context:** `if (!paymentSettings.allowInstitutionPaymentApproval) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\payments\page.tsx`
**Line:** 207
**Context:** `const matchesStatus = selectedStatus === 'all' || payment.status === selectedStatus;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\payments\page.tsx`
**Line:** 211
**Context:** `if (status === 'loading' || loading) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\payments\page.tsx`
**Line:** 244
**Context:** `{filteredPayments.filter(p => p.status === 'PENDING' || p.status === 'PROCESSING').length}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\payments\page.tsx`
**Line:** 372
**Context:** `{(payment.status === 'PENDING' || payment.status === 'PROCESSING') && canApprovePayment(payment) && (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\payments\page.tsx`
**Line:** 399
**Context:** `{(payment.status === 'PENDING' || payment.status === 'PROCESSING') && !canApprovePayment(payment) && (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\payments\PaymentsClient.tsx`
**Line:** 145
**Context:** `${payment.amount.toFixed(2)} {payment.currency || 'USD'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\payments\PaymentsClient.tsx`
**Line:** 151
**Context:** `${payment.metadata?.commissionAmount?.toFixed(2) || '0.00'} (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\payments\PaymentsClient.tsx`
**Line:** 152
**Context:** `{payment.metadata?.commissionRate || '0'}%)`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\payments\PaymentsClient.tsx`
**Line:** 158
**Context:** `${payment.metadata?.institutionAmount?.toFixed(2) || payment.amount.toFixed(2)}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\00institution-profile.tsx`
**Line:** 100
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\00institution-profile.tsx`
**Line:** 128
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\00institution-profile.tsx`
**Line:** 157
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\00institution-profile.tsx`
**Line:** 186
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\00institution-profile.tsx`
**Line:** 216
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\00institution-profile.tsx`
**Line:** 251
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\00institution-profile.tsx`
**Line:** 371
**Context:** `)) || (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\00institution-profile.tsx`
**Line:** 387
**Context:** `disabled={!formData.country || !formData.state}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\00institution-profile.tsx`
**Line:** 623
**Context:** `{(formData.facilities?.length || 0) < 5 && (`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 80
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 117
**Context:** `name: institutionData.name || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 118
**Context:** `description: institutionData.description || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 119
**Context:** `address: institutionData.address || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 120
**Context:** `city: institutionData.city || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 121
**Context:** `state: institutionData.state || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 122
**Context:** `country: institutionData.country || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 123
**Context:** `postcode: institutionData.postcode || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 124
**Context:** `email: institutionData.email || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 125
**Context:** `website: institutionData.website || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 126
**Context:** `institutionEmail: institutionData.institutionEmail || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 127
**Context:** `telephone: institutionData.telephone || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 128
**Context:** `contactName: institutionData.contactName || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 129
**Context:** `contactJobTitle: institutionData.contactJobTitle || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 130
**Context:** `contactPhone: institutionData.contactPhone || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 131
**Context:** `contactEmail: institutionData.contactEmail || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 132
**Context:** `logoUrl: institutionData.logoUrl || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 133
**Context:** `mainImageUrl: institutionData.mainImageUrl || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 135
**Context:** `setSelectedCountry(institutionData.country || '');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 136
**Context:** `setSelectedState(institutionData.state || '');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 137
**Context:** `setLogoPreview(institutionData.logoUrl || null);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 138
**Context:** `setMainImagePreview(institutionData.mainImageUrl || null);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 220
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 248
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 270
**Context:** `formData.append('institutionId', institution?.id || '');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 277
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 311
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 339
**Context:** `if (!formData.country) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 342
**Context:** `if (!formData.state) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 405
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 442
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 470
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\institution-profile.tsx`
**Line:** 837
**Context:** `if (!showAnalytics && !analytics) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\profile\page.tsx`
**Line:** 9
**Context:** `if (!session?.user) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\page.tsx`
**Line:** 124
**Context:** `const matchesCategory = !selectedCategory || bank.category === selectedCategory;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\page.tsx`
**Line:** 222
**Context:** `if (!editingBank || !formData.name.trim()) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\page.tsx`
**Line:** 363
**Context:** `if (!importFile) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\page.tsx`
**Line:** 436
**Context:** `description: bank.description || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\page.tsx`
**Line:** 437
**Context:** `category: bank.category || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\page.tsx`
**Line:** 455
**Context:** `const matchesCategory = !selectedCategory || bank.category === selectedCategory;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\page.tsx`
**Line:** 469
**Context:** `const matchesCategory = !selectedCategory || bank.category === selectedCategory;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\page.tsx`
**Line:** 610
**Context:** `onChange={(e) => setImportFile(e.target.files?.[0] || null)}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\page.tsx`
**Line:** 738
**Context:** `<p className="text-2xl font-bold">{questionBanks.reduce((sum, bank) => sum + (bank.question_count || 0), 0)}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\page.tsx`
**Line:** 879
**Context:** `{bank.description || 'No description'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\page.tsx`
**Line:** 981
**Context:** `{bank.question_count || 0} questions`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\page.tsx`
**Line:** 1152
**Context:** `{searchTerm || selectedCategory`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\page.tsx`
**Line:** 152
**Context:** `const matchesType = selectedType === 'all' || question.question_type === selectedType;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\page.tsx`
**Line:** 153
**Context:** `const matchesDifficulty = selectedDifficulty === 'all' || question.difficulty_level === selectedDifficulty;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\page.tsx`
**Line:** 154
**Context:** `const matchesCategory = selectedCategory === 'all' || question.category === selectedCategory;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\page.tsx`
**Line:** 248
**Context:** `if (!editingQuestion || !formData.question_text.trim()) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\page.tsx`
**Line:** 335
**Context:** `if (!importFile) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\page.tsx`
**Line:** 370
**Context:** `explanation: question.explanation || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\page.tsx`
**Line:** 372
**Context:** `category: question.category || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\page.tsx`
**Line:** 390
**Context:** `const matchesType = selectedType === 'all' || question.question_type === selectedType;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\page.tsx`
**Line:** 391
**Context:** `const matchesDifficulty = selectedDifficulty === 'all' || question.difficulty_level === selectedDifficulty;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\page.tsx`
**Line:** 392
**Context:** `const matchesCategory = selectedCategory === 'all' || question.category === selectedCategory;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\page.tsx`
**Line:** 406
**Context:** `const matchesType = selectedType === 'all' || question.question_type === selectedType;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\page.tsx`
**Line:** 407
**Context:** `const matchesDifficulty = selectedDifficulty === 'all' || question.difficulty_level === selectedDifficulty;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\page.tsx`
**Line:** 408
**Context:** `const matchesCategory = selectedCategory === 'all' || question.category === selectedCategory;`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\page.tsx`
**Line:** 452
**Context:** `if (!questionBank) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\page.tsx`
**Line:** 481
**Context:** `{questionBank.description || 'No description'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\page.tsx`
**Line:** 503
**Context:** `onChange={(e) => setImportFile(e.target.files?.[0] || null)}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\page.tsx`
**Line:** 609
**Context:** `onChange={(e) => setFormData({ ...formData, points: parseInt(e.target.value) || 1 })}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\page.tsx`
**Line:** 783
**Context:** `{QUESTION_TYPES.find(t => t.value === type)?.label || type}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\page.tsx`
**Line:** 887
**Context:** `{QUESTION_TYPES.find(t => t.value === question.question_type)?.label || question.question_type}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\page.tsx`
**Line:** 1044
**Context:** `onChange={(e) => setFormData({ ...formData, points: parseInt(e.target.value) || 1 })}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\page.tsx`
**Line:** 1105
**Context:** `{searchTerm || selectedType !== 'all' || selectedDifficulty !== 'all' || selectedCategory !== 'all'`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\share\page.tsx`
**Line:** 138
**Context:** `const matchesType = selectedType === 'all' || question.question_type === selectedType;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\share\page.tsx`
**Line:** 139
**Context:** `const matchesDifficulty = selectedDifficulty === 'all' || question.difficulty === selectedDifficulty;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\share\page.tsx`
**Line:** 140
**Context:** `const matchesSharing = selectedSharingLevel === 'all' ||`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\share\page.tsx`
**Line:** 277
**Context:** `const matchesType = selectedType === 'all' || question.question_type === selectedType;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\share\page.tsx`
**Line:** 278
**Context:** `const matchesDifficulty = selectedDifficulty === 'all' || question.difficulty === selectedDifficulty;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\share\page.tsx`
**Line:** 279
**Context:** `const matchesSharing = selectedSharingLevel === 'all' ||`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\share\page.tsx`
**Line:** 296
**Context:** `const matchesType = selectedType === 'all' || question.question_type === selectedType;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\share\page.tsx`
**Line:** 297
**Context:** `const matchesDifficulty = selectedDifficulty === 'all' || question.difficulty === selectedDifficulty;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\share\page.tsx`
**Line:** 298
**Context:** `const matchesSharing = selectedSharingLevel === 'all' ||`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\share\page.tsx`
**Line:** 325
**Context:** `if (!questionBank) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\share\page.tsx`
**Line:** 590
**Context:** `{QUESTION_TYPES.find(t => t.value === type)?.label || type}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\share\page.tsx`
**Line:** 694
**Context:** `{QUESTION_TYPES.find(t => t.value === question.question_type)?.label || question.question_type}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-banks\[id]\share\page.tsx`
**Line:** 787
**Context:** `{searchTerm || selectedType !== 'all' || selectedDifficulty !== 'all' || selectedSharingLevel !== 'all'`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-templates\page.tsx`
**Line:** 244
**Context:** `const matchesType = selectedType === 'all' || template.question_type === selectedType;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-templates\page.tsx`
**Line:** 245
**Context:** `const matchesDifficulty = selectedDifficulty === 'all' || template.template_data.difficulty_level === selectedDifficulty;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-templates\page.tsx`
**Line:** 246
**Context:** `const matchesCategory = selectedCategory === 'all' || template.template_data.tags.includes(selectedCategory);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-templates\page.tsx`
**Line:** 347
**Context:** `{QUESTION_TYPES.find(t => t.value === type)?.label || type}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-templates\page.tsx`
**Line:** 464
**Context:** `{searchTerm || selectedType !== 'all'`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\question-templates\page.tsx`
**Line:** 581
**Context:** `template_data: { ...prev.template_data, points: parseInt(e.target.value) || 1 }`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\quizzes\page.tsx`
**Line:** 114
**Context:** `setQuizzes(data.quizzes || []);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\quizzes\page.tsx`
**Line:** 115
**Context:** `setStats(data.stats || null);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\quizzes\page.tsx`
**Line:** 133
**Context:** `const coursesArray = Array.isArray(data) ? data : data.courses || [];`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\quizzes\page.tsx`
**Line:** 181
**Context:** `if (!selectedCourseForQuiz || !selectedModuleForQuiz) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\quizzes\page.tsx`
**Line:** 181
**Context:** `if (!selectedCourseForQuiz || !selectedModuleForQuiz) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\quizzes\page.tsx`
**Line:** 216
**Context:** `const matchesType = selectedType === 'all' || quiz.quiz_type === selectedType;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\quizzes\page.tsx`
**Line:** 217
**Context:** `const matchesDifficulty = selectedDifficulty === 'all' || quiz.difficulty === selectedDifficulty;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\quizzes\page.tsx`
**Line:** 218
**Context:** `const matchesCourse = selectedCourse === 'all' || quiz.module.course.id === selectedCourse;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\quizzes\page.tsx`
**Line:** 322
**Context:** `<Button onClick={handleCreateQuizSubmit} disabled={!selectedCourseForQuiz || !selectedModuleForQuiz}>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\quizzes\page.tsx`
**Line:** 465
**Context:** `{searchTerm || selectedType !== 'all' || selectedDifficulty !== 'all' || selectedCourse !== 'all'`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\settings\page.tsx`
**Line:** 125
**Context:** `if (!session?.user?.role || session.user.role !== 'INSTITUTION') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\settings\page.tsx`
**Line:** 125
**Context:** `if (!session?.user?.role || session.user.role !== 'INSTITUTION') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\settings\page.tsx`
**Line:** 449
**Context:** `{log.changedByUser?.name || 'System'}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\setup\page.tsx`
**Line:** 10
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\setup\page.tsx`
**Line:** 19
**Context:** `if (!user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\setup\page.tsx`
**Line:** 46
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\shared-questions\page.tsx`
**Line:** 170
**Context:** `const matchesType = selectedType === 'all' || question.question_type === selectedType;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\shared-questions\page.tsx`
**Line:** 171
**Context:** `const matchesDifficulty = selectedDifficulty === 'all' || question.difficulty === selectedDifficulty;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\shared-questions\page.tsx`
**Line:** 172
**Context:** `const matchesCategory = selectedCategory === 'all' || question.category === selectedCategory;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\shared-questions\page.tsx`
**Line:** 173
**Context:** `const matchesInstitution = selectedInstitution === 'all' || question.institution.id === selectedInstitution;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\shared-questions\page.tsx`
**Line:** 333
**Context:** `{QUESTION_TYPES.find(t => t.value === type)?.label || type}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\shared-questions\page.tsx`
**Line:** 379
**Context:** `{institution?.name || 'Unknown'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\shared-questions\page.tsx`
**Line:** 459
**Context:** `{QUESTION_TYPES.find(t => t.value === question.question_type)?.label || question.question_type}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\shared-questions\page.tsx`
**Line:** 611
**Context:** `{searchTerm || selectedType !== 'all' || selectedDifficulty !== 'all' || selectedCategory !== 'all' || selectedInstitution !== 'all'`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\students\page.tsx`
**Line:** 120
**Context:** `const matchesStatus = statusFilter === 'all' || student.status === statusFilter;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\students\[id]\page.tsx`
**Line:** 106
**Context:** `if (!session?.user?.role || (session.user.role !== 'INSTITUTION' && session.user.role !== 'ADMIN')) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\students\[id]\page.tsx`
**Line:** 118
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\students\[id]\page.tsx`
**Line:** 136
**Context:** `if (isNaN(start.getTime()) || isNaN(end.getTime())) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\students\[id]\page.tsx`
**Line:** 167
**Context:** `const originalStartDate = new Date(student?.enrolledCourses.find(c => c.id === editingEnrollment.id)?.start_date || '').toISOString().split('T')[0];`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\students\[id]\page.tsx`
**Line:** 168
**Context:** `const originalEndDate = new Date(student?.enrolledCourses.find(c => c.id === editingEnrollment.id)?.end_date || '').toISOString().split('T')[0];`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\students\[id]\page.tsx`
**Line:** 169
**Context:** `const hasDateChanges = newDates.startDate !== originalStartDate || newDates.endDate !== originalEndDate;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\students\[id]\page.tsx`
**Line:** 224
**Context:** `if (!editingEnrollment || !editingEnrollment.dates) return;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\students\[id]\page.tsx`
**Line:** 229
**Context:** `if (!reason || reason.trim() === '') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\students\[id]\page.tsx`
**Line:** 234
**Context:** `if (!confirmed) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\students\[id]\page.tsx`
**Line:** 262
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\students\[id]\page.tsx`
**Line:** 264
**Context:** `throw new Error(errorData.error || 'Failed to update enrollment dates');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\students\[id]\page.tsx`
**Line:** 308
**Context:** `if (!student) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\students\[id]\page.tsx`
**Line:** 343
**Context:** `{ label: student?.name || 'Student Details', href: `/institution/students/${params.id}` }`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\students\[id]\page.tsx`
**Line:** 445
**Context:** `if (!open) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\students\[id]\page.tsx`
**Line:** 509
**Context:** `value={editingEnrollment?.dates?.startDate || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\students\[id]\page.tsx`
**Line:** 520
**Context:** `value={editingEnrollment?.dates?.endDate || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\students\[id]\page.tsx`
**Line:** 523
**Context:** `min={editingEnrollment?.dates?.startDate || new Date().toISOString().split('T')[0]}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\students\[id]\page.tsx`
**Line:** 530
**Context:** `value={editingEnrollment?.reason || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\students\[id]\page.tsx`
**Line:** 549
**Context:** `value={editingEnrollment?.notes || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\students\[id]\page.tsx`
**Line:** 563
**Context:** `checked={editingEnrollment?.confirmed || false}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\students\[id]\page.tsx`
**Line:** 583
**Context:** `disabled={savingDates || !!dateError || !hasChanges || !editingEnrollment?.reason || !editingEnrollment?.confirmed}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution\students\[id]\page.tsx`
**Line:** 584
**Context:** `className={(!hasChanges || !editingEnrollment?.reason || !editingEnrollment?.confirmed) ? 'opacity-50 cursor-not-allowed' : ''}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution-registration\page.tsx`
**Line:** 150
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institution-registration\page.tsx`
**Line:** 151
**Context:** `throw new Error(data.error || data.details || 'Failed to register institution');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institutions\[id]\page.tsx`
**Line:** 43
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institutions\[id]\page.tsx`
**Line:** 81
**Context:** `if (error || !institution) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institutions\[id]\page.tsx`
**Line:** 87
**Context:** `<p className="text-gray-600 mb-6">{error || 'The institution you are looking for does not exist.'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institutions\[id]\page.tsx`
**Line:** 118
**Context:** `src={institution.mainImage || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institutions\[id]\page.tsx`
**Line:** 137
**Context:** `src={institution.logo || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institutions\[id]\page.tsx`
**Line:** 219
**Context:** `Available Courses ({institution.courses?.filter(course => course.status === 'ACTIVE' || course.status === 'PUBLISHED').length || 0})`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institutions\[id]\page.tsx`
**Line:** 222
**Context:** `{institution.courses?.filter(course => course.status === 'ACTIVE' || course.status === 'PUBLISHED').length > 0 ? (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\institutions\[id]\page.tsx`
**Line:** 224
**Context:** `{institution.courses?.filter(course => course.status === 'ACTIVE' || course.status === 'PUBLISHED').map((course) => (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\layout.tsx`
**Line:** 31
**Context:** `metadataBase: new URL(process.env.NEXT_PUBLIC_BASE_URL || 'https://fluentish.com'),`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\layout.tsx`
**Line:** 101
**Context:** `google: process.env.GOOGLE_VERIFICATION_CODE || "your-google-verification-code",`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\layout.tsx`
**Line:** 102
**Context:** `yandex: process.env.YANDEX_VERIFICATION_CODE || "your-yandex-verification-code",`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\layout.tsx`
**Line:** 103
**Context:** `bing: process.env.BING_VERIFICATION_CODE || "your-bing-verification-code"`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\lib\invoice-handlers.ts`
**Line:** 9
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\lib\invoice-handlers.ts`
**Line:** 11
**Context:** `throw new Error(error.message || 'Failed to send invoice');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\lib\invoice-handlers.ts`
**Line:** 25
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\lib\invoice-handlers.ts`
**Line:** 27
**Context:** `throw new Error(error.message || 'Failed to download invoice');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\lib\migrations\commission-setup.ts`
**Line:** 19
**Context:** `if (!existingCommission) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\lib\migrations\commission-setup.ts`
**Line:** 95
**Context:** `if (!existingPayout) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\lib\migrations\commission-setup.ts`
**Line:** 104
**Context:** `paymentMethod: payment.metadata?.paymentMethod || 'UNKNOWN',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\lib\payment-service.ts`
**Line:** 5
**Context:** `if (!process.env.STRIPE_SECRET_KEY) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\lib\payment-service.ts`
**Line:** 39
**Context:** `if (!enrollment) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\lib\payment-service.ts`
**Line:** 84
**Context:** `if (!enrollment) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\lib\payment-service.ts`
**Line:** 100
**Context:** `const amount = booking?.amount || enrollment.course.base_price;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\lib\payment-service.ts`
**Line:** 116
**Context:** `paymentId: metadata.referenceNumber || `MANUAL_${Date.now()}`,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\lib\payment-service.ts`
**Line:** 128
**Context:** `paymentId: metadata.referenceNumber || `MANUAL_${Date.now()}`,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\lib\payment-service.ts`
**Line:** 147
**Context:** `paymentId: metadata.referenceNumber || `MANUAL_${Date.now()}`,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\lib\payment-service.ts`
**Line:** 239
**Context:** `paymentError: paymentIntent.last_payment_error?.message || 'Payment failed',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\lib\reminder-scheduler.ts`
**Line:** 83
**Context:** `if (!existingReminder) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\lib\utils.ts`
**Line:** 54
**Context:** `return commonCurrencySymbols[currencyCode] || currencyCode;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\lib\utils.ts`
**Line:** 120
**Context:** `name: new Intl.DisplayNames(['en'], { type: 'currency' }).of(currencyCode) || currencyCode,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\lib\utils.ts`
**Line:** 122
**Context:** `decimalSeparator: parts.find(part => part.type === 'decimal')?.value || '.',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\lib\utils.ts`
**Line:** 123
**Context:** `groupSeparator: parts.find(part => part.type === 'group')?.value || ',',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\lib\utils.ts`
**Line:** 124
**Context:** `fractionDigits: parts.find(part => part.type === 'fraction')?.value.length || 2,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\lib\utils.ts`
**Line:** 130
**Context:** `symbol: commonCurrencySymbols[currencyCode] || currencyCode,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\mobile-testing\page.tsx`
**Line:** 160
**Context:** `if (!isClient) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\offline\page.tsx`
**Line:** 311
**Context:** `{!isOnline && (syncStatus.pendingActions > 0 || syncStatus.pendingProgress > 0 || syncStatus.pendingQuizzes > 0) && (`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\reset-password\page.tsx`
**Line:** 44
**Context:** `if (!data.forcePasswordReset) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\reset-password\page.tsx`
**Line:** 114
**Context:** `setError(data.error || 'Failed to update password');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\reset-password\page.tsx`
**Line:** 227
**Context:** `if (!token || !email) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\reset-password\page.tsx`
**Line:** 227
**Context:** `if (!token || !email) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\robots.ts`
**Line:** 4
**Context:** `const baseUrl = process.env.NEXT_PUBLIC_BASE_URL || 'https://fluentish.com'`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\settings\page.tsx`
**Line:** 59
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\settings\page.tsx`
**Line:** 61
**Context:** `throw new Error(errorData.message || 'Failed to fetch settings');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\settings\page.tsx`
**Line:** 85
**Context:** `if (!formData.currentPassword) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\settings\page.tsx`
**Line:** 109
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\settings\page.tsx`
**Line:** 111
**Context:** `throw new Error(errorData.message || 'Failed to update settings');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\settings\page.tsx`
**Line:** 215
**Context:** `<p><span className="font-medium">Member Since:</span> {new Date(settings?.createdAt || '').toLocaleDateString()}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\sitemap.ts`
**Line:** 4
**Context:** `const baseUrl = process.env.NEXT_PUBLIC_BASE_URL || 'https://fluentish.com'`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\components\EnrollmentModal.tsx`
**Line:** 103
**Context:** `if (!isValid(courseStartDate) || !isValid(courseEndDate)) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\components\EnrollmentModal.tsx`
**Line:** 162
**Context:** `if (!isOpen) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\components\EnrollmentModal.tsx`
**Line:** 201
**Context:** `pricingPeriod: pricingPeriod || course?.pricingPeriod || 'FULL_COURSE'`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\components\EnrollmentModal.tsx`
**Line:** 210
**Context:** `throw new Error(data.details || 'Failed to calculate price');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\components\EnrollmentModal.tsx`
**Line:** 221
**Context:** `if (!date || !isValid(date) || !course) return;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\components\EnrollmentModal.tsx`
**Line:** 280
**Context:** `if (!date || !isValid(date) || !selectedStartDate || !course) return;`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\components\EnrollmentModal.tsx`
**Line:** 321
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\components\EnrollmentModal.tsx`
**Line:** 323
**Context:** `throw new Error(error.message || 'Failed to enroll in course');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\components\EnrollmentModal.tsx`
**Line:** 354
**Context:** `const pricingPeriod = enrollmentDetails?.pricingPeriod || course.pricingPeriod;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\components\EnrollmentModal.tsx`
**Line:** 410
**Context:** `{isLoading || !course ? (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\components\EnrollmentModal.tsx`
**Line:** 421
**Context:** `<p><strong>Institution:</strong> {course.institution?.name || 'Not assigned'}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\components\EnrollmentModal.tsx`
**Line:** 423
**Context:** `<p><strong>Pricing Model:</strong> {(enrollmentDetails?.pricingPeriod || course.pricingPeriod || 'FULL_COURSE').replace('_', ' ')}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\components\EnrollmentModal.tsx`
**Line:** 509
**Context:** `disabled={isLoading || !termsAccepted || !enrollmentDetails}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\components\MobileStudentNav.tsx`
**Line:** 50
**Context:** `const isActive = pathname === item.href ||`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\components\PayCourseButton.tsx`
**Line:** 59
**Context:** `}>(initialPaymentStatus || { status: 'idle' });`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\components\PayCourseButton.tsx`
**Line:** 66
**Context:** `if (!session) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\components\PayCourseButton.tsx`
**Line:** 71
**Context:** `if (!selectedPaymentMethod) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\components\PayCourseButton.tsx`
**Line:** 88
**Context:** `amount: enrollmentDetails?.price || amount,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\components\PayCourseButton.tsx`
**Line:** 95
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\components\PayCourseButton.tsx`
**Line:** 96
**Context:** `throw new Error(data.error || data.details || 'Failed to process payment');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\components\PayCourseButton.tsx`
**Line:** 194
**Context:** `<p><span className="font-medium">Amount:</span> {formatCurrency(enrollmentDetails?.price || amount)}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\components\PayCourseButton.tsx`
**Line:** 261
**Context:** `{(selectedPaymentMethod === 'BANK_TRANSFER' || selectedPaymentMethod === 'OFFLINE') && (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\components\PayCourseButton.tsx`
**Line:** 305
**Context:** `disabled={isLoading || paymentStatus.status === 'success' || !selectedPaymentMethod || !session}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\components\StudentDashboardNav.tsx`
**Line:** 84
**Context:** `const isActive = pathname === item.href ||`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\courses\page.tsx`
**Line:** 165
**Context:** `const needsPayment = course.status === 'PENDING_PAYMENT' || course.hasOutstandingPayment;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\courses\page.tsx`
**Line:** 168
**Context:** `const hasPendingPayment = course.payment?.status === 'PROCESSING' || course.payment?.status === 'INITIATED';`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\courses\page.tsx`
**Line:** 250
**Context:** `amount={course.enrollmentDetails?.price || course.payment?.amount || course.base_price || 0}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\courses\page.tsx`
**Line:** 252
**Context:** `institutionName={course.institution?.name || 'Not assigned'}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\courses\payment\success\page.tsx`
**Line:** 11
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\courses\payment\success\page.tsx`
**Line:** 34
**Context:** `if (!payment) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\courses\[id]\modules\[moduleId]\page.tsx`
**Line:** 209
**Context:** `if (!module || !course) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\courses\[id]\modules\[moduleId]\page.tsx`
**Line:** 209
**Context:** `if (!module || !course) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\courses\[id]\modules\[moduleId]\page.tsx`
**Line:** 416
**Context:** `attempts={quizAttempts[quiz.id] || []}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\courses\[id]\page.tsx`
**Line:** 130
**Context:** `if (!course) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\courses\[id]\page.tsx`
**Line:** 259
**Context:** `return !progress.contentCompleted || !progress.exercisesCompleted || !progress.quizCompleted;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\courses\[id]\page.tsx`
**Line:** 320
**Context:** `progress={module.progress[0] || {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\courses\[id]\payment\page.tsx`
**Line:** 11
**Context:** `if (!process.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\courses\[id]\payment\page.tsx`
**Line:** 31
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\courses\[id]\payment\page.tsx`
**Line:** 45
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\courses\[id]\payment\page.tsx`
**Line:** 61
**Context:** `if (status === 'loading' || loading) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\courses\[id]\payment\page.tsx`
**Line:** 85
**Context:** `if (!paymentData) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\layout.tsx`
**Line:** 15
**Context:** `if (!session?.user) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\page.tsx`
**Line:** 414
**Context:** `{courses.filter(c => c.status === 'ACTIVE' || c.status === 'IN_PROGRESS').slice(0, 3).map((course) => (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\page_backup.tsx`
**Line:** 415
**Context:** `{courses.filter(c => c.status === 'ACTIVE' || c.status === 'IN_PROGRESS').slice(0, 3).map((course) => (`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\payments\history\page.tsx`
**Line:** 13
**Context:** `if (!session?.user) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\payments\history\page.tsx`
**Line:** 56
**Context:** `{payment.enrollment?.course.title || 'Course Payment'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\payments\history\page.tsx`
**Line:** 86
**Context:** `{payment.enrollment?.course.institution.name || 'N/A'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\payments\history\page.tsx`
**Line:** 96
**Context:** `institutionName={payment.enrollment.course.institution?.name || 'N/A'}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\payments\page.tsx`
**Line:** 16
**Context:** `if (!session?.user) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\payments\page.tsx`
**Line:** 82
**Context:** `{formatCurrency(paymentStats._sum.amount || 0)}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\payments\page.tsx`
**Line:** 121
**Context:** `{payment.enrollment?.course.title || 'Course Payment'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\payments\page.tsx`
**Line:** 143
**Context:** `{payment.enrollment?.course.institution.name || 'N/A'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\payments\page.tsx`
**Line:** 153
**Context:** `institutionName={payment.enrollment.course.institution?.name || 'N/A'}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\payments\process\[paymentId]\page.tsx`
**Line:** 20
**Context:** `if (!session?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\payments\process\[paymentId]\page.tsx`
**Line:** 49
**Context:** `if (!payment) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\profile\page.tsx`
**Line:** 92
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\profile\page.tsx`
**Line:** 126
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\progress\page.tsx`
**Line:** 144
**Context:** `setCourses(data.courses || []);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\progress\page.tsx`
**Line:** 145
**Context:** `setStats(data.stats || {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\progress\page.tsx`
**Line:** 160
**Context:** `setRecentModules(modulesData || []);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\progress\page.tsx`
**Line:** 168
**Context:** `setAchievements(achievementsData || []);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\settings\page.tsx`
**Line:** 50
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\settings\page.tsx`
**Line:** 83
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\settings\page.tsx`
**Line:** 85
**Context:** `throw new Error(error.message || 'Failed to update profile');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\settings\page.tsx`
**Line:** 118
**Context:** `if (!profile) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\settings\page.tsx`
**Line:** 196
**Context:** `value={profile.phone || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\settings\page.tsx`
**Line:** 206
**Context:** `value={profile.address || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\student\settings\page.tsx`
**Line:** 217
**Context:** `value={profile.bio || ''}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\subscription-signup\page.tsx`
**Line:** 263
**Context:** `if (!selectedPlan || !session?.user?.id) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\subscription-signup\page.tsx`
**Line:** 263
**Context:** `if (!selectedPlan || !session?.user?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\subscription-signup\page.tsx`
**Line:** 271
**Context:** `if (!plan) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\subscription-signup\page.tsx`
**Line:** 291
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\subscription-signup\page.tsx`
**Line:** 293
**Context:** `throw new Error(error.error || 'Failed to create payment intent');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\subscription-signup\page.tsx`
**Line:** 310
**Context:** `if (!plan) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\test-auth\page.tsx`
**Line:** 31
**Context:** `<p><strong>Institution ID:</strong> {session.user.institutionId || 'None'}</p>`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\_admin_backup\course-categories.tsx`
**Line:** 73
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\_admin_backup\course-categories.tsx`
**Line:** 75
**Context:** `throw new Error(error || 'Failed to save category');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\_admin_backup\course-categories.tsx`
**Line:** 94
**Context:** `description: category.description || '',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\_admin_backup\course-categories.tsx`
**Line:** 107
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\_admin_backup\course-categories.tsx`
**Line:** 109
**Context:** `throw new Error(error || 'Failed to delete category');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\_admin_backup\CourseForm.tsx`
**Line:** 123
**Context:** `if (!data.categoryId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\_admin_backup\CourseForm.tsx`
**Line:** 126
**Context:** `if (!data.institutionId) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\_admin_backup\CourseForm.tsx`
**Line:** 129
**Context:** `if (!data.base_price || isNaN(Number(data.base_price)) || Number(data.base_price) < 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\_admin_backup\CourseForm.tsx`
**Line:** 132
**Context:** `if (!data.duration || isNaN(Number(data.duration)) || Number(data.duration) <= 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\_admin_backup\CourseForm.tsx`
**Line:** 135
**Context:** `if (!data.maxStudents || isNaN(Number(data.maxStudents)) || Number(data.maxStudents) <= 0) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\_admin_backup\CourseForm.tsx`
**Line:** 138
**Context:** `if (!data.startDate) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\_admin_backup\CourseForm.tsx`
**Line:** 141
**Context:** `if (!data.endDate) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\_admin_backup\CourseForm.tsx`
**Line:** 450
**Context:** `<SelectValue>{frameworkInfo.label || 'Select framework'}</SelectValue>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\_admin_backup\CourseForm.tsx`
**Line:** 541
**Context:** `value={formData.priority || '0'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\_admin_backup\CourseForm.tsx`
**Line:** 559
**Context:** `checked={formData.isFeatured || false}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\_admin_backup\CourseForm.tsx`
**Line:** 575
**Context:** `checked={formData.isSponsored || false}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\_admin_backup\CourseForm.tsx`
**Line:** 630
**Context:** `disabled={isSubmitting || Object.keys(errors).length > 0}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\_admin_backup\layout.tsx`
**Line:** 27
**Context:** `: pathname.startsWith('/admin/tags') || pathname.startsWith('/admin/courses')`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\_admin_backup\layout.tsx`
**Line:** 38
**Context:** `if (!session?.user) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\_admin_backup\layout.tsx`
**Line:** 57
**Context:** `if (status === 'loading' || institutionLoading) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\_admin_backup\layout.tsx`
**Line:** 65
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\_admin_backup\layout.tsx`
**Line:** 65
**Context:** `if (!session?.user || session.user.role !== 'ADMIN') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\_admin_backup\page.tsx`
**Line:** 177
**Context:** `if (!data) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\_admin_backup\page.tsx`
**Line:** 319
**Context:** `isFeatured: course.institution.isFeatured || false,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\_admin_backup\page.tsx`
**Line:** 320
**Context:** `commissionRate: course.institution.commissionRate || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\app\_admin_backup\page.tsx`
**Line:** 321
**Context:** `subscriptionPlan: course.institution.subscriptionPlan || 'BASIC'`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\admin\AdminNotificationAnalytics.tsx`
**Line:** 120
**Context:** `if (!chartsLoaded || !ChartComponents) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\admin\AdminNotificationAnalytics.tsx`
**Line:** 120
**Context:** `if (!chartsLoaded || !ChartComponents) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\admin\categories\AddCategoryDialog.tsx`
**Line:** 54
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\admin\categories\AddCategoryDialog.tsx`
**Line:** 56
**Context:** `throw new Error(error.message || 'Failed to create category');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\admin\categories\AddCategoryDialog.tsx`
**Line:** 121
**Context:** `disabled={loading || !hasUnsavedChanges}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\admin\categories\EditCategoryDialog.tsx`
**Line:** 72
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\admin\categories\EditCategoryDialog.tsx`
**Line:** 74
**Context:** `throw new Error(error.message || 'Failed to update category');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\admin\categories\EditCategoryDialog.tsx`
**Line:** 139
**Context:** `disabled={loading || !hasUnsavedChanges}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\admin\QuestionPreview.tsx`
**Line:** 169
**Context:** `<label key={option.id || index} className="flex items-center space-x-3 cursor-pointer">`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\admin\QuestionPreview.tsx`
**Line:** 217
**Context:** `<label key={option.id || index} className="flex items-center space-x-3 cursor-pointer">`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\admin\Sidebar.tsx`
**Line:** 59
**Context:** `console.log('Sidebar - Institution ID from props:', institutionId || 'Not provided');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\admin\Sidebar.tsx`
**Line:** 118
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\admin\Sidebar.tsx`
**Line:** 120
**Context:** `throw new Error(error.message || 'Failed to cleanup sample data');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\admin\Sidebar.tsx`
**Line:** 168
**Context:** `const isCoursesPage = pathname.startsWith('/admin/courses') || pathname.includes('/admin/institutions/') && pathname.endsWith('/courses');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\admin\Sidebar.tsx`
**Line:** 170
**Context:** `const isTagsPage = pathname.startsWith('/admin/tags') || pathname.includes('/admin/institutions/') && pathname.endsWith('/tags');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvancedMobileDashboard.tsx`
**Line:** 223
**Context:** `<p className="text-2xl font-bold">{analyticsData?.summary?.offlineSessions || 0}</p>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvancedMobileDashboard.tsx`
**Line:** 252
**Context:** `{syncStats?.successRate?.toFixed(1) || 0}%`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvancedMobileDashboard.tsx`
**Line:** 256
**Context:** `<Button onClick={handleManualSync} disabled={isLoading || !isOnline}>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvancedMobileDashboard.tsx`
**Line:** 282
**Context:** `{cacheStats?.cacheDetails?.[0]?.hitRate?.toFixed(1) || 0}%`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvancedMobileDashboard.tsx`
**Line:** 288
**Context:** `{analyticsData?.summary?.performanceMetrics?.averageLoadTime?.toFixed(0) || 0}ms`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvancedMobileDashboard.tsx`
**Line:** 294
**Context:** `{preloadStats?.queueSize || 0} items`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvancedSearch.tsx`
**Line:** 68
**Context:** `const [query, setQuery] = useState(searchParams.get('q') || '');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvancedSearch.tsx`
**Line:** 100
**Context:** `setSuggestions(data.data || []);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvancedSearch.tsx`
**Line:** 139
**Context:** `setResults(data.data.results || []);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvancedSearch.tsx`
**Line:** 140
**Context:** `setTotalResults(data.data.total || 0);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvancedSearch.tsx`
**Line:** 141
**Context:** `setCurrentPage(data.data.page || 1);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvancedSearch.tsx`
**Line:** 142
**Context:** `setFacets(data.data.facets || null);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvancedSearch.tsx`
**Line:** 186
**Context:** `if (debouncedQuery || Object.keys(filters).length > 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvancedSearch.tsx`
**Line:** 294
**Context:** `value={filters.category || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvancedSearch.tsx`
**Line:** 315
**Context:** `value={filters.level || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvancedSearch.tsx`
**Line:** 336
**Context:** `value={filters.institution || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvancedSearch.tsx`
**Line:** 358
**Context:** `value={filters.priceRange || [0, 1000]}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvancedSearch.tsx`
**Line:** 366
**Context:** `<span>{formatCurrency(filters.priceRange?.[0] || 0)}</span>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvancedSearch.tsx`
**Line:** 367
**Context:** `<span>{formatCurrency(filters.priceRange?.[1] || 1000)}</span>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvancedSearch.tsx`
**Line:** 377
**Context:** `value={filters.duration || [0, 100]}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvancedSearch.tsx`
**Line:** 385
**Context:** `<span>{filters.duration?.[0] || 0}h</span>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvancedSearch.tsx`
**Line:** 386
**Context:** `<span>{filters.duration?.[1] || 100}h</span>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvancedSearch.tsx`
**Line:** 395
**Context:** `value={filters.framework || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvertisingBanner.tsx`
**Line:** 105
**Context:** `{icon || config.icon}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvertisingBanner.tsx`
**Line:** 107
**Context:** `{badge || config.badge}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvertisingBanner.tsx`
**Line:** 182
**Context:** `students: course.enrollmentCount || 150,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvertisingBanner.tsx`
**Line:** 200
**Context:** `students: institution.studentCount || 500,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvertisingBanner.tsx`
**Line:** 201
**Context:** `courses: institution.courseCount || 25,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvertisingBanner.tsx`
**Line:** 214
**Context:** `title={offer.title || "Special Learning Offer"}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvertisingBanner.tsx`
**Line:** 215
**Context:** `description={offer.description || "Take advantage of our limited-time offer and accelerate your language learning journey with exclusive discounts."}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvertisingBanner.tsx`
**Line:** 216
**Context:** `ctaText={offer.ctaText || "Get Offer"}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvertisingBanner.tsx`
**Line:** 217
**Context:** `ctaLink={offer.ctaLink || "/offers"}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\AdvertisingBanner.tsx`
**Line:** 218
**Context:** `highlight={offer.discount || "Save 20%"}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\ClientOnlyAdvancedMobileDashboard.tsx`
**Line:** 22
**Context:** `if (!isClient || !AdvancedMobileDashboard) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\ClientOnlyAdvancedMobileDashboard.tsx`
**Line:** 22
**Context:** `if (!isClient || !AdvancedMobileDashboard) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\course\ModuleProgressCard.tsx`
**Line:** 36
**Context:** `const [notes, setNotes] = React.useState(progress.notes || '');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\course\ModuleProgressCard.tsx`
**Line:** 37
**Context:** `const [difficultyRating, setDifficultyRating] = React.useState(progress.difficultyRating || 0);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\course\ModuleProgressCard.tsx`
**Line:** 38
**Context:** `const [feedback, setFeedback] = React.useState(progress.feedback || '');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\course\ModuleProgressCard.tsx`
**Line:** 232
**Context:** `{notes || feedback ? 'Edit Notes & Feedback' : 'Add Notes & Feedback'}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\CourseCard.tsx`
**Line:** 156
**Context:** `borderColor: courseTag.tag.color || undefined,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\CourseCard.tsx`
**Line:** 157
**Context:** `color: courseTag.tag.color || undefined`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\CourseSearch.tsx`
**Line:** 71
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\CourseSearch.tsx`
**Line:** 73
**Context:** `throw new Error(errorData.message || 'Failed to search courses');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\CourseSearch.tsx`
**Line:** 79
**Context:** `if (!data.courses || !Array.isArray(data.courses)) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\CoursesPageClient.tsx`
**Line:** 171
**Context:** `const courseTagIds = course.courseTags?.map(ct => ct.tag.id) || [];`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\CoursesPageClient.tsx`
**Line:** 208
**Context:** `.filter(course => course.isPremiumPlacement || course.isFeaturedPlacement)`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\CourseTagManager.tsx`
**Line:** 55
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\CourseTagManager.tsx`
**Line:** 57
**Context:** `throw new Error(error.error || 'Failed to fetch tags');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\CourseTagManager.tsx`
**Line:** 132
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\CourseTagManager.tsx`
**Line:** 134
**Context:** `throw new Error(error.error || 'Failed to create tag');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\CourseTagManager.tsx`
**Line:** 168
**Context:** `backgroundColor: tag.color || 'hsl(var(--secondary))',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\DiscountSettingsForm.tsx`
**Line:** 40
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\DiscountSettingsForm.tsx`
**Line:** 67
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\EnhancedCourseCard.tsx`
**Line:** 128
**Context:** `if (!course.priorityScore) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\EnhancedCourseCard.tsx`
**Line:** 184
**Context:** `{(course.isPremiumPlacement || course.isFeaturedPlacement) && (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\EnhancedCourseCard.tsx`
**Line:** 262
**Context:** `backgroundColor: courseTag.tag.color || undefined,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\EnhancedCourseCard.tsx`
**Line:** 308
**Context:** `{isHovered && (course.isPremiumPlacement || course.isFeaturedPlacement) && (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\ForcePasswordResetCheck.tsx`
**Line:** 32
**Context:** `if (status === 'loading' || status === 'unauthenticated') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\HomePageClient.tsx`
**Line:** 276
**Context:** `Welcome back, {session.user.name || session.user.email}!`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\HomePageClient.tsx`
**Line:** 838
**Context:** `return countryCodeMap[countryName] || '🌍';`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\ImageUpload.tsx`
**Line:** 49
**Context:** `disabled: uploading || existingImages.length >= maxFiles`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\ImageUpload.tsx`
**Line:** 60
**Context:** `${uploading || existingImages.length >= maxFiles ? 'opacity-50 cursor-not-allowed' : ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionForm.tsx`
**Line:** 33
**Context:** `name: initialData.name || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionForm.tsx`
**Line:** 34
**Context:** `email: initialData.email || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionForm.tsx`
**Line:** 35
**Context:** `description: initialData.description || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionForm.tsx`
**Line:** 36
**Context:** `address: initialData.address || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionForm.tsx`
**Line:** 37
**Context:** `city: initialData.city || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionForm.tsx`
**Line:** 38
**Context:** `state: initialData.state || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionForm.tsx`
**Line:** 39
**Context:** `country: initialData.country || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionForm.tsx`
**Line:** 40
**Context:** `postcode: initialData.postcode || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionForm.tsx`
**Line:** 41
**Context:** `website: initialData.website || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionForm.tsx`
**Line:** 42
**Context:** `institutionEmail: initialData.institutionEmail || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionForm.tsx`
**Line:** 43
**Context:** `telephone: initialData.telephone || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionForm.tsx`
**Line:** 44
**Context:** `contactName: initialData.contactName || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionForm.tsx`
**Line:** 45
**Context:** `contactJobTitle: initialData.contactJobTitle || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionForm.tsx`
**Line:** 46
**Context:** `contactPhone: initialData.contactPhone || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionForm.tsx`
**Line:** 47
**Context:** `contactEmail: initialData.contactEmail || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionForm.tsx`
**Line:** 48
**Context:** `logoUrl: initialData.logoUrl || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionForm.tsx`
**Line:** 49
**Context:** `mainImageUrl: initialData.mainImageUrl || '',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionForm.tsx`
**Line:** 77
**Context:** `if (!formData.country) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionForm.tsx`
**Line:** 80
**Context:** `if (!formData.state) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionForm.tsx`
**Line:** 83
**Context:** `if (!formData.city) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionForm.tsx`
**Line:** 220
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionForm.tsx`
**Line:** 246
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionForm.tsx`
**Line:** 283
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionForm.tsx`
**Line:** 285
**Context:** `throw new Error(error.error || 'Failed to upload facility image');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionForm.tsx`
**Line:** 445
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionForm.tsx`
**Line:** 447
**Context:** `throw new Error(errorData.error || 'Failed to update profile');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionForm.tsx`
**Line:** 455
**Context:** `facilities: updatedData.facilities || [],`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionForm.tsx`
**Line:** 595
**Context:** `)) || (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionForm.tsx`
**Line:** 611
**Context:** `disabled={!formData.country || !formData.state}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionForm.tsx`
**Line:** 621
**Context:** `)) || (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionForm.tsx`
**Line:** 847
**Context:** `{(formData.facilities?.length || 0) < 5 && (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionSidebar.tsx`
**Line:** 117
**Context:** `setCourses(data.courses || []);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionSidebar.tsx`
**Line:** 171
**Context:** `const isActive = pathname === item.href || pathname.startsWith(`${item.href}/`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionSubscriptionCard.tsx`
**Line:** 124
**Context:** `setLogs(data.logs || []);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionSubscriptionCard.tsx`
**Line:** 144
**Context:** `reason: reason || undefined`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionSubscriptionCard.tsx`
**Line:** 167
**Context:** `toast.error(error.error || 'Action failed');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionSubscriptionCard.tsx`
**Line:** 224
**Context:** `if (!subscriptionData) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionSubscriptionCard.tsx`
**Line:** 265
**Context:** `{planFeatures[subscriptionData.currentPlan as keyof typeof planFeatures]?.name || subscriptionData.currentPlan}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionSubscriptionCard.tsx`
**Line:** 329
**Context:** `disabled={!selectedPlan || actionLoading}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionSubscriptionCard.tsx`
**Line:** 382
**Context:** `disabled={!selectedPlan || actionLoading}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionSubscriptionCard.tsx`
**Line:** 482
**Context:** `disabled={!selectedPlan || actionLoading}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionSubscriptionCard.tsx`
**Line:** 535
**Context:** `<TableCell>{item.paymentMethod || 'N/A'}</TableCell>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionSubscriptionCard.tsx`
**Line:** 536
**Context:** `<TableCell>{item.invoiceNumber || 'N/A'}</TableCell>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\institution\InstitutionSubscriptionCard.tsx`
**Line:** 584
**Context:** `{(log.oldAmount || log.newAmount) && (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\InstitutionsPageClient.tsx`
**Line:** 50
**Context:** `setInstitutions(data.institutions || []);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\InstitutionsPageClient.tsx`
**Line:** 84
**Context:** `return (b.commissionRate || 0) - (a.commissionRate || 0);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\InstitutionsPageClient.tsx`
**Line:** 86
**Context:** `return (b._count?.courses || 0) - (a._count?.courses || 0);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\InstitutionsPageClient.tsx`
**Line:** 221
**Context:** `<span className="font-medium">{institution._count?.courses || 0}</span>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\InstitutionsPageClient.tsx`
**Line:** 229
**Context:** `<span className="font-medium">{institution._count?.students || 0}</span>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\InstitutionsPageClient.tsx`
**Line:** 237
**Context:** `<span className="font-medium">{institution.commissionRate || 0}%</span>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\LeadTracking.tsx`
**Line:** 64
**Context:** `if (typeof window === 'undefined' || typeof navigator === 'undefined' || typeof document === 'undefined' || typeof sessionStorage === 'undefined') return;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\LeadTracking.tsx`
**Line:** 73
**Context:** `sessionId: sessionStorage.getItem('sessionId') || crypto.randomUUID()`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\LeadTracking.tsx`
**Line:** 127
**Context:** `if (!showAnalytics) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\LeadTracking.tsx`
**Line:** 143
**Context:** `if (!analytics) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\LeadTracking.tsx`
**Line:** 262
**Context:** `sessionId: sessionStorage.getItem('sessionId') || crypto.randomUUID(),`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\MainNav.tsx`
**Line:** 41
**Context:** `if (!session?.user) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\MobileOptimizer.tsx`
**Line:** 33
**Context:** `if (typeof window === 'undefined' || typeof navigator === 'undefined') return;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\MobileOptimizer.tsx`
**Line:** 35
**Context:** `const isMobileDevice = window.innerWidth < 768 ||`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\MobileOptimizer.tsx`
**Line:** 58
**Context:** `if (typeof window === 'undefined' || typeof navigator === 'undefined') return;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\MobileOptimizer.tsx`
**Line:** 178
**Context:** `const isSmallScreen = isMobile || isTablet;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\MobileOptimizer.tsx`
**Line:** 248
**Context:** `return fallback || (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\MobileOptimizer.tsx`
**Line:** 273
**Context:** `if (typeof window === 'undefined' || typeof navigator === 'undefined') return;`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\MobileTestingInterface.tsx`
**Line:** 133
**Context:** `if (!testReport) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\MobileTestingInterface.tsx`
**Line:** 220
**Context:** `disabled={isRunning || selectedDevices.size === 0}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\MonthlyPricingTable.tsx`
**Line:** 161
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\MonthlyPricingTable.tsx`
**Line:** 189
**Context:** `const newPriceValue = parseInt(newPrice.replace(/[^\d]/g, '')) || 0;`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\MonthlyPricingTable.tsx`
**Line:** 225
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\MonthlyPricingTable.tsx`
**Line:** 227
**Context:** `throw new Error(errorData.error || 'Failed to save prices');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\MonthlyPricingTable.tsx`
**Line:** 265
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\MonthlyPricingTable.tsx`
**Line:** 307
**Context:** `if (!bulkEditValue || isNaN(Number(bulkEditValue))) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\MonthlyPricingTable.tsx`
**Line:** 550
**Context:** `const isEditable = isTableEditable || editableMonths.has(index + 1);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\MonthlyPricingTable.tsx`
**Line:** 557
**Context:** `<TableRow key={price.date || `month-${index}`} className={isCustomPrice ? 'bg-yellow-50' : ''}>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\MonthlyPricingTable.tsx`
**Line:** 569
**Context:** `<TableCell>{formatCurrencyWithSymbol(price.baseTotal || 0)}</TableCell>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\MonthlyPricingTable.tsx`
**Line:** 571
**Context:** `<span className="text-green-600 font-medium">{price.discount || 0}%</span>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\MonthlyPricingTable.tsx`
**Line:** 631
**Context:** `disabled={isSaving || !hasChanges}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\Navbar.tsx`
**Line:** 43
**Context:** `const isApproved = session.user.institutionApproved || institution?.isApproved`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\Navbar.tsx`
**Line:** 245
**Context:** `(session.user.institutionApproved || institution?.isApproved) ? (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\Navbar.tsx`
**Line:** 371
**Context:** `(session.user.institutionApproved || institution?.isApproved) ? (`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\OfflineDataManager.tsx`
**Line:** 68
**Context:** `if (!isOnline) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\OfflineDataManager.tsx`
**Line:** 247
**Context:** `disabled={!isOnline || isSyncing}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\OfflineDataManager.tsx`
**Line:** 294
**Context:** `<div className="font-medium">{course.title || course.name || `Course ${index + 1}`}</div>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\OfflineDataManager.tsx`
**Line:** 318
**Context:** `<div className="font-medium">{category.name || category.title || `Category ${index + 1}`}</div>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\optimized\ImageOptimizer.tsx`
**Line:** 85
**Context:** `const responsiveSizes = sizes || generateResponsiveSizes(actualDimensions.width, fill);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\optimized\ImageOptimizer.tsx`
**Line:** 88
**Context:** `const [isInView, setIsInView] = useState(!lazy || priority);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\optimized\ImageOptimizer.tsx`
**Line:** 102
**Context:** `if (!lazy || priority || isInView) return;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\optimized\ImageOptimizer.tsx`
**Line:** 168
**Context:** `if (placeholder === 'empty' || hasError) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\OptimizedImage.tsx`
**Line:** 41
**Context:** `if (!src) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\OptimizedImage.tsx`
**Line:** 71
**Context:** `style={fill ? undefined : { width: width || dimensions.width, height: height || dimensions.height }}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\OptimizedImage.tsx`
**Line:** 89
**Context:** `style={fill ? undefined : { width: width || dimensions.width, height: height || dimensions.height }}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\OptimizedImage.tsx`
**Line:** 99
**Context:** `width={!fill ? (width || dimensions.width) : undefined}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\OptimizedImage.tsx`
**Line:** 100
**Context:** `height={!fill ? (height || dimensions.height) : undefined}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\PaymentForm.tsx`
**Line:** 38
**Context:** `const match = matches && matches[0] || '';`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\PaymentForm.tsx`
**Line:** 63
**Context:** `if (!cardNumber || !expiryDate || !cvv || !cardholderName) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\PaymentForm.tsx`
**Line:** 63
**Context:** `if (!cardNumber || !expiryDate || !cvv || !cardholderName) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\PaymentForm.tsx`
**Line:** 185
**Context:** `disabled={isProcessing || isLoading}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\PaymentForm.tsx`
**Line:** 187
**Context:** `{isProcessing || isLoading ? (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\PerformanceMonitor.tsx`
**Line:** 15
**Context:** `if (typeof window === 'undefined' || typeof document === 'undefined') return;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\PromotionalSidebar.tsx`
**Line:** 167
**Context:** `items.sort((a, b) => (b.priority || 0) - (a.priority || 0));`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\providers\InstitutionProvider.tsx`
**Line:** 24
**Context:** `if (status !== 'authenticated' || session?.user?.role !== 'INSTITUTION' || !session?.user?.institutionId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\providers\InstitutionProvider.tsx`
**Line:** 35
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\SearchPageClient.tsx`
**Line:** 80
**Context:** `duration: `${result.metadata?.duration || 0} hours`,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\SearchPageClient.tsx`
**Line:** 82
**Context:** `tags: result.metadata?.tags || []`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\SearchPageClient.tsx`
**Line:** 83
**Context:** `})) || [];`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\ServiceWorkerProvider.tsx`
**Line:** 143
**Context:** `if (!isOnline) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\ServiceWorkerProvider.tsx`
**Line:** 237
**Context:** `if (isOnline || !isServiceWorkerReady) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\ServiceWorkerProvider.tsx`
**Line:** 261
**Context:** `if (!isServiceWorkerReady || typeof window === 'undefined') return;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\ServiceWorkerProvider.tsx`
**Line:** 290
**Context:** `if (totalPending === 0 || !isOnline) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\SimpleNotifications.tsx`
**Line:** 151
**Context:** `if (!mounted || status === 'loading') return null;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\SimpleNotifications.tsx`
**Line:** 205
**Context:** `{getNotificationIcon(notification.template?.category || 'default')}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\SimpleNotifications.tsx`
**Line:** 210
**Context:** `{notification.template?.title || notification.title}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\StructuredData.tsx`
**Line:** 108
**Context:** `name: course.institution?.name || 'Fluentish',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\StructuredData.tsx`
**Line:** 128
**Context:** `name: course.institution?.name || 'Fluentish'`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\StructuredData.tsx`
**Line:** 131
**Context:** `coursePrerequisites: course.prerequisites || 'No prerequisites required',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\StructuredData.tsx`
**Line:** 132
**Context:** `educationalCredentialAwarded: course.certificate || 'Course Completion Certificate',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\StructuredData.tsx`
**Line:** 133
**Context:** `teaches: course.language || 'Language Skills',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\StructuredData.tsx`
**Line:** 134
**Context:** `inLanguage: course.language || 'English',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\StructuredData.tsx`
**Line:** 158
**Context:** `logo: institution.logo || 'https://fluentish.com/images/default-institution-logo.png',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\StructuredData.tsx`
**Line:** 190
**Context:** `})) || []`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\AdaptiveQuizInterface.tsx`
**Line:** 119
**Context:** `if (!selectedAnswer || !state.currentQuestion) return;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\AdaptiveQuizInterface.tsx`
**Line:** 268
**Context:** `value={selectedAnswer || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\AdaptiveQuizInterface.tsx`
**Line:** 434
**Context:** `disabled={!selectedAnswer || state.loading}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\AdvancedQuizInterface.tsx`
**Line:** 118
**Context:** `if (!quiz.time_limit || isPaused || isSubmitted) return;`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\AdvancedQuizInterface.tsx`
**Line:** 188
**Context:** `if (!multipleAnswers[currentQuestion.id]) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\AdvancedQuizInterface.tsx`
**Line:** 210
**Context:** `const currentAnswers = prev[questionId] || [];`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\AdvancedQuizInterface.tsx`
**Line:** 389
**Context:** `value={currentAnswer || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\AdvancedQuizInterface.tsx`
**Line:** 402
**Context:** `value={currentAnswer || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\AdvancedQuizInterface.tsx`
**Line:** 421
**Context:** `value={currentAnswer?.[index] || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\AdvancedQuizInterface.tsx`
**Line:** 423
**Context:** `const newAnswers = { ...currentAnswer } || {};`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\AdvancedQuizInterface.tsx`
**Line:** 456
**Context:** `{currentAnswer?.[dragItems[index]] || zone}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\AdvancedQuizInterface.tsx`
**Line:** 510
**Context:** `checked={multipleAnswers[question.id]?.includes(option) || false}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\AdvancedQuizInterface.tsx`
**Line:** 532
**Context:** `const percentage = attempt.percentage || 0;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\ExerciseInterface.tsx`
**Line:** 171
**Context:** `value={matchingAnswers[index] || ''}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\ExerciseInterface.tsx`
**Line:** 265
**Context:** `setMatchingAnswers(new Array(exercise.options?.length || 0).fill(''));`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\NotificationPreferences.tsx`
**Line:** 101
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\NotificationPreferences.tsx`
**Line:** 131
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\NotificationPreferences.tsx`
**Line:** 301
**Context:** `disabled={!isDirty || isSaving}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\PaymentForm.tsx`
**Line:** 25
**Context:** `if (!stripe || !elements) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\PaymentForm.tsx`
**Line:** 25
**Context:** `if (!stripe || !elements) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\PaymentForm.tsx`
**Line:** 34
**Context:** `setError(submitError.message || 'An error occurred while submitting payment');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\PaymentForm.tsx`
**Line:** 48
**Context:** `setError(confirmError.message || 'Payment failed');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\PaymentForm.tsx`
**Line:** 93
**Context:** `disabled={!stripe || isProcessing}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\QuizCard.tsx`
**Line:** 75
**Context:** `const canRetry = quiz.allow_retry && (!quiz.max_attempts || attempts.length < quiz.max_attempts);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\QuizCard.tsx`
**Line:** 108
**Context:** `toast.error(error || 'Failed to start quiz');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\QuizCard.tsx`
**Line:** 184
**Context:** `const dateToFormat = latestAttempt.completedAt || latestAttempt.startedAt;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\QuizCard.tsx`
**Line:** 212
**Context:** `<Progress value={latestAttempt.percentage || 0} className="h-2" />`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\QuizInterface.tsx`
**Line:** 127
**Context:** `if (!quiz.time_limit || isPaused || isSubmitted) return;`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\QuizInterface.tsx`
**Line:** 144
**Context:** `if (!startAttemptCalledRef && !attempt && !loading && !error) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\QuizInterface.tsx`
**Line:** 152
**Context:** `if (loading || attempt || startAttemptCalledRef) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\QuizInterface.tsx`
**Line:** 237
**Context:** `if (!attempt) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\QuizInterface.tsx`
**Line:** 291
**Context:** `setSelectedAnswer(answers[question.id] || '');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\QuizInterface.tsx`
**Line:** 292
**Context:** `setTextAnswer(answers[question.id] || '');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\QuizInterface.tsx`
**Line:** 381
**Context:** `{(question.type === 'FILL_IN_BLANK' || question.type === 'SHORT_ANSWER') && (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\QuizProgress.tsx`
**Line:** 187
**Context:** `<div className={`text-lg font-bold ${getScoreColor(attempt.percentage || 0)}`}>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\QuizProgress.tsx`
**Line:** 194
**Context:** `{formatDate(attempt.completedAt || attempt.startedAt)}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\QuizProgress.tsx`
**Line:** 221
**Context:** `<span className={`font-medium ${getScoreColor(attempt.percentage || 0)}`}>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\QuizProgress.tsx`
**Line:** 229
**Context:** `value={attempt.percentage || 0}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\StudentSubscriptionCard.tsx`
**Line:** 122
**Context:** `setLogs(data.logs || []);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\StudentSubscriptionCard.tsx`
**Line:** 142
**Context:** `reason: reason || undefined`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\StudentSubscriptionCard.tsx`
**Line:** 165
**Context:** `toast.error(error.error || 'Action failed');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\StudentSubscriptionCard.tsx`
**Line:** 224
**Context:** `if (!subscriptionData) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\StudentSubscriptionCard.tsx`
**Line:** 265
**Context:** `{planFeatures[subscriptionData.currentPlan as keyof typeof planFeatures]?.name || subscriptionData.currentPlan}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\StudentSubscriptionCard.tsx`
**Line:** 331
**Context:** `disabled={!selectedPlan || actionLoading}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\StudentSubscriptionCard.tsx`
**Line:** 384
**Context:** `disabled={!selectedPlan || actionLoading}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\StudentSubscriptionCard.tsx`
**Line:** 484
**Context:** `disabled={!selectedPlan || actionLoading}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\StudentSubscriptionCard.tsx`
**Line:** 537
**Context:** `<TableCell>{item.paymentMethod || 'N/A'}</TableCell>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\StudentSubscriptionCard.tsx`
**Line:** 538
**Context:** `<TableCell>{item.invoiceNumber || 'N/A'}</TableCell>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\student\StudentSubscriptionCard.tsx`
**Line:** 586
**Context:** `{(log.oldAmount || log.newAmount) && (`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\StudentSubscriptionCard.tsx`
**Line:** 175
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\StudentSubscriptionCard.tsx`
**Line:** 206
**Context:** `return planDetails[planType]?.icon || <User className="w-5 h-5" />;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\StudentSubscriptionCard.tsx`
**Line:** 210
**Context:** `return planDetails[planType]?.color || 'text-gray-600';`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\StudentSubscriptionCard.tsx`
**Line:** 223
**Context:** `if (!subscription) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\SubscriptionManagementCard.tsx`
**Line:** 176
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\SubscriptionManagementCard.tsx`
**Line:** 198
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\SubscriptionManagementCard.tsx`
**Line:** 230
**Context:** `return planDetails[planType]?.icon || <Building2 className="w-5 h-5" />;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\SubscriptionManagementCard.tsx`
**Line:** 234
**Context:** `return planDetails[planType]?.color || 'text-gray-600';`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\SubscriptionManagementCard.tsx`
**Line:** 247
**Context:** `if (!subscription) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\SubscriptionOverviewCard.tsx`
**Line:** 105
**Context:** `if (!subscription || !subscription.planType) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\SubscriptionOverviewCard.tsx`
**Line:** 105
**Context:** `if (!subscription || !subscription.planType) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\SubscriptionPaymentForm.tsx`
**Line:** 42
**Context:** `if (!stripe || !elements) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\SubscriptionPaymentForm.tsx`
**Line:** 42
**Context:** `if (!stripe || !elements) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\SubscriptionPaymentForm.tsx`
**Line:** 53
**Context:** `setError(submitError.message || 'An error occurred while submitting payment');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\SubscriptionPaymentForm.tsx`
**Line:** 54
**Context:** `onError(submitError.message || 'Payment submission failed');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\SubscriptionPaymentForm.tsx`
**Line:** 68
**Context:** `setError(confirmError.message || 'Payment failed');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\SubscriptionPaymentForm.tsx`
**Line:** 69
**Context:** `onError(confirmError.message || 'Payment failed');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\SubscriptionPaymentForm.tsx`
**Line:** 143
**Context:** `disabled={isProcessing || isLoading}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\SubscriptionPaymentForm.tsx`
**Line:** 150
**Context:** `disabled={!stripe || isProcessing || isLoading}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\SubscriptionPaymentForm.tsx`
**Line:** 153
**Context:** `{isProcessing || isLoading ? (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\SubscriptionPlanSelector.tsx`
**Line:** 284
**Context:** `{plan.id === 'BASIC' || plan.id === 'STARTER' ? (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\SubscriptionPlanSelector.tsx`
**Line:** 286
**Context:** `) : plan.id === 'PREMIUM' || plan.id === 'PROFESSIONAL' ? (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\SubscriptionPlanSelector.tsx`
**Line:** 379
**Context:** `disabled={!selectedPlan || isLoading}`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\TagFilter.tsx`
**Line:** 96
**Context:** `backgroundColor: tag.color || 'hsl(var(--secondary))',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\TagFilter.tsx`
**Line:** 191
**Context:** `borderColor: tag.color || undefined,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\TagFilter.tsx`
**Line:** 192
**Context:** `color: tag.color || undefined`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\TagSelector.tsx`
**Line:** 38
**Context:** `priority: CATEGORY_TAGS.includes(tag.name) ? 100 : (tag.priority || 0)`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\TagSelector.tsx`
**Line:** 45
**Context:** `return (b.priority || 0) - (a.priority || 0);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\ui\color-picker.tsx`
**Line:** 62
**Context:** `const [customColor, setCustomColor] = React.useState(value || '#000000');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\ui\color-picker.tsx`
**Line:** 65
**Context:** `setCustomColor(value || '#000000');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\ui\dialog.tsx`
**Line:** 135
**Context:** `if (!newOpen && hasUnsavedChanges && !isSubmitting && !isFormSubmitting) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\ui\enhanced-switch.tsx`
**Line:** 134
**Context:** `const colors = colorClasses[activeColor as keyof typeof colorClasses] || colorClasses.green`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\ui\icon-picker.tsx`
**Line:** 80
**Context:** `if (!newOpen) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\ui\image-container.tsx`
**Line:** 52
**Context:** `const isPlaceholder = imageSrc === placeholderUrl || imageSrc.startsWith('/api/placeholder/');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\ui\image-container.tsx`
**Line:** 68
**Context:** `{(isPlaceholder || isLocalUpload) ? (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\ui\image-container.tsx`
**Line:** 93
**Context:** `sizes={sizes || defaultSize}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\ui\password-input.tsx`
**Line:** 17
**Context:** `if (!value) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\ui\progress.tsx`
**Line:** 22
**Context:** `style={{ transform: `translateX(-${100 - (value || 0)}%)` }}`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\ui\rating.tsx`
**Line:** 23
**Context:** `if (!disabled) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\ui\rating.tsx`
**Line:** 29
**Context:** `if (!disabled) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\ui\rating.tsx`
**Line:** 35
**Context:** `if (!disabled && onChange) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\ui\use-toast.ts`
**Line:** 107
**Context:** `t.id === toastId || toastId === undefined`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\components\ui\use-toast.tsx`
**Line:** 108
**Context:** `t.id === toastId || toastId === undefined`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\hooks\useOfflineData.ts`
**Line:** 258
**Context:** `setConnectionType(connection?.effectiveType || 'unknown');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\hooks\useOfflineData.ts`
**Line:** 261
**Context:** `setConnectionType(connection.effectiveType || 'unknown');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\hooks\useOfflineData.ts`
**Line:** 295
**Context:** `isSlowConnection: connectionType === 'slow-2g' || connectionType === '2g'`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\hooks\useServiceWorker.ts`
**Line:** 24
**Context:** `if (typeof window === 'undefined' || typeof navigator === 'undefined') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\hooks\useServiceWorker.ts`
**Line:** 103
**Context:** `if (typeof window === 'undefined' || !('Notification' in window)) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\hooks\useServiceWorker.ts`
**Line:** 121
**Context:** `if (!state.registration) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\hooks\useServiceWorker.ts`
**Line:** 126
**Context:** `if (!permission) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\hooks\useServiceWorker.ts`
**Line:** 152
**Context:** `if (!state.registration) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\hooks\useServiceWorker.ts`
**Line:** 176
**Context:** `if (!state.registration) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\hooks\useServiceWorker.ts`
**Line:** 261
**Context:** `if (!isSupported) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\hooks\useServiceWorker.ts`
**Line:** 288
**Context:** `const syncData = JSON.parse(localStorage.getItem('syncData') || '{}');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\hooks\useSessionSync.ts`
**Line:** 52
**Context:** `isLoading: status === 'loading' || isForceSyncing,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\hooks\useTouchGestures.ts`
**Line:** 156
**Context:** `if (velocity >= swipeConfig.velocity || swipeConfig.velocity === undefined) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\hooks\useTouchGestures.ts`
**Line:** 159
**Context:** `} else if (angle >= 135 || angle <= -135 && callbacks.onSwipeLeft) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\advanced-caching.ts`
**Line:** 52
**Context:** `if (!AdvancedCaching.instance) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\advanced-caching.ts`
**Line:** 148
**Context:** `priority: options.priority || 'deferred'`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\advanced-caching.ts`
**Line:** 157
**Context:** `} else if (!this.isProcessingQueue) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\advanced-caching.ts`
**Line:** 162
**Context:** `console.log(`Cache invalidation queued: ${options.type} - ${options.target} (${options.reason || 'no reason'})`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\advanced-caching.ts`
**Line:** 167
**Context:** `if (this.isProcessingQueue || this.invalidationQueue.length === 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\advanced-caching.ts`
**Line:** 288
**Context:** `strategy: config?.strategy || 'unknown',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\advanced-caching.ts`
**Line:** 291
**Context:** `maxEntries: config?.maxEntries || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\advanced-caching.ts`
**Line:** 292
**Context:** `maxAge: config?.maxAge || 0`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\api-optimizer.ts`
**Line:** 22
**Context:** `if (!APIOptimizer.instance) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\api-optimizer.ts`
**Line:** 87
**Context:** ``${this.metrics.get(requestId)?.duration || 0}ms` : 'unknown',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\api-optimizer.ts`
**Line:** 91
**Context:** `'ETag': etag || `"${Date.now()}"`,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\api-optimizer.ts`
**Line:** 103
**Context:** `response.headers.set('X-Query-Count', `${metrics.queryCount || 0}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\api-optimizer.ts`
**Line:** 104
**Context:** `response.headers.set('X-Cache-Hits', `${metrics.cacheHits || 0}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\api-optimizer.ts`
**Line:** 105
**Context:** `response.headers.set('X-Cache-Misses', `${metrics.cacheMisses || 0}`);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\audit-logger.ts`
**Line:** 36
**Context:** `if (!AuditLogger.instance) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\audit-logger.ts`
**Line:** 66
**Context:** `console.log(`🔍 AUDIT: ${data.action} on ${data.resource} by ${data.userId || 'anonymous'} (${data.severity})`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\audit-logger.ts`
**Line:** 84
**Context:** `const severity = action === 'LOGIN_FAILED' || action === 'ACCOUNT_LOCKED' ? 'HIGH' : 'LOW';`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\audit-logger.ts`
**Line:** 132
**Context:** `const severity = action === 'DELETE' || action === 'BULK_DELETE' ? 'HIGH' : 'MEDIUM';`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\audit-logger.ts`
**Line:** 244
**Context:** `if (startDate || endDate) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\audit-logger.ts`
**Line:** 292
**Context:** `if (startDate || endDate) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\audit-logger.ts`
**Line:** 380
**Context:** `log.userId || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\audit-logger.ts`
**Line:** 383
**Context:** `log.resourceId || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\audit-logger.ts`
**Line:** 386
**Context:** `log.ipAddress || ''`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\auth.ts`
**Line:** 8
**Context:** `const secret = process.env.NEXTAUTH_SECRET || 'your-fallback-secret-key-change-in-production';`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\auth.ts`
**Line:** 33
**Context:** `if (!credentials?.email || !credentials?.password) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\auth.ts`
**Line:** 33
**Context:** `if (!credentials?.email || !credentials?.password) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\auth.ts`
**Line:** 46
**Context:** `if (!user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\auth.ts`
**Line:** 55
**Context:** `if (!isPasswordValid) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\auth.ts`
**Line:** 64
**Context:** `institutionId: user.institution?.id || null,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\auth.ts`
**Line:** 66
**Context:** `institutionApproved: user.institution?.isApproved || false`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\automated-commission-service.ts`
**Line:** 58
**Context:** `if (!payment) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\automated-commission-service.ts`
**Line:** 69
**Context:** `if (!subscription || subscription.status !== 'ACTIVE') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\automated-commission-service.ts`
**Line:** 69
**Context:** `if (!subscription || subscription.status !== 'ACTIVE') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\automated-commission-service.ts`
**Line:** 78
**Context:** `if (!commissionTier) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\automated-commission-service.ts`
**Line:** 96
**Context:** `currency: payment.currency || 'USD',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\automated-commission-service.ts`
**Line:** 195
**Context:** `if (!institution) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\automated-commission-service.ts`
**Line:** 219
**Context:** `return sum + (payment.institutionCommission?.amount || 0);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\automated-commission-service.ts`
**Line:** 343
**Context:** `total: monthlyCommissions._sum.amount || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\automated-commission-service.ts`
**Line:** 347
**Context:** `total: yearlyCommissions._sum.amount || 0,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\automated-commission-service.ts`
**Line:** 351
**Context:** `total: totalCommissions._sum.amount || 0,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\background-sync.ts`
**Line:** 109
**Context:** `if (!BackgroundSync.instance) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\background-sync.ts`
**Line:** 230
**Context:** `if (!this.isSyncing) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\background-sync.ts`
**Line:** 382
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\background-sync.ts`
**Line:** 418
**Context:** `if (!this.isSyncing) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\background-sync.ts`
**Line:** 446
**Context:** `if (!dependency) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\background-sync.ts`
**Line:** 471
**Context:** `this.syncHistory = history?.data || [];`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\background-sync.ts`
**Line:** 526
**Context:** `const current = statsByType.get(item.type) || { success: 0, failed: 0, total: 0 };`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\cache-utils.ts`
**Line:** 16
**Context:** `if (!Cache.instance) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\cache-utils.ts`
**Line:** 65
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\cache.ts`
**Line:** 19
**Context:** `if (!item) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\cdn-optimizer.ts`
**Line:** 43
**Context:** `if (!this.config.domain) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\cdn-optimizer.ts`
**Line:** 65
**Context:** `if (!this.config.domain || !this.config.imageOptimization) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\cdn-optimizer.ts`
**Line:** 65
**Context:** `if (!this.config.domain || !this.config.imageOptimization) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\cdn-optimizer.ts`
**Line:** 184
**Context:** `if (!this.config.apiKey || !this.config.zoneId) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\cdn-optimizer.ts`
**Line:** 184
**Context:** `if (!this.config.apiKey || !this.config.zoneId) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\cdn-optimizer.ts`
**Line:** 228
**Context:** `provider: (process.env.CDN_PROVIDER as any) || 'vercel',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\cdn-optimizer.ts`
**Line:** 229
**Context:** `domain: process.env.CDN_DOMAIN || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\cdn-optimizer.ts`
**Line:** 332
**Context:** `} else if (pathname.match(/\.(html|htm)$/i) || pathname === '/') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\constants\payment-config.ts`
**Line:** 74
**Context:** `if (!settings.ALLOW_INSTITUTION_PAYMENT_APPROVAL) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\constants\payment-config.ts`
**Line:** 84
**Context:** `if (!paymentMethod) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\constants\payment-config.ts`
**Line:** 96
**Context:** `if (!paymentMethod) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\content-access.ts`
**Line:** 36
**Context:** `if (!enrollment) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\content-access.ts`
**Line:** 51
**Context:** `if (!enrollment.hasContentAccess) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\content-preloader.ts`
**Line:** 80
**Context:** `if (!ContentPreloader.instance) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\content-preloader.ts`
**Line:** 202
**Context:** `if (!this.isPreloading) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\content-preloader.ts`
**Line:** 211
**Context:** `if (this.isPreloading || this.preloadQueue.length === 0) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\content-preloader.ts`
**Line:** 245
**Context:** `if (!strategy.enabled) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\content-preloader.ts`
**Line:** 294
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\content-preloader.ts`
**Line:** 303
**Context:** `const currentCount = this.userBehavior.frequentlyAccessed.get(item.url) || 0;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\content-preloader.ts`
**Line:** 311
**Context:** `const timeAccess = this.userBehavior.timeBasedAccess.get(item.url) || new Array(24).fill(0);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\content-preloader.ts`
**Line:** 321
**Context:** `const patterns = this.userBehavior.navigationPatterns.get(from) || [];`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\content-preloader.ts`
**Line:** 346
**Context:** `return behavior?.data || null;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\database-optimizer.ts`
**Line:** 353
**Context:** `totalRevenue: totalRevenue._sum.amount || 0,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\email.ts`
**Line:** 19
**Context:** `if (!EmailService.instance) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\email.ts`
**Line:** 53
**Context:** `const port = parseInt(process.env.SMTP_PORT || '587');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\email.ts`
**Line:** 58
**Context:** `if (!host || !user || !pass) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\email.ts`
**Line:** 58
**Context:** `if (!host || !user || !pass) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\email.ts`
**Line:** 85
**Context:** `if (!this.transporter) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\email.ts`
**Line:** 93
**Context:** `const fromEmail = settings?.fromEmail || process.env.SMTP_FROM_EMAIL || 'noreply@yourdomain.com';`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\email.ts`
**Line:** 94
**Context:** `const fromName = settings?.fromName || process.env.SMTP_FROM_NAME || 'Your Platform';`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\email.ts`
**Line:** 187
**Context:** `<li>Error: ${paymentDetails.error || 'Unknown error'}</li>`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\encryption.ts`
**Line:** 27
**Context:** `const masterKeyString = process.env.ENCRYPTION_MASTER_KEY || this.generateMasterKey();`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\encryption.ts`
**Line:** 32
**Context:** `if (!EncryptionService.instance) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\encryption.ts`
**Line:** 130
**Context:** `const generatedSalt = salt || crypto.randomBytes(32).toString('hex');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\enhanced-cache.ts`
**Line:** 19
**Context:** `if (!entry) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\enhanced-database-optimizer.ts`
**Line:** 69
**Context:** `const cacheKey = options.cacheKey || `courses:${JSON.stringify(where)}:${JSON.stringify(include)}`;`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\enhanced-database-optimizer.ts`
**Line:** 71
**Context:** `if (!options.forceRefresh) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\enhanced-database-optimizer.ts`
**Line:** 134
**Context:** `await redisCache.set(cacheKey, courses, options.ttl || CACHE_TTL.MEDIUM);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\enhanced-database-optimizer.ts`
**Line:** 308
**Context:** `if (minPrice !== undefined || maxPrice !== undefined) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\enrollment\state-manager.ts`
**Line:** 90
**Context:** `const isPaymentStateValid = !latestPayment ||`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\enrollment\state-manager.ts`
**Line:** 93
**Context:** `const isBookingStateValid = !latestBooking ||`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\enrollment\state-manager.ts`
**Line:** 115
**Context:** `if (!enrollment) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\enrollment\state-manager.ts`
**Line:** 151
**Context:** `if (!payment) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\enrollment\state-manager.ts`
**Line:** 187
**Context:** `if (!booking) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\framework-utils.ts`
**Line:** 130
**Context:** `return frameworkMappings[sourceFramework].equivalentLevels[level] || [];`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\framework-utils.ts`
**Line:** 151
**Context:** `return levelInfo?.label || level;`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\load-balancer.ts`
**Line:** 243
**Context:** `if (!server || server.health !== 'healthy' || !server.isActive) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\load-balancer.ts`
**Line:** 243
**Context:** `if (!server || server.health !== 'healthy' || !server.isActive) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\load-balancer.ts`
**Line:** 277
**Context:** `const userAgent = request.headers.get('user-agent') || '';`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\load-balancer.ts`
**Line:** 460
**Context:** `if (!server) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\logger.ts`
**Line:** 42
**Context:** `this.logLevel = (process.env.LOG_LEVEL as LogLevel) || LogLevel.INFO;`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\logger.ts`
**Line:** 92
**Context:** `if (!this.isDevelopment && level >= LogLevel.ERROR) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\logger.ts`
**Line:** 128
**Context:** `ip: req.ip || req.headers.get('x-forwarded-for') || 'unknown',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\logger.ts`
**Line:** 129
**Context:** `userAgent: req.headers.get('user-agent') || 'unknown',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification-integration.ts`
**Line:** 33
**Context:** `if (!student?.user || !course) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification-integration.ts`
**Line:** 33
**Context:** `if (!student?.user || !course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification-integration.ts`
**Line:** 85
**Context:** `if (!student?.user || !quiz || !module || !course) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification-integration.ts`
**Line:** 85
**Context:** `if (!student?.user || !quiz || !module || !course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification-integration.ts`
**Line:** 127
**Context:** `if (!student?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification-integration.ts`
**Line:** 172
**Context:** `if (!student?.user || !module || !course) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification-integration.ts`
**Line:** 172
**Context:** `if (!student?.user || !module || !course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification-integration.ts`
**Line:** 210
**Context:** `if (!student?.user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification-integration.ts`
**Line:** 248
**Context:** `if (!user) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification-integration.ts`
**Line:** 252
**Context:** `const studentName = user.student?.name || user.institution?.name || 'User';`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification-integration.ts`
**Line:** 288
**Context:** `if (!user) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification-integration.ts`
**Line:** 292
**Context:** `const studentName = user.student?.name || 'Student';`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification-integration.ts`
**Line:** 324
**Context:** `if (!user) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification-integration.ts`
**Line:** 328
**Context:** `const userName = user.student?.name || user.institution?.name || 'User';`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification-scheduler.ts`
**Line:** 241
**Context:** `if (!lastReminder) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification.ts`
**Line:** 29
**Context:** `if (!NotificationService.instance) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification.ts`
**Line:** 51
**Context:** `if (!template) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification.ts`
**Line:** 60
**Context:** `if (!recipient) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification.ts`
**Line:** 189
**Context:** `subject: data.subject || data.title,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification.ts`
**Line:** 225
**Context:** `createdBy: data.createdBy || data.recipientId`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification.ts`
**Line:** 272
**Context:** `name: enrollmentDetails.studentName || 'Student',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification.ts`
**Line:** 275
**Context:** `duration: enrollmentDetails.duration || '8 weeks',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification.ts`
**Line:** 276
**Context:** `startDate: enrollmentDetails.startDate || new Date().toLocaleDateString()`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification.ts`
**Line:** 318
**Context:** `name: paymentDetails.studentName || 'Student',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification.ts`
**Line:** 320
**Context:** `referenceNumber: paymentDetails.referenceNumber || paymentId,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification.ts`
**Line:** 830
**Context:** `name: completionDetails.studentName || 'Student',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification.ts`
**Line:** 876
**Context:** `name: quizDetails.studentName || 'Student',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification.ts`
**Line:** 934
**Context:** `name: achievementDetails.studentName || 'Student',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification.ts`
**Line:** 976
**Context:** `name: statusChange.studentName || 'Student',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification.ts`
**Line:** 981
**Context:** `reason: statusChange.reason || 'System update'`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification.ts`
**Line:** 1042
**Context:** `name: updateDetails.userName || 'User',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification.ts`
**Line:** 1045
**Context:** `details: updateDetails.description || 'Your account has been updated'`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification.ts`
**Line:** 1082
**Context:** `name: paymentDetails.userName || 'Student',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification.ts`
**Line:** 1086
**Context:** `courseName: paymentDetails.courseName || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification.ts`
**Line:** 1087
**Context:** `subscriptionPlan: paymentDetails.subscriptionPlan || ''`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification.ts`
**Line:** 1123
**Context:** `name: moduleDetails.studentName || 'Student',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\notification.ts`
**Line:** 1203
**Context:** `name: streakDetails.studentName || 'Student',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\offline-analytics.ts`
**Line:** 79
**Context:** `if (!OfflineAnalytics.instance) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\offline-analytics.ts`
**Line:** 232
**Context:** `const currentCount = this.metrics.mostAccessedContent.get(contentType) || 0;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\offline-analytics.ts`
**Line:** 238
**Context:** `const currentCount = this.metrics.offlineActions.get(action) || 0;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\offline-analytics.ts`
**Line:** 284
**Context:** `title: title || page`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\offline-analytics.ts`
**Line:** 311
**Context:** `if (!success) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\offline-analytics.ts`
**Line:** 414
**Context:** `return events?.data || [];`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\offline-analytics.ts`
**Line:** 440
**Context:** `return metrics?.data || null;`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\offline-analytics.ts`
**Line:** 484
**Context:** `if (!sessionId) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\offline-analytics.ts`
**Line:** 494
**Context:** `return localStorage.getItem('user_id') || undefined;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\offline-storage.ts`
**Line:** 10
**Context:** `if (typeof window === 'undefined' || typeof indexedDB === 'undefined') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\offline-storage.ts`
**Line:** 79
**Context:** `priority: action.priority || 1,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\offline-storage.ts`
**Line:** 226
**Context:** `request.onsuccess = () => resolve(request.result?.data || null);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\offline-storage.ts`
**Line:** 261
**Context:** `priority: item.priority || 1,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\offline-storage.ts`
**Line:** 301
**Context:** `if (typeof window === 'undefined' || typeof indexedDB === 'undefined') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\offline-storage.ts`
**Line:** 315
**Context:** `if (typeof window === 'undefined' || typeof indexedDB === 'undefined') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\offline-storage.ts`
**Line:** 322
**Context:** `return db?.size || 0;`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\offline-storage.ts`
**Line:** 331
**Context:** `if (!this.db) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment\manual-payment.ts`
**Line:** 31
**Context:** `if (!enrollment) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment\manual-payment.ts`
**Line:** 48
**Context:** `instructions: metadata.instructions || 'Please contact the institution for payment instructions',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment\manual-payment.ts`
**Line:** 49
**Context:** `contactInfo: metadata.contactInfo || enrollment.course.institution.contactEmail,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment\manual-payment.ts`
**Line:** 50
**Context:** `dueDate: metadata.dueDate || new Date(Date.now() + 7 * 24 * 60 * 60 * 1000), // Default 7 days`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment\manual-payment.ts`
**Line:** 119
**Context:** `if (!enrollment) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment\manual-payment.ts`
**Line:** 136
**Context:** `bankDetails: metadata.bankDetails || enrollment.course.institution.bankDetails,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment\manual-payment.ts`
**Line:** 137
**Context:** `dueDate: metadata.dueDate || new Date(Date.now() + 7 * 24 * 60 * 60 * 1000), // Default 7 days`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment\manual-payment.ts`
**Line:** 151
**Context:** `bankDetails: metadata.bankDetails || enrollment.course.institution.bankDetails,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment\reminder-scheduler.ts`
**Line:** 58
**Context:** `const dueDate = new Date(payment.paymentDetails?.dueDate || payment.createdAt);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment\reminder-scheduler.ts`
**Line:** 75
**Context:** `if (!existingReminder) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment\service.ts`
**Line:** 12
**Context:** `this.stripe = new Stripe(stripeConfig?.config.secretKey || '', {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment\service.ts`
**Line:** 29
**Context:** `if (!enrollment) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment-service.ts`
**Line:** 31
**Context:** `if (!enrollment) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment-service.ts`
**Line:** 102
**Context:** `if (!enrollment) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment-service.ts`
**Line:** 116
**Context:** `if (!student || !course) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment-service.ts`
**Line:** 116
**Context:** `if (!student || !course) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment-service.ts`
**Line:** 124
**Context:** `paymentError: paymentIntent.last_payment_error?.message || 'Payment failed',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment-service.ts`
**Line:** 135
**Context:** `error: paymentIntent.last_payment_error?.message || 'Payment failed',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment-service.ts`
**Line:** 164
**Context:** `if (!enrollment || !course || !institution || !student) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment-service.ts`
**Line:** 164
**Context:** `if (!enrollment || !course || !institution || !student) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment-service.ts`
**Line:** 243
**Context:** `if (!enrollment) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment-service.ts`
**Line:** 260
**Context:** `if (!student || !course || !institution) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment-service.ts`
**Line:** 260
**Context:** `if (!student || !course || !institution) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment-service.ts`
**Line:** 276
**Context:** `const amount = booking?.amount || enrollment.course.base_price;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment-service.ts`
**Line:** 292
**Context:** `paymentId: metadata.referenceNumber || `MANUAL_${Date.now()}`,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment-service.ts`
**Line:** 304
**Context:** `paymentId: metadata.referenceNumber || `MANUAL_${Date.now()}`,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment-service.ts`
**Line:** 337
**Context:** `paymentId: metadata.referenceNumber || `MANUAL_${Date.now()}`,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment-service.ts`
**Line:** 350
**Context:** `referenceNumber: metadata.referenceNumber || `MANUAL_${Date.now()}`,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment-service.ts`
**Line:** 366
**Context:** `referenceNumber: metadata.referenceNumber || `MANUAL_${Date.now()}`,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\payment-service.ts`
**Line:** 377
**Context:** `metadata.processedBy || 'SYSTEM'`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\performance-integration.ts`
**Line:** 216
**Context:** `this.loadBalancer?.getStats() || null`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\performance-integration.ts`
**Line:** 302
**Context:** `const ttl = options.ttl || this.config.redis.ttl.medium;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\performance-integration.ts`
**Line:** 303
**Context:** `const assetType = options.assetType || AssetType.API;`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\performance-integration.ts`
**Line:** 347
**Context:** `if (!this.config.cdn.enabled) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\performance-integration.ts`
**Line:** 356
**Context:** `if (!this.config.cdn.enabled) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\performance-integration.ts`
**Line:** 478
**Context:** `redisCache.set(key, data, ttl || 300)`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\performance-monitor.ts`
**Line:** 103
**Context:** `if (!entry.hadRecentInput) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\performance-monitor.ts`
**Line:** 236
**Context:** `return localStorage.getItem('userId') || undefined;`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\performance-monitor.ts`
**Line:** 244
**Context:** `if (!sessionId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\permissions.ts`
**Line:** 44
**Context:** `if (!permissions) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\permissions.ts`
**Line:** 105
**Context:** `if (!user?.institution?.id) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\prisma.ts`
**Line:** 15
**Context:** `if (!global.prisma) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\prisma.ts`
**Line:** 24
**Context:** `if (!prisma) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\push-notifications.ts`
**Line:** 7
**Context:** `publicKey: process.env.NEXT_PUBLIC_VAPID_PUBLIC_KEY || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\push-notifications.ts`
**Line:** 8
**Context:** `privateKey: process.env.VAPID_PRIVATE_KEY || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\push-notifications.ts`
**Line:** 9
**Context:** `subject: process.env.VAPID_SUBJECT || 'mailto:admin@fluentish.com',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\push-notifications.ts`
**Line:** 10
**Context:** `audience: process.env.NEXT_PUBLIC_SITE_URL || 'https://fluentish.com'`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\push-notifications.ts`
**Line:** 81
**Context:** `if (!PushNotificationService.instance) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\push-notifications.ts`
**Line:** 89
**Context:** `if (!('serviceWorker' in navigator) || !('PushManager' in window)) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\push-notifications.ts`
**Line:** 123
**Context:** `if (!this.registration) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\push-notifications.ts`
**Line:** 128
**Context:** `if (!permission) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\push-notifications.ts`
**Line:** 155
**Context:** `if (!this.subscription) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\push-notifications.ts`
**Line:** 178
**Context:** `if (!this.registration) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\push-notifications.ts`
**Line:** 235
**Context:** `if (!response.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\push-notifications.ts`
**Line:** 255
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\push-notifications.ts`
**Line:** 267
**Context:** `return localStorage.getItem('userId') || null;`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\push-notifications.ts`
**Line:** 272
**Context:** `if (!this.registration) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\push-notifications.ts`
**Line:** 278
**Context:** `icon: notification.icon || '/icon.svg',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\push-notifications.ts`
**Line:** 279
**Context:** `badge: notification.badge || '/icon.svg',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\push-notifications.ts`
**Line:** 344
**Context:** `return notifications || [];`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\push-notifications.ts`
**Line:** 355
**Context:** `return history || [];`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\quiz\adaptive-algorithm.ts`
**Line:** 142
**Context:** `return questionInfo[0]?.question || null;`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\rate-limiter.ts`
**Line:** 31
**Context:** `if (!RateLimiter.instance) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\rate-limiter.ts`
**Line:** 53
**Context:** `if (!config) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\rate-limiter.ts`
**Line:** 117
**Context:** `if (!current || current.resetTime <= now) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\rate-limiter.ts`
**Line:** 117
**Context:** `if (!current || current.resetTime <= now) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\rate-limiter.ts`
**Line:** 291
**Context:** `const ip = req.headers['x-forwarded-for'] ||`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\rate-limiter.ts`
**Line:** 292
**Context:** `req.headers['x-real-ip'] ||`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\rate-limiter.ts`
**Line:** 293
**Context:** `req.connection?.remoteAddress ||`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\rate-limiter.ts`
**Line:** 294
**Context:** `req.socket?.remoteAddress ||`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\rate-limiter.ts`
**Line:** 301
**Context:** `const userId = req.user?.id || 'anonymous';`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\rate-limiter.ts`
**Line:** 318
**Context:** `if (!allowed) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\react-optimizer.tsx`
**Line:** 296
**Context:** `if (!response.ok) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\react-optimizer.tsx`
**Line:** 367
**Context:** `return this.props.fallback || (`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\redis-cache.ts`
**Line:** 6
**Context:** `host: process.env.REDIS_HOST || 'localhost',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\redis-cache.ts`
**Line:** 7
**Context:** `port: parseInt(process.env.REDIS_PORT || '6379'),`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\redis-cache.ts`
**Line:** 9
**Context:** `db: parseInt(process.env.REDIS_DB || '0'),`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\redis-cache.ts`
**Line:** 79
**Context:** `if (!this.redisDisabled) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\redis-cache.ts`
**Line:** 86
**Context:** `if (!this.redisDisabled) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\redis-cache.ts`
**Line:** 93
**Context:** `if (!this.redisDisabled) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\redis-cache.ts`
**Line:** 103
**Context:** `if (!this.redisDisabled) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\redis-cache.ts`
**Line:** 249
**Context:** `const current = await this.get<number>(key) || 0;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\revenue-tracking-service.ts`
**Line:** 155
**Context:** `const current = revenueByInstitution.get(institutionName) || 0;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\s3.ts`
**Line:** 5
**Context:** `region: process.env.AWS_REGION || 'us-east-1',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\s3.ts`
**Line:** 7
**Context:** `accessKeyId: process.env.AWS_ACCESS_KEY_ID || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\s3.ts`
**Line:** 8
**Context:** `secretAccessKey: process.env.AWS_SECRET_ACCESS_KEY || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\s3.ts`
**Line:** 15
**Context:** `Bucket: process.env.AWS_BUCKET_NAME || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\search.ts`
**Line:** 255
**Context:** `description: course.description || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\search.ts`
**Line:** 523
**Context:** `termCounts.set(word, (termCounts.get(word) || 0) + 1);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\seo-config.ts`
**Line:** 389
**Context:** `const baseUrl = process.env.NEXT_PUBLIC_BASE_URL || 'https://fluentish.com';`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\seo-config.ts`
**Line:** 433
**Context:** `return seoConfigs[pageName] || seoConfigs.home;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\seo-config.ts`
**Line:** 445
**Context:** `name: course.institution?.name || 'Fluentish',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 93
**Context:** `if (!institution) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 103
**Context:** `return institution.commissionRate || 20; // Default fallback rate`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 130
**Context:** `if (!institution) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 155
**Context:** `const isFallback = institution.subscription?.metadata?.isFallback || false;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 174
**Context:** `})) || [];`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 180
**Context:** `features: institution.subscription?.commissionTier?.features as Record<string, any> || {},`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 214
**Context:** `if (!student) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 227
**Context:** `const isFallback = currentSubscription?.metadata?.isFallback || false;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 246
**Context:** `})) || [];`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 251
**Context:** `features: currentSubscription?.features as Record<string, any> || {},`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 281
**Context:** `if (!plan) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 285
**Context:** `const calculatedAmount = amount || (billingCycle === 'ANNUAL' ? plan.annualPrice : plan.monthlyPrice);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 389
**Context:** `if (!currentSubscription || currentSubscription.status !== 'ACTIVE') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 389
**Context:** `if (!currentSubscription || currentSubscription.status !== 'ACTIVE') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 405
**Context:** `if (!newPlan) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 435
**Context:** `reason || 'Plan downgrade'`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 470
**Context:** `if (!subscription || subscription.status !== 'ACTIVE') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 470
**Context:** `if (!subscription || subscription.status !== 'ACTIVE') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 497
**Context:** `reason || 'Subscription cancelled'`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 525
**Context:** `if (!subscription || subscription.status !== 'CANCELLED') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 525
**Context:** `if (!subscription || subscription.status !== 'CANCELLED') {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 592
**Context:** `if (!subscription) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 605
**Context:** `oldPlan: log.oldPlan || undefined,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 606
**Context:** `newPlan: log.newPlan || undefined,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 607
**Context:** `oldAmount: log.oldAmount || undefined,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 608
**Context:** `newAmount: log.newAmount || undefined,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 609
**Context:** `oldBillingCycle: log.oldBillingCycle || undefined,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 610
**Context:** `newBillingCycle: log.newBillingCycle || undefined,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 611
**Context:** `reason: log.reason || undefined,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 634
**Context:** `if (!subscription) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 647
**Context:** `oldPlan: log.oldPlan || undefined,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 648
**Context:** `newPlan: log.newPlan || undefined,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 649
**Context:** `oldAmount: log.oldAmount || undefined,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 650
**Context:** `newAmount: log.newAmount || undefined,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 651
**Context:** `oldBillingCycle: log.oldBillingCycle || undefined,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 652
**Context:** `newBillingCycle: log.newBillingCycle || undefined,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 653
**Context:** `reason: log.reason || undefined,`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 895
**Context:** `if (!institution?.subscription || institution.subscription.status !== 'ACTIVE') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 895
**Context:** `if (!institution?.subscription || institution.subscription.status !== 'ACTIVE') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 936
**Context:** `revenueGenerated: revenueGenerated._sum.amount || 0`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 954
**Context:** `if (!student) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 963
**Context:** `if (!expiredTrial) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 1038
**Context:** `if (!institution) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-commission-service.ts`
**Line:** 1044
**Context:** `if (!expiredTrial || expiredTrial.status !== 'TRIAL' || expiredTrial.endDate > new Date()) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-payment-service.ts`
**Line:** 7
**Context:** `if (!process.env.STRIPE_SECRET_KEY) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-payment-service.ts`
**Line:** 52
**Context:** `if (!institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-payment-service.ts`
**Line:** 58
**Context:** `if (!customerId) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-payment-service.ts`
**Line:** 60
**Context:** `email: institution.users[0]?.email || 'institution@example.com',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-payment-service.ts`
**Line:** 122
**Context:** `if (!student) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-payment-service.ts`
**Line:** 128
**Context:** `if (!customerId) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-payment-service.ts`
**Line:** 317
**Context:** `if (!plan) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-payment-service.ts`
**Line:** 450
**Context:** `error: paymentIntent.last_payment_error?.message || 'Payment failed',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-payment-service.ts`
**Line:** 473
**Context:** `reason: paymentIntent.last_payment_error?.message || 'Payment failed',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-payment-service.ts`
**Line:** 493
**Context:** `reason: paymentIntent.last_payment_error?.message || 'Payment failed',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-plan-manager.ts`
**Line:** 33
**Context:** `description: plan.description || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-plan-manager.ts`
**Line:** 37
**Context:** `features: plan.features as string[] || [],`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-plan-manager.ts`
**Line:** 64
**Context:** `description: plan.description || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-plan-manager.ts`
**Line:** 68
**Context:** `features: plan.features as string[] || [],`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-plan-manager.ts`
**Line:** 103
**Context:** `description: plan.description || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-plan-manager.ts`
**Line:** 107
**Context:** `features: plan.features as string[] || [],`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-plan-manager.ts`
**Line:** 143
**Context:** `description: plan.description || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\subscription-plan-manager.ts`
**Line:** 147
**Context:** `features: plan.features as string[] || [],`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\tag-utils.ts`
**Line:** 89
**Context:** `tag.name.toLowerCase() === categoryName.toLowerCase() ||`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\upload.ts`
**Line:** 21
**Context:** `if (!fileExtension || !['jpg', 'jpeg', 'png', 'gif', 'webp'].includes(fileExtension)) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\validation\booking-payment-validator.ts`
**Line:** 60
**Context:** `if (!enrollment) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\validation\booking-payment-validator.ts`
**Line:** 119
**Context:** `if (!booking) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\validation\booking-payment-validator.ts`
**Line:** 233
**Context:** `if (!booking) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\validation\booking-payment-validator.ts`
**Line:** 239
**Context:** `if (!enrollment) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\validation\booking-payment-validator.ts`
**Line:** 245
**Context:** `if (!payment) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\websocket.ts`
**Line:** 21
**Context:** `if (!WebSocketService.instance) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\websocket.ts`
**Line:** 30
**Context:** `origin: process.env.NEXT_PUBLIC_APP_URL || "http://localhost:3000",`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\websocket.ts`
**Line:** 109
**Context:** `if (!this.io) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\websocket.ts`
**Line:** 115
**Context:** `if (!userSockets || userSockets.length === 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\websocket.ts`
**Line:** 115
**Context:** `if (!userSockets || userSockets.length === 0) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\websocket.ts`
**Line:** 127
**Context:** `if (!this.io) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\websocket.ts`
**Line:** 138
**Context:** `if (!this.io) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\lib\websocket.ts`
**Line:** 149
**Context:** `if (!this.io) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\middleware.ts`
**Line:** 40
**Context:** `if (!token) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\middleware.ts`
**Line:** 49
**Context:** `if (!token) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\middleware.ts`
**Line:** 63
**Context:** `if (!token) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\prisma\seed.ts`
**Line:** 521
**Context:** `if (!existingProgress) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\public\sw.js`
**Line:** 121
**Context:** `if (request.method !== 'GET' || !url.protocol.startsWith('http')) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\public\sw.js`
**Line:** 149
**Context:** `return request.destination === 'image' ||`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\public\sw.js`
**Line:** 438
**Context:** `return history || [];`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\public\sw.js`
**Line:** 480
**Context:** `const urlToOpen = event.notification.data?.url || '/';`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\add-language-categories.ts`
**Line:** 231
**Context:** `if (!existingCategory) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\add-prioritization-fields.ts`
**Line:** 23
**Context:** `console.log(`   Current commission rate: ${testInstitution?.commissionRate || 'N/A'}`);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\audit-fix-booking-payment-consistency.ts`
**Line:** 24
**Context:** `if (!enrollment) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\audit-fix-booking-payment-consistency.ts`
**Line:** 35
**Context:** `if (!latestPayment) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\auto-fix-common-issues.ts`
**Line:** 204
**Context:** `file.endsWith('.tsx') || file.endsWith('.ts')`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\auto-fix-common-issues.ts`
**Line:** 231
**Context:** `if (result.fixes.length > 0 || result.errors.length > 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\auto-recover-records.ts`
**Line:** 128
**Context:** `if (remainingOrphanedPayments > 0 || remainingOrphanedEnrollments > 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\auto-recover-records.ts`
**Line:** 133
**Context:** `if (bookingsWithoutPayment > 0 || bookingsWithoutEnrollment > 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\automated-commission-cron.ts`
**Line:** 113
**Context:** `planType: inst.subscription?.planType || 'NONE',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\automated-commission-cron.ts`
**Line:** 224
**Context:** `const task = args[0] || 'all';`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-approval-settings.ts`
**Line:** 81
**Context:** `console.log(`     - Payment Method: ${payment.paymentMethod || 'Not specified'}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-approval-settings.ts`
**Line:** 107
**Context:** `(!payment.paymentMethod ||`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-approval-settings.ts`
**Line:** 111
**Context:** `if (!canApprove) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-approval-settings.ts`
**Line:** 112
**Context:** `if (!adminSettings?.allowInstitutionPaymentApproval) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-approval-settings.ts`
**Line:** 130
**Context:** `console.log(`  - Exempted Institutions: ${adminSettings?.institutionPaymentApprovalExemptions?.length || 0}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-approval-settings.ts`
**Line:** 152
**Context:** `(!payment.paymentMethod ||`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-dashboard-data.ts`
**Line:** 67
**Context:** `console.log(`    Course: ${enrollment?.course?.title || 'Unknown'}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-dashboard-data.ts`
**Line:** 68
**Context:** `console.log(`    Student ID: ${enrollment?.studentId || 'Unknown'}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-dashboard-data.ts`
**Line:** 71
**Context:** `console.log(`    Student Name: ${student?.name || user?.name || 'Unknown'}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-dashboard-data.ts`
**Line:** 72
**Context:** `console.log(`    Institution: ${enrollment?.course?.institution?.name || 'Unknown'}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-dashboard-data.ts`
**Line:** 113
**Context:** `console.log(`    Course: ${enrollment.course?.title || 'Unknown'}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-dashboard-data.ts`
**Line:** 117
**Context:** `console.log(`    Student Name: ${student?.name || user?.name || 'Unknown'} (${student?.email || user?.email || 'No email'})`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-dashboard-data.ts`
**Line:** 120
**Context:** `console.log(`    Institution: ${enrollment.course?.institution?.name || 'Unknown'}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-dashboard-data.ts`
**Line:** 186
**Context:** `console.log(`    Institution: ${course.institution?.name || 'Unknown'}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-dashboard-data.ts`
**Line:** 187
**Context:** `console.log(`    Base Price: $${course.base_price || 0}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-db-directly.ts`
**Line:** 42
**Context:** `console.log(`Length: ${abcSchool.mainImageUrl?.length || 'N/A'}`);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-email-settings.ts`
**Line:** 13
**Context:** `if (!emailSettings) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-email-settings.ts`
**Line:** 33
**Context:** `console.log(`SMTP_HOST:      ${process.env.SMTP_HOST || 'Not set'}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-email-settings.ts`
**Line:** 34
**Context:** `console.log(`SMTP_PORT:      ${process.env.SMTP_PORT || 'Not set'}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-email-settings.ts`
**Line:** 35
**Context:** `console.log(`SMTP_USER:      ${process.env.SMTP_USER || 'Not set'}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-email-settings.ts`
**Line:** 37
**Context:** `console.log(`SMTP_SECURE:    ${process.env.SMTP_SECURE || 'Not set'}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-email-settings.ts`
**Line:** 38
**Context:** `console.log(`SMTP_FROM_EMAIL: ${process.env.SMTP_FROM_EMAIL || 'Not set'}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-email-settings.ts`
**Line:** 39
**Context:** `console.log(`SMTP_FROM_NAME: ${process.env.SMTP_FROM_NAME || 'Not set'}`);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-email-settings.ts`
**Line:** 92
**Context:** `if (!emailSettings.fromEmail || !emailSettings.username || !emailSettings.password) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-email-settings.ts`
**Line:** 92
**Context:** `if (!emailSettings.fromEmail || !emailSettings.username || !emailSettings.password) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-email-settings.ts`
**Line:** 109
**Context:** `if (emailSettings.host && emailSettings.host.includes('outlook') || emailSettings.host.includes('hotmail')) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-env.ts`
**Line:** 28
**Context:** `console.log(`✅ ${varName}: ${varName.includes('SECRET') || varName.includes('KEY') ? '***SET***' : value}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-env.ts`
**Line:** 38
**Context:** `console.log(`✅ ${varName}: ${varName.includes('SECRET') || varName.includes('KEY') ? '***SET***' : value}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-env.ts`
**Line:** 45
**Context:** `console.log(`NEXTAUTH_URL: ${process.env.NEXTAUTH_URL || 'Not set'}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-env.ts`
**Line:** 47
**Context:** `console.log(`DATABASE_URL: ${process.env.DATABASE_URL || 'Not set'}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-env.ts`
**Line:** 50
**Context:** `console.log(`\nEnvironment: ${process.env.NODE_ENV || 'development'}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-env.ts`
**Line:** 59
**Context:** `console.log(`- Port: ${url.port || 'default'}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-institution-images.ts`
**Line:** 25
**Context:** `console.log(`   Logo URL: ${institution.logoUrl || 'NULL'}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-institution-images.ts`
**Line:** 26
**Context:** `console.log(`   Main Image URL: ${institution.mainImageUrl || 'NULL'}`);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-payment-statuses.ts`
**Line:** 24
**Context:** `if (!acc[status]) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-payment-statuses.ts`
**Line:** 36
**Context:** `console.log(`       - Payment Method: ${payment.paymentMethod || 'Not specified'}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-payment-statuses.ts`
**Line:** 50
**Context:** `const pendingPayments = payments.filter(p => p.status === 'PENDING' || p.status === 'PROCESSING');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-payment-statuses.ts`
**Line:** 64
**Context:** `p.status === 'PENDING' || p.status === 'PROCESSING'`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\check-payment-statuses.ts`
**Line:** 73
**Context:** `console.log(`    - Payment Method: ${payment.paymentMethod || 'Not specified'}`);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\cleanup-duplicates.ts`
**Line:** 20
**Context:** `if (!acc[key]) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\cleanup-orphaned-courses.ts`
**Line:** 72
**Context:** `const remainingCount = (remainingOrphaned as any[])[0]?.count || 0;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\cleanup-orphaned-enrollments.ts`
**Line:** 34
**Context:** `console.log(`   Course: ${enrollment.course?.title || 'Unknown'} (${enrollment.courseId})`);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\cleanup-orphaned-records.ts`
**Line:** 66
**Context:** `if (!dryRun) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\cleanup-orphaned-records.ts`
**Line:** 122
**Context:** `if (!dryRun) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\cleanup-orphaned-records.ts`
**Line:** 148
**Context:** `if (!dryRun) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\cleanup-orphaned-records.ts`
**Line:** 170
**Context:** `if (!dryRun) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\cleanup-orphaned-records.ts`
**Line:** 192
**Context:** `if (!dryRun) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\cleanup-orphaned-records.ts`
**Line:** 207
**Context:** `if (!acc[record.type]) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\cleanup-orphaned-records.ts`
**Line:** 218
**Context:** `console.log(`  Title: ${record.title || 'N/A'}`);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\cleanup-sample-data.ts`
**Line:** 142
**Context:** `if (!result.success) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\create-course.js`
**Line:** 28
**Context:** `if (!courseResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\create-course.js`
**Line:** 43
**Context:** `if (!tagsResponse.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\create-course.js`
**Line:** 55
**Context:** `if (!webDevTag || !programmingTag) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\create-course.js`
**Line:** 55
**Context:** `if (!webDevTag || !programmingTag) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\create-course.js`
**Line:** 73
**Context:** `if (!r.ok) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\create-course.js`
**Line:** 89
**Context:** `if (!process.env.ADMIN_TOKEN) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\create-e2e-test-users.ts`
**Line:** 65
**Context:** `if (!institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\create-sample-subscriptions.ts`
**Line:** 16
**Context:** `if (!institutionUser?.institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\create-test-adaptive-quiz.ts`
**Line:** 17
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\create-test-adaptive-quiz.ts`
**Line:** 23
**Context:** `if (!module) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\debug-subscription-data.ts`
**Line:** 23
**Context:** `console.log(`  ${index + 1}. Institution: ${sub.institution?.name || 'Unknown'}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\debug-subscription-data.ts`
**Line:** 24
**Context:** `console.log(`     Tier: ${sub.commissionTier?.name || 'NULL'} (ID: ${sub.commissionTierId})`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\debug-subscription-data.ts`
**Line:** 42
**Context:** `console.log(`  ${index + 1}. Student: ${sub.student?.name || 'Unknown'}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\debug-subscription-data.ts`
**Line:** 43
**Context:** `console.log(`     Tier: ${sub.studentTier?.name || 'NULL'} (ID: ${sub.studentTierId})`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-api-toast-imports.js`
**Line:** 13
**Context:** `} else if (file.endsWith('.ts') || file.endsWith('.tsx')) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-booking-payment-inconsistency.ts`
**Line:** 45
**Context:** `if (!enrollment) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-booking-payment-inconsistency.ts`
**Line:** 54
**Context:** `console.log(`   Payment status: ${latestPayment?.status || 'NO_PAYMENT'}`);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-booking-payment-inconsistency.ts`
**Line:** 149
**Context:** `if (!booking) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-common-errors.ts`
**Line:** 127
**Context:** `if (!acc[error.pattern.severity]) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-common-errors.ts`
**Line:** 190
**Context:** `suggestions += `// Use: institutionId || null\n`;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-common-errors.ts`
**Line:** 197
**Context:** `suggestions += `// Use: console.error('Error fetching institution:', error.message || error)\n`;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-common-errors.ts`
**Line:** 243
**Context:** `acc[error.pattern.severity] = (acc[error.pattern.severity] || 0) + 1;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-common-errors.ts`
**Line:** 248
**Context:** `console.log(`🔴 High severity: ${bySeverity.high || 0}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-common-errors.ts`
**Line:** 249
**Context:** `console.log(`🟡 Medium severity: ${bySeverity.medium || 0}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-common-errors.ts`
**Line:** 250
**Context:** `console.log(`🟢 Low severity: ${bySeverity.low || 0}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-console-errors.ts`
**Line:** 38
**Context:** `} else if (item.endsWith('.tsx') || item.endsWith('.ts')) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-console-errors.ts`
**Line:** 52
**Context:** `const hasToastImport = content.includes("import { toast } from 'sonner'") ||`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-console-errors.ts`
**Line:** 111
**Context:** `if (result.fixes.length > 0 || result.errors.length > 0) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-empty-commission-tier-ids.ts`
**Line:** 13
**Context:** `if (!starterTier) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-empty-student-tier-ids.ts`
**Line:** 13
**Context:** `if (!basicTier) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-ionos-smtp.ts`
**Line:** 14
**Context:** `if (!emailSettings) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-missing-student-records.ts`
**Line:** 34
**Context:** `if (!existingStudent) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-missing-student-records.ts`
**Line:** 85
**Context:** `if (!student) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-notification-templates.ts`
**Line:** 20
**Context:** `if (!anyUser) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-notification-templates.ts`
**Line:** 48
**Context:** `if (!user) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-server-console-errors.ts`
**Line:** 38
**Context:** `} else if (item.endsWith('.ts') || item.endsWith('.tsx')) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-server-console-errors.ts`
**Line:** 57
**Context:** `const hasLoggerImport = content.includes("import { logger") ||`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-server-console-errors.ts`
**Line:** 129
**Context:** `if (result.fixes.length > 0 || result.errors.length > 0) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-specific-booking.ts`
**Line:** 18
**Context:** `if (!booking) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-specific-booking.ts`
**Line:** 48
**Context:** `if (!enrollment) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-specific-booking.ts`
**Line:** 61
**Context:** `if (!latestPayment) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-specific-errors.ts`
**Line:** 17
**Context:** `replacement: "console.log('Sidebar - Institution ID from props:', institutionId || 'Not provided');",`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-unlinked-records.ts`
**Line:** 43
**Context:** `if (institutionSubs.length > 0 || studentSubs.length > 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-unused-imports.ts`
**Line:** 38
**Context:** `} else if (item.endsWith('.ts') || item.endsWith('.tsx')) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\fix-unused-imports.ts`
**Line:** 115
**Context:** `if (result.fixes.length > 0 || result.errors.length > 0) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\irt-parameter-guide.ts`
**Line:** 300
**Context:** `if (params.difficulty < -4 || params.difficulty > 4) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\irt-parameter-guide.ts`
**Line:** 305
**Context:** `if (params.discrimination < 0.1 || params.discrimination > 3) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\irt-parameter-guide.ts`
**Line:** 310
**Context:** `if (params.guessing < 0 || params.guessing > 1) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\manage-payment-approval-transition.ts`
**Line:** 29
**Context:** `if (!adminSettings) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\manage-payment-approval-transition.ts`
**Line:** 71
**Context:** `(!payment.paymentMethod ||`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\manage-payment-approval-transition.ts`
**Line:** 83
**Context:** `if (!adminSettings.allowInstitutionPaymentApproval) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\manage-payment-approval-transition.ts`
**Line:** 138
**Context:** `console.log(`     - Payment Method: ${payment.paymentMethod || 'Not specified'}`);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\manage-payment-approval-transition.ts`
**Line:** 167
**Context:** `if (!acc[payment.institutionName]) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\manage-payment-approval-transition.ts`
**Line:** 185
**Context:** `console.log(`   - Admin Only Reason: ${payments.find(p => p.reason !== 'Requires admin approval')?.reason || 'N/A'}`);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\migrate-institution-subscriptions-to-plans.ts`
**Line:** 45
**Context:** `if (!plan) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\migrate-legacy-categories.ts`
**Line:** 123
**Context:** `if (!targetCategory) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\migrate-legacy-categories.ts`
**Line:** 221
**Context:** `if (!acc[categoryName]) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\reassign-orphaned-modules.ts`
**Line:** 24
**Context:** `if (!acc[m.course_id]) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\reassign-orphaned-modules.ts`
**Line:** 33
**Context:** `const courseModules = modulesByCourse[course.id] || [];`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\reassign-orphaned-modules.ts`
**Line:** 112
**Context:** `if (!acc[module.course_id]) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\reassign-orphaned-modules.ts`
**Line:** 166
**Context:** `if (!dryRun) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\recover-deleted-records.ts`
**Line:** 24
**Context:** `if (!enrollment) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\recover-deleted-records.ts`
**Line:** 40
**Context:** `console.log(`    Student: ${student?.name || 'Unknown'} (${booking.studentId})`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\recover-deleted-records.ts`
**Line:** 41
**Context:** `console.log(`    Course: ${course?.title || 'Unknown'} (${booking.courseId})`);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\recover-deleted-records.ts`
**Line:** 60
**Context:** `if (!payment && enrollment.paymentStatus !== 'PENDING') {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\recover-deleted-records.ts`
**Line:** 76
**Context:** `console.log(`    Student: ${student?.name || 'Unknown'} (${enrollment.studentId})`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\recover-deleted-records.ts`
**Line:** 77
**Context:** `console.log(`    Course: ${course?.title || 'Unknown'} (${enrollment.courseId})`);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\recover-deleted-records.ts`
**Line:** 96
**Context:** `if (!enrollment) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\recover-deleted-records.ts`
**Line:** 110
**Context:** `console.log(`    Institution: ${institution?.name || 'Unknown'} (${payment.institutionId})`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\run-bug-detection.ts`
**Line:** 77
**Context:** `acc + (suite.specs?.length || 0), 0) || 0;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\run-bug-detection.ts`
**Line:** 111
**Context:** `if (suiteName.includes('Fast Refresh') || testName.includes('webpack')) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\run-bug-detection.ts`
**Line:** 114
**Context:** `} else if (suiteName.includes('Navigation') || testName.includes('routing')) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\run-bug-detection.ts`
**Line:** 117
**Context:** `} else if (suiteName.includes('API') || testName.includes('data loading')) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\run-bug-detection.ts`
**Line:** 120
**Context:** `} else if (suiteName.includes('UI') || testName.includes('rendering')) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\run-bug-detection.ts`
**Line:** 149
**Context:** `return suggestions[category] || 'Review the failing test and implement appropriate fixes';`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\run-bug-detection.ts`
**Line:** 268
**Context:** `file.endsWith('.tsx') || file.endsWith('.ts') || file.endsWith('.js')`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\run-bug-detection.ts`
**Line:** 311
**Context:** `acc[issue.category] = (acc[issue.category] || 0) + 1;`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\run-mobile-tests.ts`
**Line:** 152
**Context:** `if (!this.config.parallel) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\run-mobile-tests.ts`
**Line:** 234
**Context:** `averageDuration: results.reduce((sum, r) => sum + (r.duration || 0), 0) / total`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\run-mobile-tests.ts`
**Line:** 241
**Context:** `if (!groups[device]) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\run-mobile-tests.ts`
**Line:** 258
**Context:** `averageDuration: deviceResults.reduce((sum, r) => sum + (r.duration || 0), 0) / total`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\run-mobile-tests.ts`
**Line:** 265
**Context:** `r.title.toLowerCase().includes('performance') ||`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\run-mobile-tests.ts`
**Line:** 271
**Context:** `averageLoadTime: performanceTests.reduce((sum, r) => sum + (r.duration || 0), 0) / performanceTests.length,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\run-mobile-tests.ts`
**Line:** 273
**Context:** `(r.duration || 0) > (slowest.duration || 0) ? r : slowest`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\run-mobile-tests.ts`
**Line:** 276
**Context:** `(r.duration || 0) < (fastest.duration || 0) ? r : fastest`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\run-mobile-tests.ts`
**Line:** 293
**Context:** `const slowTests = results.filter(r => (r.duration || 0) > 5000);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\scan-errors.ts`
**Line:** 197
**Context:** `const lineContent = lines[lineNumber - 1] || '';`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\scan-errors.ts`
**Line:** 256
**Context:** `if (!acc[result.pattern.severity]) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\scan-errors.ts`
**Line:** 265
**Context:** `if (!acc[result.pattern.category]) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\scan-errors.ts`
**Line:** 289
**Context:** `if (!acc[result.pattern.name]) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\scan-errors.ts`
**Line:** 336
**Context:** `criticalIssues: bySeverity.critical?.slice(0, 10) || [],`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\seed-categories.ts`
**Line:** 109
**Context:** `if (!existingCategory) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\seed-courses.ts`
**Line:** 135
**Context:** `autoTags.has(tag.name.toLowerCase()) ||`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\seed-courses.ts`
**Line:** 136
**Context:** `autoTags.has(tag.slug?.toLowerCase() || '')`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\seed-modules.ts`
**Line:** 15
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\seed-tags.ts`
**Line:** 271
**Context:** `if (!existingCourse) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\seed-tags.ts`
**Line:** 294
**Context:** `return courseTitle.includes(tagName) || courseDescription.includes(tagName);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\setup-default-permissions.ts`
**Line:** 19
**Context:** `if (!existingPermissions) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\setup-promotional-sidebar.ts`
**Line:** 213
**Context:** `description: inst.description || `${inst.name} - Premium language education`,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\setup-promotional-sidebar.ts`
**Line:** 240
**Context:** `console.log(`   ${index + 1}. ${type}: ${item.title || item.name}`);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-admin-email.ts`
**Line:** 13
**Context:** `if (!emailSettings) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-admin-settings-auth.ts`
**Line:** 16
**Context:** `if (!adminUser) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-admin-settings-auth.ts`
**Line:** 207
**Context:** `priorityScore += (inst.commissionRate || 0);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-analytics-fix.ts`
**Line:** 33
**Context:** `if (!institution) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-analytics-fix.ts`
**Line:** 48
**Context:** `return paymentSum + (payment.amount || 0);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-analytics-fix.ts`
**Line:** 62
**Context:** `priorityScore += planBonus[institution.subscriptionPlan as keyof typeof planBonus] || 0;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-analytics-fix.ts`
**Line:** 63
**Context:** `priorityScore += (institution.commissionRate || 0) * 5;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-approval-filtering.ts`
**Line:** 33
**Context:** `console.log(`   Found ${searchResults.courses?.length || 0} courses in search`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-approval-filtering.ts`
**Line:** 46
**Context:** `console.log(`   Successfully fetched ${institution.name} with ${institution.courses?.length || 0} courses`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-approval-filtering.ts`
**Line:** 53
**Context:** `const nonApprovedInstitution = institutions.find((inst: any) => !inst.isApproved || inst.status !== 'ACTIVE');`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-architecture-redundancy.ts`
**Line:** 21
**Context:** `console.log(`    Features: ${Object.keys(tier.features || {}).filter(key => tier.features[key] === true).join(', ')}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-architecture-redundancy.ts`
**Line:** 54
**Context:** `console.log(`    Subscription Plan: ${sub.subscriptionPlan?.name || 'None'} (from SubscriptionPlan table)`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-architecture-redundancy.ts`
**Line:** 69
**Context:** `const starterFeatures = Object.keys(starterTier.features || {}).filter(key => starterTier.features[key] === true);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-architecture-redundancy.ts`
**Line:** 73
**Context:** `const professionalFeatures = Object.keys(professionalTier.features || {}).filter(key => professionalTier.features[key] === true);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-architecture-redundancy.ts`
**Line:** 77
**Context:** `const enterpriseFeatures = Object.keys(enterpriseTier.features || {}).filter(key => enterpriseTier.features[key] === true);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-auth-request.ts`
**Line:** 23
**Context:** `if (!admin1) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-auth.ts`
**Line:** 57
**Context:** `console.log(`Institution: ${institutionUser.institution?.name || 'Not linked'}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-commission-visibility.ts`
**Line:** 69
**Context:** `const roleName = role || 'UNAUTHENTICATED';`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-commission-visibility.ts`
**Line:** 109
**Context:** `const roleName = userRole || 'UNAUTHENTICATED';`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-commission-visibility.ts`
**Line:** 110
**Context:** `const shouldShow = (userRole === 'ADMIN' || userRole === 'INSTITUTION');`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-course-modules.ts`
**Line:** 22
**Context:** `if (!course) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-enhanced-subscription-plans.ts`
**Line:** 63
**Context:** `console.log(`    Plan: ${sub.planType} - ${sub.subscriptionPlan?.name || 'No linked plan'}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-enhanced-subscription-plans.ts`
**Line:** 78
**Context:** `const starterFeatures = Object.keys(starterTier.features || {}).filter(key => starterTier.features[key] === true);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-enhanced-subscription-plans.ts`
**Line:** 83
**Context:** `const professionalFeatures = Object.keys(professionalTier.features || {}).filter(key => professionalTier.features[key] === true);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-enhanced-subscription-plans.ts`
**Line:** 88
**Context:** `const enterpriseFeatures = Object.keys(enterpriseTier.features || {}).filter(key => enterpriseTier.features[key] === true);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-enhanced-subscription-plans.ts`
**Line:** 113
**Context:** `console.log(`✅ Subscription plans API: ${plansData.plans?.length || 0} plans returned`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-institution-monetization.ts`
**Line:** 53
**Context:** `priorityScore += planBonus[inst.subscriptionPlan as keyof typeof planBonus] || 0;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-institution-monetization.ts`
**Line:** 56
**Context:** `priorityScore += (inst.commissionRate || 0) * 5;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-institution-monetization.ts`
**Line:** 144
**Context:** `inst.isFeatured || inst.isPremiumListing || inst.isSponsoredListing`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-lead-tracking-integration.ts`
**Line:** 136
**Context:** `if (response.status === 200 || response.status === 401) { // 401 is expected for protected routes`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-login.ts`
**Line:** 15
**Context:** `if (!admin1) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-login.ts`
**Line:** 31
**Context:** `if (!admin2) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-mobile-simple.ts`
**Line:** 54
**Context:** `responsive: { passed: bodyWidth <= (viewport?.width || 0), value: bodyWidth },`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-mobile-simple.ts`
**Line:** 55
**Context:** `touchSupport: { passed: !device.isMobile || touchSupport, value: touchSupport },`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-mobile-simple.ts`
**Line:** 86
**Context:** `console.log(`   - ${test}: ${data.passed ? '✅' : '❌'} ${data.value || data.duration}ms`);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-notifications.ts`
**Line:** 39
**Context:** `if (!testUser) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-password-hash.ts`
**Line:** 23
**Context:** `if (!admin1) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-password-hash.ts`
**Line:** 59
**Context:** `if (!admin2) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-performance.ts`
**Line:** 90
**Context:** `const stats = endpointStats.get(result.endpoint) || {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-prioritization-system.ts`
**Line:** 49
**Context:** `priorityScore += (course.institution.commissionRate || 0) * 10;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-prioritization-system.ts`
**Line:** 68
**Context:** `priorityScore += planBonus[subscriptionPlan as keyof typeof planBonus] || 0;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-prioritization-system.ts`
**Line:** 79
**Context:** `const commissionRate = course.institution.commissionRate || 0;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-prioritization-system.ts`
**Line:** 94
**Context:** `subscriptionTier: course.institution.subscription?.commissionTier?.planType || 'NONE'`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-prioritization-system.ts`
**Line:** 114
**Context:** `const isHighCommission = (course.commissionRate || 0) >= 20;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-prioritization-system.ts`
**Line:** 115
**Context:** `const isVeryHighCommission = (course.commissionRate || 0) >= 25;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-prioritization-system.ts`
**Line:** 117
**Context:** `return isPremiumPlacement || isFeaturedPlacement || isHighCommission;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-prioritization-system.ts`
**Line:** 124
**Context:** `const highCommissionCount = advertisingEligible.filter(c => (c.commissionRate || 0) >= 20).length;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-prioritization-system.ts`
**Line:** 125
**Context:** `const veryHighCommissionCount = advertisingEligible.filter(c => (c.commissionRate || 0) >= 25).length;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-prioritization-system.ts`
**Line:** 155
**Context:** `const totalRev = totalRevenue._sum.amount || 0;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-prioritization-system.ts`
**Line:** 156
**Context:** `const commissionRev = commissionRevenue._sum.commissionAmount || 0;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-prioritization-system.ts`
**Line:** 179
**Context:** `const plan = stat.subscriptionPlan || 'BASIC';`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-prioritization-system.ts`
**Line:** 203
**Context:** `const rate = stat.commissionRate || 0;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-prioritization-system.ts`
**Line:** 270
**Context:** `console.log(`   Priority score: ${firstCourse.priorityScore || 'N/A'}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-prioritization-system.ts`
**Line:** 271
**Context:** `console.log(`   Commission band: ${firstCourse.commissionRateBand?.band || 'N/A'}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-prioritization-system.ts`
**Line:** 272
**Context:** `console.log(`   Effective subscription plan: ${firstCourse.effectiveSubscriptionPlan || 'N/A'}`);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-quiz-api.ts`
**Line:** 18
**Context:** `if (!institutionUser) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-quiz-api.ts`
**Line:** 53
**Context:** `if (!institutionId) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-quiz-api.ts`
**Line:** 73
**Context:** `institutionId: institutionId || ''`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-quiz-api.ts`
**Line:** 77
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-quiz-api.ts`
**Line:** 80
**Context:** `if (!category) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-quiz-api.ts`
**Line:** 98
**Context:** `institutionId: institutionId || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-quiz-api.ts`
**Line:** 99
**Context:** `categoryId: category?.id || '',`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-quiz-api.ts`
**Line:** 119
**Context:** `if (!module) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-quiz-api.ts`
**Line:** 124
**Context:** `course_id: course?.id || '',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-quiz-api.ts`
**Line:** 147
**Context:** `module_id: module?.id || 'test-module-id',`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-quiz-api.ts`
**Line:** 186
**Context:** `module_id: module?.id || 'test-module-id'`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-quiz-api.ts`
**Line:** 204
**Context:** `console.log(`- Institution ID: ${institutionId || 'Test Institution'}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-quiz-api.ts`
**Line:** 205
**Context:** `console.log(`- Course: ${course?.title || 'Test Course'}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-quiz-api.ts`
**Line:** 206
**Context:** `console.log(`- Module: ${module?.title || 'Test Module'}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-simplified-pricing-model.ts`
**Line:** 63
**Context:** `console.log(`     Subscription Plan: ${sub.subscriptionPlan?.name || 'None'}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-subscription-flow.ts`
**Line:** 64
**Context:** `console.log(`  - ${log.action}: ${log.oldPlan || 'N/A'} → ${log.newPlan || 'N/A'} (${log.reason})`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-subscription-flow.ts`
**Line:** 73
**Context:** `console.log(`  - ${log.action}: ${log.oldPlan || 'N/A'} → ${log.newPlan || 'N/A'} (${log.reason})`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-subscription-flow.ts`
**Line:** 119
**Context:** `console.log(`  - ${student.userId} (${student.id}) - Created: ${student.created_at?.toISOString() || 'N/A'}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-subscription-plans.ts`
**Line:** 7
**Context:** `url: process.env.DATABASE_URL || 'mysql://root:@localhost:3306/langcsebkg4a'`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-subscription-plans.ts`
**Line:** 104
**Context:** `console.log(`   - ${sub.institution.name}: ${sub.subscriptionPlan?.name || sub.planType} ($${sub.subscriptionPlan?.price || sub.amount})`);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-subscription-plans.ts`
**Line:** 106
**Context:** `if (!sub.subscriptionPlan) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-subscription-plans.ts`
**Line:** 133
**Context:** `if (error.message.includes('Unknown database') || error.message.includes('ECONNREFUSED')) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-updated-priority-algorithm.ts`
**Line:** 51
**Context:** `priorityScore += (course.institution.commissionRate || 0) * 10;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-updated-priority-algorithm.ts`
**Line:** 70
**Context:** `priorityScore += planBonus[subscriptionPlan as keyof typeof planBonus] || 0;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-updated-priority-algorithm.ts`
**Line:** 73
**Context:** `const commissionRate = course.institution.commissionRate || 0;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-updated-priority-algorithm.ts`
**Line:** 88
**Context:** `subscriptionTier: course.institution.subscription?.commissionTier?.planType || 'NONE'`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-updated-priority-algorithm.ts`
**Line:** 106
**Context:** `acc[course.commissionBand] = (acc[course.commissionBand] || 0) + 1;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-updated-priority-algorithm.ts`
**Line:** 136
**Context:** `acc[course.subscriptionTier] = (acc[course.subscriptionTier] || 0) + 1;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-updated-priority-algorithm.ts`
**Line:** 149
**Context:** `const commissionPoints = (course.commissionRate || 0) * 10;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-updated-priority-algorithm.ts`
**Line:** 158
**Context:** `const planPoints = planBonus[course.subscriptionPlan as keyof typeof planBonus] || 0;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-updated-priority-algorithm.ts`
**Line:** 189
**Context:** `console.log(`   Priority score: ${firstCourse.priorityScore || 'N/A'}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-updated-priority-algorithm.ts`
**Line:** 190
**Context:** `console.log(`   Commission band: ${firstCourse.commissionRateBand?.band || 'N/A'}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-updated-priority-algorithm.ts`
**Line:** 191
**Context:** `console.log(`   Effective subscription plan: ${firstCourse.effectiveSubscriptionPlan || 'N/A'}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-updated-priority-algorithm.ts`
**Line:** 207
**Context:** `console.log(`   - Very high commission courses (≥25%): ${bandStats['VERY_HIGH'] || 0}`);`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\test-updated-priority-algorithm.ts`
**Line:** 208
**Context:** `console.log(`   - High commission courses (≥20%): ${bandStats['HIGH'] || 0}`);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\update-categories.ts`
**Line:** 139
**Context:** `if (!coursesUsingCategory) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\update-payment-settings.ts`
**Line:** 15
**Context:** `if (!adminSettings) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\verify-booking-payment-status.ts`
**Line:** 18
**Context:** `if (!booking) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\verify-booking-payment-status.ts`
**Line:** 40
**Context:** `if (!enrollment) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\verify-booking-payment-status.ts`
**Line:** 99
**Context:** `if (!isBookingConsistent || !isEnrollmentConsistent) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\scripts\verify-booking-payment-status.ts`
**Line:** 99
**Context:** `if (!isBookingConsistent || !isEnrollmentConsistent) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\comprehensive-bug-detection.spec.ts`
**Line:** 193
**Context:** `expect(currentUrl.includes('/auth/') || currentUrl.includes('/login')).toBe(true);`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\e2e\debug-homepage.spec.ts`
**Line:** 57
**Context:** `if (!bodyVisibleAfterWait) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\e2e\global-setup.ts`
**Line:** 244
**Context:** `if (!existingStudent) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\e2e\global-setup.ts`
**Line:** 320
**Context:** `if (!institution || !category) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\e2e\global-setup.ts`
**Line:** 320
**Context:** `if (!institution || !category) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\e2e\global-setup.ts`
**Line:** 386
**Context:** `if (!existingEnrollment) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\e2e\global-setup.ts`
**Line:** 417
**Context:** `if (!admin || !student || !institution) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\e2e\global-setup.ts`
**Line:** 417
**Context:** `if (!admin || !student || !institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\e2e\global-setup.ts`
**Line:** 426
**Context:** `if (!studentProfile) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\e2e\global-setup.ts`
**Line:** 435
**Context:** `if (!testInstitution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\e2e\global-setup.ts`
**Line:** 444
**Context:** `if (!testCourse) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\e2e\mobile-performance-report.spec.ts`
**Line:** 27
**Context:** `if (box && (box.width < 44 || box.height < 44)) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\e2e\password-test.spec.ts`
**Line:** 16
**Context:** `if (!user) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\e2e\quick-homepage.spec.ts`
**Line:** 38
**Context:** `if (!bodyVisible) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\e2e\responsive.spec.ts`
**Line:** 18
**Context:** `const viewportWidth = page.viewportSize()?.width || 0;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\e2e\responsive.spec.ts`
**Line:** 167
**Context:** `width: page.viewportSize()?.height || 667,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\e2e\responsive.spec.ts`
**Line:** 168
**Context:** `height: page.viewportSize()?.width || 375`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\e2e\responsive.spec.ts`
**Line:** 175
**Context:** `width: page.viewportSize()?.height || 375,`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\e2e\responsive.spec.ts`
**Line:** 176
**Context:** `height: page.viewportSize()?.width || 667`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\e2e\server-connectivity.spec.ts`
**Line:** 32
**Context:** `if (bodyText?.includes('404') || bodyText?.includes('not found')) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\e2e\utils\test-helpers.ts`
**Line:** 90
**Context:** `const hasUserContent = document.body.textContent?.includes('Welcome') ||`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\e2e\utils\test-helpers.ts`
**Line:** 273
**Context:** `return await this.page.textContent(selector) || '';`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\e2e\utils\test-helpers.ts`
**Line:** 349
**Context:** `const hasAuth = document.body.textContent?.includes('Welcome') ||`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\global-teardown.ts`
**Line:** 46
**Context:** `duration: results.reduce((sum: number, r: any) => sum + (r.duration || 0), 0),`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\global-teardown.ts`
**Line:** 95
**Context:** `if (!groups[device]) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\integration\auth.test.ts`
**Line:** 49
**Context:** `if (!existingUser) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\integration\setup.ts`
**Line:** 95
**Context:** `if (!institution) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\integration\setup.ts`
**Line:** 114
**Context:** `if (!adminUser) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\integration\setup.ts`
**Line:** 130
**Context:** `if (!category) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\integration\setup.ts`
**Line:** 144
**Context:** `if (!course) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\mobile-device-testing.ts`
**Line:** 298
**Context:** `if (!this.currentDevice) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\mobile-device-testing.ts`
**Line:** 307
**Context:** `if (!viewport) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\mobile-device-testing.ts`
**Line:** 341
**Context:** `if (rect.width < minSize || rect.height < minSize) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\mobile-device-testing.ts`
**Line:** 381
**Context:** `if (!this.currentDevice) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\mobile-device-testing.ts`
**Line:** 388
**Context:** `if (!device.touchSupport) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\mobile-device-testing.ts`
**Line:** 459
**Context:** `if (!this.currentDevice) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\mobile-device-testing.ts`
**Line:** 475
**Context:** `if (!registration) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\mobile-device-testing.ts`
**Line:** 533
**Context:** `if (!this.currentDevice) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\mobile-device-testing.ts`
**Line:** 598
**Context:** `if (!this.currentDevice) {`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\mobile-device-testing.ts`
**Line:** 721
**Context:** `if (!groups[deviceName]) {`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\mobile-e2e.spec.ts`
**Line:** 120
**Context:** `const viewportHeight = page.viewportSize()?.height || 800;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\mobile-e2e.spec.ts`
**Line:** 163
**Context:** `return Array.from(imgs).filter(img => !img.complete || img.naturalWidth === 0).length;`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\mobile-e2e.spec.ts`
**Line:** 184
**Context:** `firstPaint: performance.getEntriesByName('first-paint')[0]?.startTime || 0`

### Fallback values that might mask issues
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\performance\load-test-processor.js`
**Line:** 35
**Context:** `requestParams.headers = requestParams.headers || {};`

### Negative condition checks that might be unclear
**File:** `C:\wamp64\www\myCursorProj\langcsebkg4a\tests\performance\load-test-processor.js`
**Line:** 97
**Context:** `if (!context.vars.metrics) {`

